\hypertarget{calcC__lintolog_8c}{}\doxysection{M\+E\+L\+A/test/calc\+C\+\_\+lintolog.c File Reference}
\label{calcC__lintolog_8c}\index{MELA/test/calcC\_lintolog.c@{MELA/test/calcC\_lintolog.c}}
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$fstream$>$}\newline
{\ttfamily \#include $<$iomanip$>$}\newline
{\ttfamily \#include $<$utility$>$}\newline
{\ttfamily \#include $<$algorithm$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include $<$cassert$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$cstdlib$>$}\newline
{\ttfamily \#include $<$unordered\+\_\+map$>$}\newline
{\ttfamily \#include \char`\"{}T\+R\+O\+O\+T.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Math.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Lorentz\+Vector.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Lorentz\+Rotation.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+File.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Tree.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Chain.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+String.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+F1.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Spline.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Canvas.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+H1\+F.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+H2\+F.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+H3\+F.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Profile.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Graph\+Errors.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}T\+Random.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Roo\+Num\+Int\+Config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Roo\+Real\+Integral.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Mela.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Scalar\+Pdf\+Factory\+\_\+\+V\+H.\+h\char`\"{}}\newline
Include dependency graph for calc\+C\+\_\+lintolog.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{calcC__lintolog_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structExtBin}{Ext\+Bin}}
\item 
struct \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{add\+By\+Lowest}} (std\+::vector$<$ T $>$ \&val\+Array, T val, bool unique)
\item 
{\footnotesize template$<$typename T , typename U $>$ }\\void \mbox{\hyperlink{calcC__lintolog_8c_ac3e4081f3087d4d0f5c8e8d0e9d57ed2}{add\+By\+Lowest}} (std\+::vector$<$ std\+::pair$<$ T, U $>$$>$ \&val\+Array, T val, U index)
\item 
{\footnotesize template$<$typename T $>$ }\\void \mbox{\hyperlink{calcC__lintolog_8c_aa43349b52c98662951698d59806dc97e}{append\+Vector}} (std\+::vector$<$ T $>$ \&a, std\+::vector$<$ T $>$ \&b)
\item 
{\footnotesize template$<$typename T $>$ }\\bool \mbox{\hyperlink{calcC__lintolog_8c_ac9fdc41deaff5d963cf06dad8f91e869}{check\+List\+Variable}} (const vector$<$ T $>$ \&list, const T \&var)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_adeef62b6204427efbfaae118249cb4c2}{split\+Option}} (const string rawoption, string \&wish, string \&\mbox{\hyperlink{output_8txt_a063b7170d86cdd0b4a2cb033ddc94217}{value}}, char delimiter)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aa2f38c31cbb69dcdcedb710bf5435660}{split\+Option\+Recursive}} (const string rawoption, vector$<$ string $>$ \&splitoptions, char delimiter)
\item 
float \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{find\+Pole\+Mass}} (T\+String samplename)
\item 
T\+Tree $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{find\+Tree}} (vector$<$ T\+Tree $\ast$ $>$ tree\+List, int evid)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{get\+Entry}} (vector$<$ T\+Tree $\ast$ $>$ tree\+List, int evid)
\item 
vector$<$ T\+String $>$ \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{construct\+Samples\+List}} (T\+String strsample, float \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}})
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a079f3455b27c8a4761ec6c90c1830499}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a84dc6a6e64c03c90f3bf7f38c709dba4}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a3c3ba12061485db264cd866010bd4638}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a22f2e290fe28461b6c6b0403f754d882}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aab953ff5ebb2ea3e45a2549b17186f16}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a0ae4bbca109ea8b92093b71e5d375dda}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a398134b22108b206297d76d076a3f907}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a4e0460ddc9f959523dd24fcdd51147e5}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+\+S\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_af8f21f7c12750bebdcbb4c34786ac9b5}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+bkg\+Z\+Z\+\_\+13\+TeV}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a77f5dab7573e5de04ed9635eae68524d}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Z\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13, bool recalculate=true)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a1cd893d1b20a9d957098ed8b0a18508e}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+I\+N\+D\+E\+P\+E\+N\+D\+E\+N\+T\+\_\+\+H\+S\+M\+Higgs}} (bool recalculate=false)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a3d4560436158ecde957f5eb15623340a}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs}} (bool recalculate=false)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aab79622f08c976cf7a30638f17e065c2}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs}} (bool recalculate=false)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a99e74d0c63266c4ab31c36d19016a3fa}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+bkg\+ZZ}} (bool recalculate=false)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a9a9d4c132284051fd2c4c901628bf514}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ}} (bool recalculate=false)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a24cb970d55f94f523fc020a948b1093e}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a2b9383546c9f8970ebfc6d57a1027684}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a33c65eecf83260556068c5d2a84acfeb}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}})
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ab1be664873e412656b70371b0d96f2ee}{get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Jets\+\_\+13\+Te\+V\+\_\+2l2q}} ()
\item 
T\+Spline3 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convert\+Graph\+To\+Spline3}} (T\+Graph $\ast$tg, double $\ast$dfirst=0, double $\ast$dlast=0)
\item 
T\+Spline3 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ad3bff15e87a76969d92bc00b7411d5e3}{convert\+Graph\+To\+Spline3\+\_\+\+Faithful\+Slopes}} (T\+Graph $\ast$tg, double $\ast$dfirst=0, double $\ast$dlast=0, bool faithful\+Low=true, bool faithful\+High=true)
\item 
T\+Spline5 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a748f8e78c2bd8a564901499e9567653d}{convert\+Graph\+To\+Spline5}} (T\+Graph $\ast$tg, double $\ast$dfirst=0, double $\ast$dlast=0)
\item 
T\+Spline3 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a44ac47aab2a2d880b7118a72b5af2e55}{convert\+T\+Spline5\+To\+Tspline3}} (T\+Spline5 $\ast$sp)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ac60163de274b558ad0ffaea560fc18ba}{get\+Fcn\+\_\+a0}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a70195c1e0b5bbeae27e40a15a36c0d6e}{get\+Fcn\+\_\+a0plusa1expX}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{get\+Fcn\+\_\+a0plusa1overX}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ae3ef6ebb7012fdb8ed5bbc0970926bd3}{get\+Fcn\+\_\+a0over\+X2minusa1overX}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a574246155eeaecebeff28c86bb4854e1}{get\+Fcn\+\_\+a0plus\+X\+Pinvminus\+Xpsqinv}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{get\+Fcn\+\_\+a0plusa1timesX}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ad9413873fd5ae6a0f6254c3f49e3ceea}{get\+Fcn\+\_\+a0plusa1times\+Xplusa2over\+X2}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+F1 $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a797c2f34081dcab551229e0c33134599}{get\+Fcn\+\_\+a0plusa1times\+Xplusa2times\+X2}} (T\+Spline3 $\ast$sp, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
T\+Graph $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_aa12795571583bfb827e6be250484e508}{get\+Patch\+\_\+a0a1}} (T\+Spline3 $\ast$sp, T\+Spline3 $\ast$sppatch, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound, bool force\+Output=true)
\item 
T\+Graph $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{get\+Patch\+\_\+a0plusa1overX}} (T\+Spline3 $\ast$sp, T\+Spline3 $\ast$sppatch, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound, bool force\+Output=true)
\item 
T\+Graph $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}{get\+Patch\+\_\+a0plusa1timesX}} (T\+Spline3 $\ast$sp, T\+Spline3 $\ast$sppatch, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound, bool force\+Output=true)
\item 
T\+Graph $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a0cfe36570dba9b00260af61079d7b8c9}{get\+Patch\+\_\+a0expa1timesX}} (T\+Spline3 $\ast$sp, T\+Spline3 $\ast$sppatch, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax, bool use\+Low\+Bound)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aec1f80ee5ffdba12f9dce71825793632}{regularize\+Slice}} (T\+Graph\+Errors $\ast$tg\+Slice, std\+::vector$<$ double $>$ $\ast$fixedX=0, double omitbelow=0., int n\+Iter\+\_\+=-\/1, double threshold\+\_\+=-\/1)
\item 
T\+Graph\+Errors $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a112734e2a1bf2535ddbc456d5fb182a7}{remove\+Points\+Between}} (T\+Graph\+Errors $\ast$tg\+Slice, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax)
\item 
T\+Graph\+Errors $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}{replace\+Points\+Between}} (T\+Graph\+Errors $\ast$tg\+Slice, double \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, double xmax)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a5c4568c8b538216172e9ca131d7103b7}{add\+Point}} (T\+Graph\+Errors $\ast$\&tg, double x, double y, double ex, double ey)
\item 
T\+Graph\+Errors $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_a50277120f8754768fd1dbad359398124}{add\+Point}} (T\+Graph\+Errors $\ast$tg\+Slice, double x)
\item 
T\+Graph\+Errors $\ast$ \mbox{\hyperlink{calcC__lintolog_8c_ad02b555ee4aacb24e746b8160c868b79}{add\+Point\+After\+Bin}} (T\+Graph\+Errors $\ast$tg\+Slice, int abin)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebin\+Average\+ME}} (T\+Graph\+Errors $\ast$\&tg, T\+Tree $\ast$\&tree, T\+Profile $\ast$\&pmass, \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} \&rediv, float \&Z\+Z\+Mass, float \&mesq, float \&weight)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}{generic\+\_\+\+P\+Avg\+Smooth\+Producer}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+F1 $\ast$($\ast$lowf)(T\+Spline3 $\ast$, double, double, bool), T\+F1 $\ast$($\ast$highf)(T\+Spline3 $\ast$, double, double, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, bool use\+Faithful\+Low\+Slopes=false, bool use\+Faithful\+High\+Slopes=false, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+F1 $\ast$($\ast$lowf)(T\+Spline3 $\ast$, double, double, bool), T\+F1 $\ast$($\ast$highf)(T\+Spline3 $\ast$, double, double, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, bool use\+Faithful\+Low\+Slopes=false, bool use\+Faithful\+High\+Slopes=false, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_afbced57a7077c690345af85ef34d0ca4}{generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+String strpatchpath, T\+String strpatchname, T\+Graph $\ast$($\ast$lowpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), T\+Graph $\ast$($\ast$highpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a30adde5d179cc8f2ebe41d34a30ddf27}{generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+String strpatchpath, T\+String strpatchname, T\+String strpatchpath2, T\+String strpatchname2, T\+Graph $\ast$($\ast$lowpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), T\+Graph $\ast$($\ast$highpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aa407755dd235762096d734077b8a9355}{generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+String strpatchpath, T\+String strpatchname, T\+F1 $\ast$($\ast$lowf)(T\+Spline3 $\ast$, double, double, bool), T\+Graph $\ast$($\ast$highpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ae33c3b6515a7db30ed86385a51325e36}{generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay}} (\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}} me, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}} prod, \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}} proc, T\+String strpatchpath, T\+String strpatchname, T\+Graph $\ast$($\ast$lowpatcher)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool), T\+F1 $\ast$($\ast$highf)(T\+Spline3 $\ast$, double, double, bool), int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=-\/1, vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$redivision=nullptr)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a0693b0dc6777acfb3a183b3e399f1779}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Jets\+\_\+2l2q}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a1ea27c1e70335e7b5a2a2b254b95b311}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a3db66960f980b1c7745ec9123781c6bf}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a9fc6a82ada34d83535da149c3f10776c}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ab2ec4b6ebe7fdeac0df6de8c6089ad49}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a2f5d787361c739bfa8f25807ab44a02e}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a76981dd8d00ad609daa0c6793db0fba2}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a45166d294448cac8c63a6d3e8efe0600}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+bkg\+ZZ}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aa9718d2df82d1f8beb713bb020a23899}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ}} ()
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a996799d715076960d33682ca147ff525}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+\+S\+\_\+\+H\+S\+M\+Higgs}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ad192f14cd2e5800f134e094c75ee4976}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+bkg\+ZZ}} (T\+String strprod, int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a80d6fe48b90c02505e64b81f2a74a812}{produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+ZZ}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_ac38d428298521a49c607b4cfd83aeeb0}{check\+\_\+\+J\+J\+V\+B\+F\+\_\+vs\+\_\+\+J\+J\+Q\+C\+D\+\_\+7or8\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_aa510bbed0cf6ec8685abf5238e1260ee}{check\+\_\+\+J\+J\+V\+B\+F\+\_\+vs\+\_\+\+J\+J\+Q\+C\+D\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a7bbac523442654341dfb3e27e60630b0}{check\+\_\+\+J\+Q\+C\+D\+\_\+7or8\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=8)
\item 
void \mbox{\hyperlink{calcC__lintolog_8c_a07c0775ca383b3a96c767b57c1657223}{check\+\_\+\+J\+Q\+C\+D\+\_\+13\+TeV}} (int \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}=13)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
T\+String \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\+\_\+7\+TeV}} = \char`\"{}/work-\/zfs/lhc/ianderso/hep/C\+J\+L\+ST/140519/P\+R\+O\+D\+F\+SR\char`\"{}
\item 
T\+String \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\+\_\+8\+TeV}} = \char`\"{}/work-\/zfs/lhc/ianderso/hep/C\+J\+L\+ST/140519b/P\+R\+O\+D\+F\+S\+R\+\_\+8\+TeV\char`\"{}
\item 
T\+String \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\+\_\+13\+TeV}} = \char`\"{}/work-\/zfs/lhc/C\+J\+L\+S\+Ttrees/180214\+\_\+2016\+MC\char`\"{}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{calcC__lintolog_8c_ac3e4081f3087d4d0f5c8e8d0e9d57ed2}\label{calcC__lintolog_8c_ac3e4081f3087d4d0f5c8e8d0e9d57ed2}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!addByLowest@{addByLowest}}
\index{addByLowest@{addByLowest}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{addByLowest()}{addByLowest()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename T , typename U $>$ \\
void add\+By\+Lowest (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::pair$<$ T, U $>$$>$ \&}]{val\+Array,  }\item[{T}]{val,  }\item[{U}]{index }\end{DoxyParamCaption})}



Definition at line 67 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{67                                                                                                      \{}
\DoxyCodeLine{68   \textcolor{keywordtype}{bool} inserted = \textcolor{keyword}{false};}
\DoxyCodeLine{69   \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} std::vector<std::pair<T, U>>::iterator it = valArray.begin(); it<valArray.end(); it++)\{}
\DoxyCodeLine{70     \textcolor{keywordflow}{if} ((*it).first>=val)\{}
\DoxyCodeLine{71       inserted=\textcolor{keyword}{true};}
\DoxyCodeLine{72       \textcolor{keywordflow}{if} ((*it).second!=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}) valArray.insert(it, std::pair<T, U>(val, \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}));}
\DoxyCodeLine{73       \textcolor{keywordflow}{break};}
\DoxyCodeLine{74     \}}
\DoxyCodeLine{75   \}}
\DoxyCodeLine{76   \textcolor{keywordflow}{if} (!inserted) valArray.push\_back(std::pair<T, U>(val, \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}));}
\DoxyCodeLine{77 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}\label{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!addByLowest@{addByLowest}}
\index{addByLowest@{addByLowest}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{addByLowest()}{addByLowest()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void add\+By\+Lowest (\begin{DoxyParamCaption}\item[{std\+::vector$<$ T $>$ \&}]{val\+Array,  }\item[{T}]{val,  }\item[{bool}]{unique }\end{DoxyParamCaption})}



Definition at line 45 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{45                                                                                  \{}
\DoxyCodeLine{46   \textcolor{keywordtype}{bool} inserted = \textcolor{keyword}{false};}
\DoxyCodeLine{47   \textcolor{keywordflow}{if} (unique)\{}
\DoxyCodeLine{48     \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} std::vector<T>::iterator it = valArray.begin(); it<valArray.end(); it++)\{}
\DoxyCodeLine{49       \textcolor{keywordflow}{if} (*it==val)\{}
\DoxyCodeLine{50         inserted=\textcolor{keyword}{true};}
\DoxyCodeLine{51         \textcolor{keywordflow}{break};}
\DoxyCodeLine{52       \}}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54   \}}
\DoxyCodeLine{55   \textcolor{keywordflow}{if} (!inserted)\{}
\DoxyCodeLine{56     \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} std::vector<T>::iterator it = valArray.begin(); it<valArray.end(); it++)\{}
\DoxyCodeLine{57       \textcolor{keywordflow}{if} (*it>=val)\{}
\DoxyCodeLine{58         inserted=\textcolor{keyword}{true};}
\DoxyCodeLine{59         valArray.insert(it, val);}
\DoxyCodeLine{60         \textcolor{keywordflow}{break};}
\DoxyCodeLine{61       \}}
\DoxyCodeLine{62     \}}
\DoxyCodeLine{63   \}}
\DoxyCodeLine{64   \textcolor{keywordflow}{if} (!inserted) valArray.push\_back(val);}
\DoxyCodeLine{65 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a5c4568c8b538216172e9ca131d7103b7}\label{calcC__lintolog_8c_a5c4568c8b538216172e9ca131d7103b7}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!addPoint@{addPoint}}
\index{addPoint@{addPoint}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{addPoint()}{addPoint()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void add\+Point (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$\&}]{tg,  }\item[{double}]{x,  }\item[{double}]{y,  }\item[{double}]{ex,  }\item[{double}]{ey }\end{DoxyParamCaption})}



Definition at line 7375 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7375                                                                           \{}
\DoxyCodeLine{7376   TString strname = tg-\/>GetName();}
\DoxyCodeLine{7377   TString strtitle = tg-\/>GetTitle();}
\DoxyCodeLine{7378   TString strxtitle = tg-\/>GetXaxis()-\/>GetTitle();}
\DoxyCodeLine{7379   TString strytitle = tg-\/>GetYaxis()-\/>GetTitle();}
\DoxyCodeLine{7380 }
\DoxyCodeLine{7381   vector<double> xarray;}
\DoxyCodeLine{7382   vector<double> yarray;}
\DoxyCodeLine{7383   vector<double> exarray;}
\DoxyCodeLine{7384   vector<double> eyarray;}
\DoxyCodeLine{7385   xarray.push\_back(x);}
\DoxyCodeLine{7386   yarray.push\_back(y);}
\DoxyCodeLine{7387   exarray.push\_back(ex);}
\DoxyCodeLine{7388   eyarray.push\_back(ey);}
\DoxyCodeLine{7389   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<tg-\/>GetN(); ip++)\{}
\DoxyCodeLine{7390     \textcolor{keywordflow}{if} (tg-\/>GetX()[ip]!=x)\{}
\DoxyCodeLine{7391       xarray.push\_back(tg-\/>GetX()[ip]);}
\DoxyCodeLine{7392       yarray.push\_back(tg-\/>GetY()[ip]);}
\DoxyCodeLine{7393       exarray.push\_back(tg-\/>GetEX()[ip]);}
\DoxyCodeLine{7394       eyarray.push\_back(tg-\/>GetEY()[ip]);}
\DoxyCodeLine{7395     \}}
\DoxyCodeLine{7396   \}}
\DoxyCodeLine{7397   vector<pair<double, int>> xorder;}
\DoxyCodeLine{7398   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ip=0; ip<xarray.size(); ip++) addByLowest<double, int>(xorder, xarray.at(ip), ip);}
\DoxyCodeLine{7399 }
\DoxyCodeLine{7400   \textcolor{keywordtype}{double}* xynew[4];}
\DoxyCodeLine{7401   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<4; i++) xynew[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[xorder.size()];}
\DoxyCodeLine{7402   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ip=0; ip<xarray.size(); ip++)\{}
\DoxyCodeLine{7403     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pos = xorder[ip].second;}
\DoxyCodeLine{7404     xynew[0][ip] = xarray[pos];}
\DoxyCodeLine{7405     xynew[1][ip] = yarray[pos];}
\DoxyCodeLine{7406     xynew[2][ip] = exarray[pos];}
\DoxyCodeLine{7407     xynew[3][ip] = eyarray[pos];}
\DoxyCodeLine{7408   \}}
\DoxyCodeLine{7409 }
\DoxyCodeLine{7410   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{7411 }
\DoxyCodeLine{7412   tg = \textcolor{keyword}{new} TGraphErrors(xorder.size(), xynew[0], xynew[1], xynew[2], xynew[3]);}
\DoxyCodeLine{7413   tg-\/>SetName(strname);}
\DoxyCodeLine{7414   tg-\/>SetTitle(strtitle);}
\DoxyCodeLine{7415   tg-\/>GetXaxis()-\/>SetTitle(strxtitle);}
\DoxyCodeLine{7416   tg-\/>GetYaxis()-\/>SetTitle(strytitle);}
\DoxyCodeLine{7417   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<4; i++) \textcolor{keyword}{delete}[] xynew[i];}
\DoxyCodeLine{7418 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a50277120f8754768fd1dbad359398124}\label{calcC__lintolog_8c_a50277120f8754768fd1dbad359398124}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!addPoint@{addPoint}}
\index{addPoint@{addPoint}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{addPoint()}{addPoint()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily T\+Graph\+Errors$\ast$ add\+Point (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$}]{tg\+Slice,  }\item[{double}]{x }\end{DoxyParamCaption})}



Definition at line 7420 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7420                                                        \{}
\DoxyCodeLine{7421   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins\_slice = tgSlice-\/>GetN();}
\DoxyCodeLine{7422   \textcolor{keywordtype}{double}* xexyey\_slice[4]=\{}
\DoxyCodeLine{7423     tgSlice-\/>GetX(),}
\DoxyCodeLine{7424     tgSlice-\/>GetEX(),}
\DoxyCodeLine{7425     tgSlice-\/>GetY(),}
\DoxyCodeLine{7426     tgSlice-\/>GetEY()}
\DoxyCodeLine{7427   \};}
\DoxyCodeLine{7428 }
\DoxyCodeLine{7429   \textcolor{keywordtype}{double} xexyey[4][nbins\_slice+1];}
\DoxyCodeLine{7430   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} lowbin=0, highbin=0;}
\DoxyCodeLine{7431   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7432     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]<x) lowbin=iy;}
\DoxyCodeLine{7433     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]>x)\{ highbin=iy; \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{7434   \}}
\DoxyCodeLine{7435   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Low bin "} << lowbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][lowbin] << endl;}
\DoxyCodeLine{7436   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"High bin "} << highbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][highbin] << endl;}
\DoxyCodeLine{7437 }
\DoxyCodeLine{7438   \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{7439   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7440     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix][ctr] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7441     ctr++;}
\DoxyCodeLine{7442     \textcolor{keywordflow}{if} (iy==lowbin)\{}
\DoxyCodeLine{7443       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7444         \textcolor{keywordtype}{double} ylow = xexyey\_slice[ix][lowbin];}
\DoxyCodeLine{7445         \textcolor{keywordtype}{double} yhigh = xexyey\_slice[ix][highbin];}
\DoxyCodeLine{7446         \textcolor{keywordtype}{double} val = (yhigh+ylow)*0.5;}
\DoxyCodeLine{7447         xexyey[ix][ctr] = val;}
\DoxyCodeLine{7448       \}}
\DoxyCodeLine{7449       ctr++;}
\DoxyCodeLine{7450     \}}
\DoxyCodeLine{7451   \}}
\DoxyCodeLine{7452   TGraphErrors* tgSlice\_new = \textcolor{keyword}{new} TGraphErrors(ctr, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{7453   tgSlice\_new-\/>SetName(tgSlice-\/>GetName());}
\DoxyCodeLine{7454   tgSlice\_new-\/>SetTitle(tgSlice-\/>GetTitle());}
\DoxyCodeLine{7455   \textcolor{keywordflow}{return} tgSlice\_new;}
\DoxyCodeLine{7456 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad02b555ee4aacb24e746b8160c868b79}\label{calcC__lintolog_8c_ad02b555ee4aacb24e746b8160c868b79}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!addPointAfterBin@{addPointAfterBin}}
\index{addPointAfterBin@{addPointAfterBin}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{addPointAfterBin()}{addPointAfterBin()}}
{\footnotesize\ttfamily T\+Graph\+Errors$\ast$ add\+Point\+After\+Bin (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$}]{tg\+Slice,  }\item[{int}]{abin }\end{DoxyParamCaption})}



Definition at line 7458 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7458                                                                \{}
\DoxyCodeLine{7459   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins\_slice = tgSlice-\/>GetN();}
\DoxyCodeLine{7460   \textcolor{keywordtype}{double}* xexyey\_slice[4]=\{}
\DoxyCodeLine{7461     tgSlice-\/>GetX(),}
\DoxyCodeLine{7462     tgSlice-\/>GetEX(),}
\DoxyCodeLine{7463     tgSlice-\/>GetY(),}
\DoxyCodeLine{7464     tgSlice-\/>GetEY()}
\DoxyCodeLine{7465   \};}
\DoxyCodeLine{7466 }
\DoxyCodeLine{7467   \textcolor{keywordtype}{double} xexyey[4][nbins\_slice+1];}
\DoxyCodeLine{7468   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} lowbin=abin, highbin=abin+1;}
\DoxyCodeLine{7469   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Low bin "} << lowbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][lowbin] << endl;}
\DoxyCodeLine{7470   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"High bin "} << highbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][highbin] << endl;}
\DoxyCodeLine{7471 }
\DoxyCodeLine{7472   \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{7473   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7474     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix][ctr] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7475     ctr++;}
\DoxyCodeLine{7476     \textcolor{keywordflow}{if} (iy==lowbin)\{}
\DoxyCodeLine{7477       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7478         \textcolor{keywordtype}{double} ylow = xexyey\_slice[ix][lowbin];}
\DoxyCodeLine{7479         \textcolor{keywordtype}{double} yhigh = xexyey\_slice[ix][highbin];}
\DoxyCodeLine{7480         \textcolor{keywordtype}{double} val = (yhigh+ylow)*0.5;}
\DoxyCodeLine{7481         xexyey[ix][ctr] = val;}
\DoxyCodeLine{7482       \}}
\DoxyCodeLine{7483       ctr++;}
\DoxyCodeLine{7484       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Adding additional point at "} << xexyey[0][ctr-\/1] << \textcolor{charliteral}{'\(\backslash\)t'} << xexyey[2][ctr-\/1] << endl;}
\DoxyCodeLine{7485     \}}
\DoxyCodeLine{7486   \}}
\DoxyCodeLine{7487   TGraphErrors* tgSlice\_new = \textcolor{keyword}{new} TGraphErrors(ctr, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{7488   tgSlice\_new-\/>SetName(tgSlice-\/>GetName());}
\DoxyCodeLine{7489   tgSlice\_new-\/>SetTitle(tgSlice-\/>GetTitle());}
\DoxyCodeLine{7490   \textcolor{keywordflow}{return} tgSlice\_new;}
\DoxyCodeLine{7491 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa43349b52c98662951698d59806dc97e}\label{calcC__lintolog_8c_aa43349b52c98662951698d59806dc97e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!appendVector@{appendVector}}
\index{appendVector@{appendVector}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{appendVector()}{appendVector()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void append\+Vector (\begin{DoxyParamCaption}\item[{std\+::vector$<$ T $>$ \&}]{a,  }\item[{std\+::vector$<$ T $>$ \&}]{b }\end{DoxyParamCaption})}



Definition at line 79 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{79 \{ a.insert(a.end(), b.begin(), b.end()); \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa510bbed0cf6ec8685abf5238e1260ee}\label{calcC__lintolog_8c_aa510bbed0cf6ec8685abf5238e1260ee}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!check\_JJVBF\_vs\_JJQCD\_13TeV@{check\_JJVBF\_vs\_JJQCD\_13TeV}}
\index{check\_JJVBF\_vs\_JJQCD\_13TeV@{check\_JJVBF\_vs\_JJQCD\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{check\_JJVBF\_vs\_JJQCD\_13TeV()}{check\_JJVBF\_vs\_JJQCD\_13TeV()}}
{\footnotesize\ttfamily void check\+\_\+\+J\+J\+V\+B\+F\+\_\+vs\+\_\+\+J\+J\+Q\+C\+D\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8979 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8979                                              \{}
\DoxyCodeLine{8980   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{8981   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{8982   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{8983 }
\DoxyCodeLine{8984   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{8985   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{8986 }
\DoxyCodeLine{8987   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{8988   std::vector<float>* JetPt=0;}
\DoxyCodeLine{8989   std::vector<float>* JetEta=0;}
\DoxyCodeLine{8990   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{8991   std::vector<float>* JetMass=0;}
\DoxyCodeLine{8992   std::vector<float> myJetPt;}
\DoxyCodeLine{8993   std::vector<float> myJetEta;}
\DoxyCodeLine{8994   std::vector<float> myJetPhi;}
\DoxyCodeLine{8995   std::vector<float> myJetMass;}
\DoxyCodeLine{8996   TBranch* bJetPt=0;}
\DoxyCodeLine{8997   TBranch* bJetEta=0;}
\DoxyCodeLine{8998   TBranch* bJetPhi=0;}
\DoxyCodeLine{8999   TBranch* bJetMass=0;}
\DoxyCodeLine{9000   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{9001 }
\DoxyCodeLine{9002   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{9003   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{9004   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{9005   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{9006   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{9007   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{9008   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{9009   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{9010   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{9011   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{9012 }
\DoxyCodeLine{9013   TString cinput\_main;}
\DoxyCodeLine{9014   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/usarical/CJLST/LHC\_13TeV/4l/160225"};}
\DoxyCodeLine{9015   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{9016   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JJVBF = 33;}
\DoxyCodeLine{9017   TString strSamples\_JJVBF[nSamples\_JJVBF]=\{}
\DoxyCodeLine{9018     \textcolor{stringliteral}{"VBFH115/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9019     \textcolor{stringliteral}{"VBFH120/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9020     \textcolor{stringliteral}{"VBFH124/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9021     \textcolor{stringliteral}{"VBFH125/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9022     \textcolor{stringliteral}{"VBFH126/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9023     \textcolor{stringliteral}{"VBFH130/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9024     \textcolor{stringliteral}{"VBFH135/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9025     \textcolor{stringliteral}{"VBFH140/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9026     \textcolor{stringliteral}{"VBFH145/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9027     \textcolor{stringliteral}{"VBFH150/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9028     \textcolor{stringliteral}{"VBFH155/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9029     \textcolor{stringliteral}{"VBFH160/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9030     \textcolor{stringliteral}{"VBFH165/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9031     \textcolor{stringliteral}{"VBFH170/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9032     \textcolor{stringliteral}{"VBFH175/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9033     \textcolor{stringliteral}{"VBFH180/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9034     \textcolor{stringliteral}{"VBFH190/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9035     \textcolor{stringliteral}{"VBFH200/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9036     \textcolor{stringliteral}{"VBFH210/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9037     \textcolor{stringliteral}{"VBFH230/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9038     \textcolor{stringliteral}{"VBFH250/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9039     \textcolor{stringliteral}{"VBFH270/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9040     \textcolor{stringliteral}{"VBFH300/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9041     \textcolor{stringliteral}{"VBFH350/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9042     \textcolor{stringliteral}{"VBFH400/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9043     \textcolor{stringliteral}{"VBFH450/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9044     \textcolor{stringliteral}{"VBFH500/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9045     \textcolor{stringliteral}{"VBFH550/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9046     \textcolor{stringliteral}{"VBFH600/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9047     \textcolor{stringliteral}{"VBFH700/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9048     \textcolor{stringliteral}{"VBFH750/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9049     \textcolor{stringliteral}{"VBFH800/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9050     \textcolor{stringliteral}{"VBFH900/ZZ4lAnalysis.root"}}
\DoxyCodeLine{9051   \};}
\DoxyCodeLine{9052   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JJQCD = 35;}
\DoxyCodeLine{9053   TString strSamples\_JJQCD[nSamples\_JJQCD]=\{}
\DoxyCodeLine{9054     \textcolor{stringliteral}{"ggH91\_GaZ/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9055     \textcolor{stringliteral}{"ggH115/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9056     \textcolor{stringliteral}{"ggH120/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9057     \textcolor{stringliteral}{"ggH124/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9058     \textcolor{stringliteral}{"ggH125/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9059     \textcolor{stringliteral}{"ggH126/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9060     \textcolor{stringliteral}{"ggH130/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9061     \textcolor{stringliteral}{"ggH135/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9062     \textcolor{stringliteral}{"ggH140/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9063     \textcolor{stringliteral}{"ggH145/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9064     \textcolor{stringliteral}{"ggH150/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9065     \textcolor{stringliteral}{"ggH155/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9066     \textcolor{stringliteral}{"ggH160/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9067     \textcolor{stringliteral}{"ggH165/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9068     \textcolor{stringliteral}{"ggH170/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9069     \textcolor{stringliteral}{"ggH175/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9070     \textcolor{stringliteral}{"ggH180/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9071     \textcolor{stringliteral}{"ggH190/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9072     \textcolor{stringliteral}{"ggH200/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9073     \textcolor{stringliteral}{"ggH210/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9074     \textcolor{stringliteral}{"ggH230/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9075     \textcolor{stringliteral}{"ggH250/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9076     \textcolor{stringliteral}{"ggH270/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9077     \textcolor{stringliteral}{"ggH300/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9078     \textcolor{stringliteral}{"ggH350/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9079     \textcolor{stringliteral}{"ggH400/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9080     \textcolor{stringliteral}{"ggH450/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9081     \textcolor{stringliteral}{"ggH500/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9082     \textcolor{stringliteral}{"ggH550/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9083     \textcolor{stringliteral}{"ggH600/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9084     \textcolor{stringliteral}{"ggH700/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9085     \textcolor{stringliteral}{"ggH750/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9086     \textcolor{stringliteral}{"ggH800/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9087     \textcolor{stringliteral}{"ggH900/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9088     \textcolor{stringliteral}{"ggH1000/ZZ4lAnalysis.root"}}
\DoxyCodeLine{9089   \};}
\DoxyCodeLine{9090 }
\DoxyCodeLine{9091   TChain* tree[2] =\{}
\DoxyCodeLine{9092     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""}),}
\DoxyCodeLine{9093     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""})}
\DoxyCodeLine{9094   \};}
\DoxyCodeLine{9095   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JJVBF; is++) tree[0]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s"}, cinput\_main.Data(), (strSamples\_JJVBF[is]).Data()));}
\DoxyCodeLine{9096   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JJQCD; is++) tree[1]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s"}, cinput\_main.Data(), (strSamples\_JJQCD[is]).Data()));}
\DoxyCodeLine{9097 }
\DoxyCodeLine{9098   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<2; it++)\{}
\DoxyCodeLine{9099     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{9100     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt, \&bJetPt);}
\DoxyCodeLine{9101     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta, \&bJetEta);}
\DoxyCodeLine{9102     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi, \&bJetPhi);}
\DoxyCodeLine{9103     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass, \&bJetMass);}
\DoxyCodeLine{9104     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{9105     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{9106     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{9107     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{9108     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{9109     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{9110     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{9111     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{9112     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{9113     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{9114     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{9115   \}}
\DoxyCodeLine{9116 }
\DoxyCodeLine{9117   TFile* foutput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pJHUGen\_JJVBF\_JJQCD\_HSMHiggs\_Comparison\_\%iTeV.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{9118 }
\DoxyCodeLine{9119   TH2F* hJJVBF = \textcolor{keyword}{new} TH2F(\textcolor{stringliteral}{"JJVBF"}, \textcolor{stringliteral}{""}, 75, 70, 1570, 10, 0, 1);}
\DoxyCodeLine{9120   TH2F* hJJQCD = \textcolor{keyword}{new} TH2F(\textcolor{stringliteral}{"JJQCD"}, \textcolor{stringliteral}{""}, 75, 70, 1570, 10, 0, 1);}
\DoxyCodeLine{9121 }
\DoxyCodeLine{9122   TProfile* prJJVBF = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJJVBF"}, \textcolor{stringliteral}{""}, 75, 70, 1570); prJJVBF-\/>Sumw2();}
\DoxyCodeLine{9123   TProfile* prJJQCD = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJJQCD"}, \textcolor{stringliteral}{""}, 75, 70, 1570); prJJQCD-\/>Sumw2();}
\DoxyCodeLine{9124 }
\DoxyCodeLine{9125   TProfile* prRatioForJJVBF = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prRatioForJJVBF"}, \textcolor{stringliteral}{""}, 75, 70, 1570); prRatioForJJVBF-\/>Sumw2();}
\DoxyCodeLine{9126   TProfile* prRatioForJJQCD = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prRatioForJJQCD"}, \textcolor{stringliteral}{""}, 75, 70, 1570); prRatioForJJQCD-\/>Sumw2();}
\DoxyCodeLine{9127 }
\DoxyCodeLine{9128   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{9129 }
\DoxyCodeLine{9130   \textcolor{keywordtype}{int} nTotalEntries = tree[0]-\/>GetEntries();}
\DoxyCodeLine{9131   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{9132     tree[0]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{9133     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{9134     \textcolor{keywordflow}{if} (NJets30>=2)\{}
\DoxyCodeLine{9135       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++)\{}
\DoxyCodeLine{9136         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{9137         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{9138         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{9139         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{9140       \}}
\DoxyCodeLine{9141 }
\DoxyCodeLine{9142       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{9143       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{9144       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{9145       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{9146 }
\DoxyCodeLine{9147       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{9148       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{9149       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{9150 }
\DoxyCodeLine{9151       TLorentzVector pDaughters[4];}
\DoxyCodeLine{9152       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{9153       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{9154       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{9155       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{9156       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{9157 }
\DoxyCodeLine{9158       \textcolor{keywordtype}{float} mesq\_jjvbf=0, mesq\_jjqcd=0;}
\DoxyCodeLine{9159       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}});}
\DoxyCodeLine{9160       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{9161       mela.computeProdP(mesq\_jjvbf, \textcolor{keyword}{true});}
\DoxyCodeLine{9162       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}});}
\DoxyCodeLine{9163       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{9164       mela.computeProdP(mesq\_jjqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{9165       \textcolor{keywordtype}{float} kd = mesq\_jjvbf/(mesq\_jjvbf+0.06*mesq\_jjqcd);}
\DoxyCodeLine{9166 }
\DoxyCodeLine{9167       hJJVBF-\/>Fill(mzz, kd);}
\DoxyCodeLine{9168       prJJVBF-\/>Fill(mzz, mesq\_jjvbf);}
\DoxyCodeLine{9169       \textcolor{keywordflow}{if} (mesq\_jjvbf>0.) prRatioForJJVBF-\/>Fill(mzz, mesq\_jjqcd/mesq\_jjvbf);}
\DoxyCodeLine{9170 }
\DoxyCodeLine{9171       mela.resetInputEvent();}
\DoxyCodeLine{9172     \}}
\DoxyCodeLine{9173   \}}
\DoxyCodeLine{9174   nTotalEntries = tree[1]-\/>GetEntries();}
\DoxyCodeLine{9175   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{9176     tree[1]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{9177     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{9178     \textcolor{keywordflow}{if} (NJets30>=2)\{}
\DoxyCodeLine{9179       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++)\{}
\DoxyCodeLine{9180         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{9181         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{9182         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{9183         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{9184       \}}
\DoxyCodeLine{9185 }
\DoxyCodeLine{9186       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{9187       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{9188       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{9189       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{9190 }
\DoxyCodeLine{9191       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{9192       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{9193       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{9194 }
\DoxyCodeLine{9195       TLorentzVector pDaughters[4];}
\DoxyCodeLine{9196       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{9197       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{9198       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{9199       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{9200       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{9201 }
\DoxyCodeLine{9202       \textcolor{keywordtype}{float} mesq\_jjvbf=0, mesq\_jjqcd=0;}
\DoxyCodeLine{9203       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}});}
\DoxyCodeLine{9204       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{9205       mela.computeProdP(mesq\_jjvbf, \textcolor{keyword}{true});}
\DoxyCodeLine{9206       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}});}
\DoxyCodeLine{9207       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{9208       mela.computeProdP(mesq\_jjqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{9209       \textcolor{keywordtype}{float} kd = mesq\_jjvbf/(mesq\_jjvbf+0.06*mesq\_jjqcd);}
\DoxyCodeLine{9210 }
\DoxyCodeLine{9211       hJJQCD-\/>Fill(mzz, kd);}
\DoxyCodeLine{9212       prJJQCD-\/>Fill(mzz, mesq\_jjqcd);}
\DoxyCodeLine{9213       \textcolor{keywordflow}{if} (mesq\_jjvbf>0.) prRatioForJJQCD-\/>Fill(mzz, mesq\_jjqcd/mesq\_jjvbf);}
\DoxyCodeLine{9214 }
\DoxyCodeLine{9215       mela.resetInputEvent();}
\DoxyCodeLine{9216     \}}
\DoxyCodeLine{9217   \}}
\DoxyCodeLine{9218 }
\DoxyCodeLine{9219   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<=hJJVBF-\/>GetNbinsX(); ix++)\{}
\DoxyCodeLine{9220     \textcolor{keywordtype}{double} integral = hJJVBF-\/>Integral(ix, ix, 0, hJJVBF-\/>GetNbinsY()+1);}
\DoxyCodeLine{9221     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iy=0; iy<=hJJVBF-\/>GetNbinsY(); iy++)\{ \textcolor{keywordflow}{if} (integral!=0.) hJJVBF-\/>SetBinContent(ix, iy, hJJVBF-\/>GetBinContent(ix, iy)/integral); \}}
\DoxyCodeLine{9222   \}}
\DoxyCodeLine{9223   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<=hJJQCD-\/>GetNbinsX(); ix++)\{}
\DoxyCodeLine{9224     \textcolor{keywordtype}{double} integral = hJJQCD-\/>Integral(ix, ix, 0, hJJQCD-\/>GetNbinsY()+1);}
\DoxyCodeLine{9225     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iy=0; iy<=hJJQCD-\/>GetNbinsY(); iy++)\{ \textcolor{keywordflow}{if} (integral!=0.) hJJQCD-\/>SetBinContent(ix, iy, hJJQCD-\/>GetBinContent(ix, iy)/integral); \}}
\DoxyCodeLine{9226   \}}
\DoxyCodeLine{9227 }
\DoxyCodeLine{9228   foutput-\/>WriteTObject(hJJVBF);}
\DoxyCodeLine{9229   foutput-\/>WriteTObject(hJJQCD);}
\DoxyCodeLine{9230   foutput-\/>WriteTObject(prJJVBF);}
\DoxyCodeLine{9231   foutput-\/>WriteTObject(prJJQCD);}
\DoxyCodeLine{9232   foutput-\/>WriteTObject(prRatioForJJVBF);}
\DoxyCodeLine{9233   foutput-\/>WriteTObject(prRatioForJJQCD);}
\DoxyCodeLine{9234   foutput-\/>Close();}
\DoxyCodeLine{9235   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<2; it++) \textcolor{keyword}{delete} tree[it];}
\DoxyCodeLine{9236 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ac38d428298521a49c607b4cfd83aeeb0}\label{calcC__lintolog_8c_ac38d428298521a49c607b4cfd83aeeb0}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!check\_JJVBF\_vs\_JJQCD\_7or8TeV@{check\_JJVBF\_vs\_JJQCD\_7or8TeV}}
\index{check\_JJVBF\_vs\_JJQCD\_7or8TeV@{check\_JJVBF\_vs\_JJQCD\_7or8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{check\_JJVBF\_vs\_JJQCD\_7or8TeV()}{check\_JJVBF\_vs\_JJQCD\_7or8TeV()}}
{\footnotesize\ttfamily void check\+\_\+\+J\+J\+V\+B\+F\+\_\+vs\+\_\+\+J\+J\+Q\+C\+D\+\_\+7or8\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 8713 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8713                                               \{}
\DoxyCodeLine{8714   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{8715   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{8716   TString TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{8717 }
\DoxyCodeLine{8718   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{8719   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{8720 }
\DoxyCodeLine{8721   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{8722   std::vector<double>* JetPt=0;}
\DoxyCodeLine{8723   std::vector<double>* JetEta=0;}
\DoxyCodeLine{8724   std::vector<double>* JetPhi=0;}
\DoxyCodeLine{8725   std::vector<double>* JetMass=0;}
\DoxyCodeLine{8726   std::vector<double> myJetPt;}
\DoxyCodeLine{8727   std::vector<double> myJetEta;}
\DoxyCodeLine{8728   std::vector<double> myJetPhi;}
\DoxyCodeLine{8729   std::vector<double> myJetMass;}
\DoxyCodeLine{8730   TBranch* bJetPt=0;}
\DoxyCodeLine{8731   TBranch* bJetEta=0;}
\DoxyCodeLine{8732   TBranch* bJetPhi=0;}
\DoxyCodeLine{8733   TBranch* bJetMass=0;}
\DoxyCodeLine{8734   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{8735 }
\DoxyCodeLine{8736   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{8737   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{8738   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{8739   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{8740   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{8741   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{8742   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{8743   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{8744   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{8745   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{8746 }
\DoxyCodeLine{8747   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{8748   TString cinput\_main;}
\DoxyCodeLine{8749   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==8) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/ianderso/CJLST/140519/PRODFSR\_8TeV"};}
\DoxyCodeLine{8750   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==7) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/ianderso/CJLST/140519/PRODFSR"};}
\DoxyCodeLine{8751   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{8752   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JJVBF = 42;}
\DoxyCodeLine{8753   TString strSamples\_JJVBF[nSamples\_JJVBF]=\{}
\DoxyCodeLine{8754     \textcolor{stringliteral}{"HZZ4lTree\_VBFH116.root"},}
\DoxyCodeLine{8755     \textcolor{stringliteral}{"HZZ4lTree\_VBFH117.root"},}
\DoxyCodeLine{8756     \textcolor{stringliteral}{"HZZ4lTree\_VBFH118.root"},}
\DoxyCodeLine{8757     \textcolor{stringliteral}{"HZZ4lTree\_VBFH119.root"},}
\DoxyCodeLine{8758     \textcolor{stringliteral}{"HZZ4lTree\_VBFH120.root"},}
\DoxyCodeLine{8759     \textcolor{stringliteral}{"HZZ4lTree\_VBFH121.root"},}
\DoxyCodeLine{8760     \textcolor{stringliteral}{"HZZ4lTree\_VBFH122.root"},}
\DoxyCodeLine{8761     \textcolor{stringliteral}{"HZZ4lTree\_VBFH123.root"},}
\DoxyCodeLine{8762     \textcolor{stringliteral}{"HZZ4lTree\_VBFH124.root"},}
\DoxyCodeLine{8763     \textcolor{stringliteral}{"HZZ4lTree\_VBFH125.root"},}
\DoxyCodeLine{8764     \textcolor{stringliteral}{"HZZ4lTree\_VBFH126.root"},}
\DoxyCodeLine{8765     \textcolor{stringliteral}{"HZZ4lTree\_VBFH127.root"},}
\DoxyCodeLine{8766     \textcolor{stringliteral}{"HZZ4lTree\_VBFH128.root"},}
\DoxyCodeLine{8767     \textcolor{stringliteral}{"HZZ4lTree\_VBFH129.root"},}
\DoxyCodeLine{8768     \textcolor{stringliteral}{"HZZ4lTree\_VBFH130.root"},}
\DoxyCodeLine{8769     \textcolor{stringliteral}{"HZZ4lTree\_VBFH135.root"},}
\DoxyCodeLine{8770     \textcolor{stringliteral}{"HZZ4lTree\_VBFH140.root"},}
\DoxyCodeLine{8771     \textcolor{stringliteral}{"HZZ4lTree\_VBFH145.root"},}
\DoxyCodeLine{8772     \textcolor{stringliteral}{"HZZ4lTree\_VBFH150.root"},}
\DoxyCodeLine{8773     \textcolor{stringliteral}{"HZZ4lTree\_VBFH160.root"},}
\DoxyCodeLine{8774     \textcolor{stringliteral}{"HZZ4lTree\_VBFH170.root"},}
\DoxyCodeLine{8775     \textcolor{stringliteral}{"HZZ4lTree\_VBFH180.root"},}
\DoxyCodeLine{8776     \textcolor{stringliteral}{"HZZ4lTree\_VBFH190.root"},}
\DoxyCodeLine{8777     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH200.root"},}
\DoxyCodeLine{8778     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH225.root"},}
\DoxyCodeLine{8779     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH250.root"},}
\DoxyCodeLine{8780     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH275.root"},}
\DoxyCodeLine{8781     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH300.root"},}
\DoxyCodeLine{8782     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH350.root"},}
\DoxyCodeLine{8783     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH400.root"},}
\DoxyCodeLine{8784     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH450.root"},}
\DoxyCodeLine{8785     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH500.root"},}
\DoxyCodeLine{8786     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH550.root"},}
\DoxyCodeLine{8787     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH600.root"},}
\DoxyCodeLine{8788     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH650.root"},}
\DoxyCodeLine{8789     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH700.root"},}
\DoxyCodeLine{8790     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH750.root"},}
\DoxyCodeLine{8791     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH800.root"},}
\DoxyCodeLine{8792     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH850.root"},}
\DoxyCodeLine{8793     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH900.root"},}
\DoxyCodeLine{8794     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH950.root"},}
\DoxyCodeLine{8795     \textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH1000.root"}}
\DoxyCodeLine{8796   \};}
\DoxyCodeLine{8797   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JJQCD = 37;}
\DoxyCodeLine{8798   TString strSamples\_JJQCD[nSamples\_JJQCD]=\{}
\DoxyCodeLine{8799     \textcolor{stringliteral}{"HZZ4lTree\_minloH90.root"},}
\DoxyCodeLine{8800     \textcolor{stringliteral}{"HZZ4lTree\_minloH95.root"},}
\DoxyCodeLine{8801     \textcolor{stringliteral}{"HZZ4lTree\_minloH100.root"},}
\DoxyCodeLine{8802     \textcolor{stringliteral}{"HZZ4lTree\_minloH105.root"},}
\DoxyCodeLine{8803     \textcolor{stringliteral}{"HZZ4lTree\_minloH110.root"},}
\DoxyCodeLine{8804     \textcolor{stringliteral}{"HZZ4lTree\_minloH115.root"},}
\DoxyCodeLine{8805     \textcolor{stringliteral}{"HZZ4lTree\_minloH120.root"},}
\DoxyCodeLine{8806     \textcolor{stringliteral}{"HZZ4lTree\_minloH124.root"},}
\DoxyCodeLine{8807     \textcolor{stringliteral}{"HZZ4lTree\_minloH125.root"},}
\DoxyCodeLine{8808     \textcolor{stringliteral}{"HZZ4lTree\_minloH126.root"},}
\DoxyCodeLine{8809     \textcolor{stringliteral}{"HZZ4lTree\_minloH130.root"},}
\DoxyCodeLine{8810     \textcolor{stringliteral}{"HZZ4lTree\_minloH135.root"},}
\DoxyCodeLine{8811     \textcolor{stringliteral}{"HZZ4lTree\_minloH140.root"},}
\DoxyCodeLine{8812     \textcolor{stringliteral}{"HZZ4lTree\_minloH145.root"},}
\DoxyCodeLine{8813     \textcolor{stringliteral}{"HZZ4lTree\_minloH150.root"},}
\DoxyCodeLine{8814     \textcolor{stringliteral}{"HZZ4lTree\_minloH155.root"},}
\DoxyCodeLine{8815     \textcolor{stringliteral}{"HZZ4lTree\_minloH160.root"},}
\DoxyCodeLine{8816     \textcolor{stringliteral}{"HZZ4lTree\_minloH170.root"},}
\DoxyCodeLine{8817     \textcolor{stringliteral}{"HZZ4lTree\_minloH180.root"},}
\DoxyCodeLine{8818     \textcolor{stringliteral}{"HZZ4lTree\_minloH190.root"},}
\DoxyCodeLine{8819     \textcolor{stringliteral}{"HZZ4lTree\_minloH200.root"},}
\DoxyCodeLine{8820     \textcolor{stringliteral}{"HZZ4lTree\_minloH250.root"},}
\DoxyCodeLine{8821     \textcolor{stringliteral}{"HZZ4lTree\_minloH300.root"},}
\DoxyCodeLine{8822     \textcolor{stringliteral}{"HZZ4lTree\_minloH350.root"},}
\DoxyCodeLine{8823     \textcolor{stringliteral}{"HZZ4lTree\_minloH400.root"},}
\DoxyCodeLine{8824     \textcolor{stringliteral}{"HZZ4lTree\_minloH450.root"},}
\DoxyCodeLine{8825     \textcolor{stringliteral}{"HZZ4lTree\_minloH500.root"},}
\DoxyCodeLine{8826     \textcolor{stringliteral}{"HZZ4lTree\_minloH550.root"},}
\DoxyCodeLine{8827     \textcolor{stringliteral}{"HZZ4lTree\_minloH600.root"},}
\DoxyCodeLine{8828     \textcolor{stringliteral}{"HZZ4lTree\_minloH650.root"},}
\DoxyCodeLine{8829     \textcolor{stringliteral}{"HZZ4lTree\_minloH700.root"},}
\DoxyCodeLine{8830     \textcolor{stringliteral}{"HZZ4lTree\_minloH750.root"},}
\DoxyCodeLine{8831     \textcolor{stringliteral}{"HZZ4lTree\_minloH800.root"},}
\DoxyCodeLine{8832     \textcolor{stringliteral}{"HZZ4lTree\_minloH850.root"},}
\DoxyCodeLine{8833     \textcolor{stringliteral}{"HZZ4lTree\_minloH900.root"},}
\DoxyCodeLine{8834     \textcolor{stringliteral}{"HZZ4lTree\_minloH950.root"},}
\DoxyCodeLine{8835     \textcolor{stringliteral}{"HZZ4lTree\_minloH1000.root"}}
\DoxyCodeLine{8836   \};}
\DoxyCodeLine{8837 }
\DoxyCodeLine{8838   TChain* tree[2] =\{}
\DoxyCodeLine{8839     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""}),}
\DoxyCodeLine{8840     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""})}
\DoxyCodeLine{8841   \};}
\DoxyCodeLine{8842   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{8843     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JJVBF; is++) tree[0]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), (strchannel[ic]).Data(), (strSamples\_JJVBF[is]).Data()));}
\DoxyCodeLine{8844     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JJQCD; is++) tree[1]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), (strchannel[ic]).Data(), (strSamples\_JJQCD[is]).Data()));}
\DoxyCodeLine{8845   \}}
\DoxyCodeLine{8846   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<2; it++)\{}
\DoxyCodeLine{8847     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"NJets30"}, \&NJets30);}
\DoxyCodeLine{8848     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt, \&bJetPt);}
\DoxyCodeLine{8849     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta, \&bJetEta);}
\DoxyCodeLine{8850     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi, \&bJetPhi);}
\DoxyCodeLine{8851     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass, \&bJetMass);}
\DoxyCodeLine{8852     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{8853     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{8854     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{8855     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{8856     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{8857     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{8858     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{8859     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{8860     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{8861     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{8862     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{8863   \}}
\DoxyCodeLine{8864 }
\DoxyCodeLine{8865   TFile* foutput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pJHUGen\_JJVBF\_JJQCD\_HSMHiggs\_Comparison\_\%iTeV.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{8866 }
\DoxyCodeLine{8867   TH2F* hJJVBF = \textcolor{keyword}{new} TH2F(\textcolor{stringliteral}{"JJVBF"}, \textcolor{stringliteral}{""}, 50, 70, 1070, 10, 0, 1);}
\DoxyCodeLine{8868   TH2F* hJJQCD = \textcolor{keyword}{new} TH2F(\textcolor{stringliteral}{"JJQCD"}, \textcolor{stringliteral}{""}, 50, 70, 1070, 10, 0, 1);}
\DoxyCodeLine{8869 }
\DoxyCodeLine{8870   TProfile* prJJVBF = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJJVBF"}, \textcolor{stringliteral}{""}, 50, 70, 1070); prJJVBF-\/>Sumw2();}
\DoxyCodeLine{8871   TProfile* prJJQCD = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJJQCD"}, \textcolor{stringliteral}{""}, 50, 70, 1070); prJJQCD-\/>Sumw2();}
\DoxyCodeLine{8872 }
\DoxyCodeLine{8873   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{8874 }
\DoxyCodeLine{8875   \textcolor{keywordtype}{int} nTotalEntries = tree[0]-\/>GetEntries();}
\DoxyCodeLine{8876   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{8877     tree[0]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{8878     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{8879     \textcolor{keywordflow}{if} (NJets30>=2)\{}
\DoxyCodeLine{8880       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++)\{}
\DoxyCodeLine{8881         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{8882         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{8883         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{8884         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{8885       \}}
\DoxyCodeLine{8886 }
\DoxyCodeLine{8887       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{8888       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{8889       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{8890       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{8891 }
\DoxyCodeLine{8892       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{8893       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{8894       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{8895 }
\DoxyCodeLine{8896       TLorentzVector pDaughters[4];}
\DoxyCodeLine{8897       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{8898       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{8899       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{8900       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{8901       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{8902 }
\DoxyCodeLine{8903       \textcolor{keywordtype}{float} mesq\_jjvbf=0, mesq\_jjqcd=0;}
\DoxyCodeLine{8904       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}});}
\DoxyCodeLine{8905       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{8906       mela.computeProdP(mesq\_jjvbf, \textcolor{keyword}{true});}
\DoxyCodeLine{8907       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}});}
\DoxyCodeLine{8908       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{8909       mela.computeProdP(mesq\_jjqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{8910       \textcolor{keywordtype}{float} kd = mesq\_jjvbf/(mesq\_jjvbf+0.06*mesq\_jjqcd);}
\DoxyCodeLine{8911 }
\DoxyCodeLine{8912       hJJVBF-\/>Fill(mzz, kd);}
\DoxyCodeLine{8913       prJJVBF-\/>Fill(mzz, mesq\_jjvbf);}
\DoxyCodeLine{8914 }
\DoxyCodeLine{8915       mela.resetInputEvent();}
\DoxyCodeLine{8916     \}}
\DoxyCodeLine{8917   \}}
\DoxyCodeLine{8918   nTotalEntries = tree[1]-\/>GetEntries();}
\DoxyCodeLine{8919   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{8920     tree[1]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{8921     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{8922     \textcolor{keywordflow}{if} (NJets30>=2)\{}
\DoxyCodeLine{8923       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++)\{}
\DoxyCodeLine{8924         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{8925         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{8926         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{8927         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{8928       \}}
\DoxyCodeLine{8929 }
\DoxyCodeLine{8930       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{8931       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{8932       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{8933       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{8934 }
\DoxyCodeLine{8935       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{8936       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{8937       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{8938 }
\DoxyCodeLine{8939       TLorentzVector pDaughters[4];}
\DoxyCodeLine{8940       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{8941       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{8942       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{8943       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{8944       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{8945 }
\DoxyCodeLine{8946       \textcolor{keywordtype}{float} mesq\_jjvbf=0, mesq\_jjqcd=0;}
\DoxyCodeLine{8947       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}});}
\DoxyCodeLine{8948       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{8949       mela.computeProdP(mesq\_jjvbf, \textcolor{keyword}{true});}
\DoxyCodeLine{8950       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}});}
\DoxyCodeLine{8951       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{8952       mela.computeProdP(mesq\_jjqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{8953       \textcolor{keywordtype}{float} kd = mesq\_jjvbf/(mesq\_jjvbf+0.06*mesq\_jjqcd);}
\DoxyCodeLine{8954 }
\DoxyCodeLine{8955       hJJQCD-\/>Fill(mzz, kd);}
\DoxyCodeLine{8956       prJJQCD-\/>Fill(mzz, mesq\_jjqcd);}
\DoxyCodeLine{8957 }
\DoxyCodeLine{8958       mela.resetInputEvent();}
\DoxyCodeLine{8959     \}}
\DoxyCodeLine{8960   \}}
\DoxyCodeLine{8961 }
\DoxyCodeLine{8962   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<=hJJVBF-\/>GetNbinsX(); ix++)\{}
\DoxyCodeLine{8963     \textcolor{keywordtype}{double} integral = hJJVBF-\/>Integral(ix, ix, 0, hJJVBF-\/>GetNbinsY()+1);}
\DoxyCodeLine{8964     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iy=0; iy<=hJJVBF-\/>GetNbinsY(); iy++)\{ \textcolor{keywordflow}{if} (integral!=0.) hJJVBF-\/>SetBinContent(ix, iy, hJJVBF-\/>GetBinContent(ix, iy)/integral); \}}
\DoxyCodeLine{8965   \}}
\DoxyCodeLine{8966   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<=hJJQCD-\/>GetNbinsX(); ix++)\{}
\DoxyCodeLine{8967     \textcolor{keywordtype}{double} integral = hJJQCD-\/>Integral(ix, ix, 0, hJJQCD-\/>GetNbinsY()+1);}
\DoxyCodeLine{8968     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iy=0; iy<=hJJQCD-\/>GetNbinsY(); iy++)\{ \textcolor{keywordflow}{if} (integral!=0.) hJJQCD-\/>SetBinContent(ix, iy, hJJQCD-\/>GetBinContent(ix, iy)/integral); \}}
\DoxyCodeLine{8969   \}}
\DoxyCodeLine{8970 }
\DoxyCodeLine{8971   foutput-\/>WriteTObject(hJJVBF);}
\DoxyCodeLine{8972   foutput-\/>WriteTObject(hJJQCD);}
\DoxyCodeLine{8973   foutput-\/>WriteTObject(prJJVBF);}
\DoxyCodeLine{8974   foutput-\/>WriteTObject(prJJQCD);}
\DoxyCodeLine{8975   foutput-\/>Close();}
\DoxyCodeLine{8976   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<2; it++) \textcolor{keyword}{delete} tree[it];}
\DoxyCodeLine{8977 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a07c0775ca383b3a96c767b57c1657223}\label{calcC__lintolog_8c_a07c0775ca383b3a96c767b57c1657223}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!check\_JQCD\_13TeV@{check\_JQCD\_13TeV}}
\index{check\_JQCD\_13TeV@{check\_JQCD\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{check\_JQCD\_13TeV()}{check\_JQCD\_13TeV()}}
{\footnotesize\ttfamily void check\+\_\+\+J\+Q\+C\+D\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 9393 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{9393                                    \{}
\DoxyCodeLine{9394   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{9395   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{9396   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{9397 }
\DoxyCodeLine{9398   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{9399   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{9400 }
\DoxyCodeLine{9401   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{9402   std::vector<float>* JetPt=0;}
\DoxyCodeLine{9403   std::vector<float>* JetEta=0;}
\DoxyCodeLine{9404   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{9405   std::vector<float>* JetMass=0;}
\DoxyCodeLine{9406   std::vector<float> myJetPt;}
\DoxyCodeLine{9407   std::vector<float> myJetEta;}
\DoxyCodeLine{9408   std::vector<float> myJetPhi;}
\DoxyCodeLine{9409   std::vector<float> myJetMass;}
\DoxyCodeLine{9410   TBranch* bJetPt=0;}
\DoxyCodeLine{9411   TBranch* bJetEta=0;}
\DoxyCodeLine{9412   TBranch* bJetPhi=0;}
\DoxyCodeLine{9413   TBranch* bJetMass=0;}
\DoxyCodeLine{9414   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{9415 }
\DoxyCodeLine{9416   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{9417   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{9418   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{9419   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{9420   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{9421   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{9422   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{9423   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{9424   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{9425   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{9426 }
\DoxyCodeLine{9427   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nMEs=1;}
\DoxyCodeLine{9428   TChain* tree[nMEs] =\{}
\DoxyCodeLine{9429     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""})}
\DoxyCodeLine{9430   \};}
\DoxyCodeLine{9431 }
\DoxyCodeLine{9432   TString cinput\_main;}
\DoxyCodeLine{9433   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/usarical/CJLST/LHC\_13TeV/4l/160225"};}
\DoxyCodeLine{9434   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{9435   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JQCD = 35;}
\DoxyCodeLine{9436   TString strSamples\_JQCD[nSamples\_JQCD]=\{}
\DoxyCodeLine{9437     \textcolor{stringliteral}{"ggH91\_GaZ/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9438     \textcolor{stringliteral}{"ggH115/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9439     \textcolor{stringliteral}{"ggH120/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9440     \textcolor{stringliteral}{"ggH124/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9441     \textcolor{stringliteral}{"ggH125/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9442     \textcolor{stringliteral}{"ggH126/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9443     \textcolor{stringliteral}{"ggH130/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9444     \textcolor{stringliteral}{"ggH135/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9445     \textcolor{stringliteral}{"ggH140/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9446     \textcolor{stringliteral}{"ggH145/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9447     \textcolor{stringliteral}{"ggH150/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9448     \textcolor{stringliteral}{"ggH155/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9449     \textcolor{stringliteral}{"ggH160/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9450     \textcolor{stringliteral}{"ggH165/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9451     \textcolor{stringliteral}{"ggH170/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9452     \textcolor{stringliteral}{"ggH175/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9453     \textcolor{stringliteral}{"ggH180/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9454     \textcolor{stringliteral}{"ggH190/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9455     \textcolor{stringliteral}{"ggH200/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9456     \textcolor{stringliteral}{"ggH210/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9457     \textcolor{stringliteral}{"ggH230/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9458     \textcolor{stringliteral}{"ggH250/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9459     \textcolor{stringliteral}{"ggH270/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9460     \textcolor{stringliteral}{"ggH300/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9461     \textcolor{stringliteral}{"ggH350/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9462     \textcolor{stringliteral}{"ggH400/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9463     \textcolor{stringliteral}{"ggH450/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9464     \textcolor{stringliteral}{"ggH500/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9465     \textcolor{stringliteral}{"ggH550/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9466     \textcolor{stringliteral}{"ggH600/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9467     \textcolor{stringliteral}{"ggH700/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9468     \textcolor{stringliteral}{"ggH750/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9469     \textcolor{stringliteral}{"ggH800/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9470     \textcolor{stringliteral}{"ggH900/ZZ4lAnalysis.root"},}
\DoxyCodeLine{9471     \textcolor{stringliteral}{"ggH1000/ZZ4lAnalysis.root"}}
\DoxyCodeLine{9472   \};}
\DoxyCodeLine{9473   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JQCD; is++) tree[0]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s"}, cinput\_main.Data(), (strSamples\_JQCD[is]).Data()));}
\DoxyCodeLine{9474   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<nMEs; it++)\{}
\DoxyCodeLine{9475     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{9476     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt, \&bJetPt);}
\DoxyCodeLine{9477     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta, \&bJetEta);}
\DoxyCodeLine{9478     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi, \&bJetPhi);}
\DoxyCodeLine{9479     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass, \&bJetMass);}
\DoxyCodeLine{9480     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{9481     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{9482     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{9483     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{9484     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{9485     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{9486     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{9487     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{9488     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{9489     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{9490     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{9491   \}}
\DoxyCodeLine{9492 }
\DoxyCodeLine{9493   TFile* foutput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pJHUGen\_JQCD\_HSMHiggs\_Comparison\_\%iTeV.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{9494 }
\DoxyCodeLine{9495   TProfile* prJQCD = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJQCD"}, \textcolor{stringliteral}{""}, 35, 70, 1575); prJQCD-\/>Sumw2();}
\DoxyCodeLine{9496 }
\DoxyCodeLine{9497   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{9498 }
\DoxyCodeLine{9499   \textcolor{keywordtype}{int} nTotalEntries = tree[0]-\/>GetEntries();}
\DoxyCodeLine{9500   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{9501     tree[0]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{9502     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{9503     \textcolor{keywordflow}{if} (NJets30==1)\{}
\DoxyCodeLine{9504       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<1; ij++)\{}
\DoxyCodeLine{9505         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{9506         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{9507         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{9508         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{9509       \}}
\DoxyCodeLine{9510 }
\DoxyCodeLine{9511       TLorentzVector jet[1], higgs;}
\DoxyCodeLine{9512       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<1; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{9513       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{9514       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{9515 }
\DoxyCodeLine{9516       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{9517       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{9518 }
\DoxyCodeLine{9519       TLorentzVector pDaughters[4];}
\DoxyCodeLine{9520       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{9521       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{9522       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{9523       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{9524       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{9525 }
\DoxyCodeLine{9526       \textcolor{keywordtype}{float} mesq\_jqcd=0;}
\DoxyCodeLine{9527       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca3706a5c493f245b1f6231e93e31383ea}{TVar::JQCD}});}
\DoxyCodeLine{9528       mela.computeProdP(mesq\_jqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{9529 }
\DoxyCodeLine{9530       prJQCD-\/>Fill(mzz, mesq\_jqcd);}
\DoxyCodeLine{9531 }
\DoxyCodeLine{9532       mela.resetInputEvent();}
\DoxyCodeLine{9533     \}}
\DoxyCodeLine{9534   \}}
\DoxyCodeLine{9535 }
\DoxyCodeLine{9536   foutput-\/>WriteTObject(prJQCD);}
\DoxyCodeLine{9537   foutput-\/>Close();}
\DoxyCodeLine{9538   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<nMEs; it++) \textcolor{keyword}{delete} tree[it];}
\DoxyCodeLine{9539 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a7bbac523442654341dfb3e27e60630b0}\label{calcC__lintolog_8c_a7bbac523442654341dfb3e27e60630b0}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!check\_JQCD\_7or8TeV@{check\_JQCD\_7or8TeV}}
\index{check\_JQCD\_7or8TeV@{check\_JQCD\_7or8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{check\_JQCD\_7or8TeV()}{check\_JQCD\_7or8TeV()}}
{\footnotesize\ttfamily void check\+\_\+\+J\+Q\+C\+D\+\_\+7or8\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 9239 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{9239                                     \{}
\DoxyCodeLine{9240   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{9241   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{9242   TString TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{9243 }
\DoxyCodeLine{9244   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{9245   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{9246 }
\DoxyCodeLine{9247   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{9248   std::vector<double>* JetPt=0;}
\DoxyCodeLine{9249   std::vector<double>* JetEta=0;}
\DoxyCodeLine{9250   std::vector<double>* JetPhi=0;}
\DoxyCodeLine{9251   std::vector<double>* JetMass=0;}
\DoxyCodeLine{9252   std::vector<double> myJetPt;}
\DoxyCodeLine{9253   std::vector<double> myJetEta;}
\DoxyCodeLine{9254   std::vector<double> myJetPhi;}
\DoxyCodeLine{9255   std::vector<double> myJetMass;}
\DoxyCodeLine{9256   TBranch* bJetPt=0;}
\DoxyCodeLine{9257   TBranch* bJetEta=0;}
\DoxyCodeLine{9258   TBranch* bJetPhi=0;}
\DoxyCodeLine{9259   TBranch* bJetMass=0;}
\DoxyCodeLine{9260   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{9261 }
\DoxyCodeLine{9262   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{9263   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{9264   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{9265   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{9266   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{9267   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{9268   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{9269   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{9270   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{9271   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{9272 }
\DoxyCodeLine{9273   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nMEs=1;}
\DoxyCodeLine{9274   TChain* tree[nMEs] =\{}
\DoxyCodeLine{9275     \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""})}
\DoxyCodeLine{9276   \};}
\DoxyCodeLine{9277 }
\DoxyCodeLine{9278   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{9279   TString cinput\_main;}
\DoxyCodeLine{9280   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==8) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/ianderso/CJLST/140519/PRODFSR\_8TeV"};}
\DoxyCodeLine{9281   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==7) cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/ianderso/CJLST/140519/PRODFSR"};}
\DoxyCodeLine{9282   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{9283   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples\_JQCD = 37;}
\DoxyCodeLine{9284   TString strSamples\_JQCD[nSamples\_JQCD]=\{}
\DoxyCodeLine{9285     \textcolor{stringliteral}{"HZZ4lTree\_minloH90.root"},}
\DoxyCodeLine{9286     \textcolor{stringliteral}{"HZZ4lTree\_minloH95.root"},}
\DoxyCodeLine{9287     \textcolor{stringliteral}{"HZZ4lTree\_minloH100.root"},}
\DoxyCodeLine{9288     \textcolor{stringliteral}{"HZZ4lTree\_minloH105.root"},}
\DoxyCodeLine{9289     \textcolor{stringliteral}{"HZZ4lTree\_minloH110.root"},}
\DoxyCodeLine{9290     \textcolor{stringliteral}{"HZZ4lTree\_minloH115.root"},}
\DoxyCodeLine{9291     \textcolor{stringliteral}{"HZZ4lTree\_minloH120.root"},}
\DoxyCodeLine{9292     \textcolor{stringliteral}{"HZZ4lTree\_minloH124.root"},}
\DoxyCodeLine{9293     \textcolor{stringliteral}{"HZZ4lTree\_minloH125.root"},}
\DoxyCodeLine{9294     \textcolor{stringliteral}{"HZZ4lTree\_minloH126.root"},}
\DoxyCodeLine{9295     \textcolor{stringliteral}{"HZZ4lTree\_minloH130.root"},}
\DoxyCodeLine{9296     \textcolor{stringliteral}{"HZZ4lTree\_minloH135.root"},}
\DoxyCodeLine{9297     \textcolor{stringliteral}{"HZZ4lTree\_minloH140.root"},}
\DoxyCodeLine{9298     \textcolor{stringliteral}{"HZZ4lTree\_minloH145.root"},}
\DoxyCodeLine{9299     \textcolor{stringliteral}{"HZZ4lTree\_minloH150.root"},}
\DoxyCodeLine{9300     \textcolor{stringliteral}{"HZZ4lTree\_minloH155.root"},}
\DoxyCodeLine{9301     \textcolor{stringliteral}{"HZZ4lTree\_minloH160.root"},}
\DoxyCodeLine{9302     \textcolor{stringliteral}{"HZZ4lTree\_minloH170.root"},}
\DoxyCodeLine{9303     \textcolor{stringliteral}{"HZZ4lTree\_minloH180.root"},}
\DoxyCodeLine{9304     \textcolor{stringliteral}{"HZZ4lTree\_minloH190.root"},}
\DoxyCodeLine{9305     \textcolor{stringliteral}{"HZZ4lTree\_minloH200.root"},}
\DoxyCodeLine{9306     \textcolor{stringliteral}{"HZZ4lTree\_minloH250.root"},}
\DoxyCodeLine{9307     \textcolor{stringliteral}{"HZZ4lTree\_minloH300.root"},}
\DoxyCodeLine{9308     \textcolor{stringliteral}{"HZZ4lTree\_minloH350.root"},}
\DoxyCodeLine{9309     \textcolor{stringliteral}{"HZZ4lTree\_minloH400.root"},}
\DoxyCodeLine{9310     \textcolor{stringliteral}{"HZZ4lTree\_minloH450.root"},}
\DoxyCodeLine{9311     \textcolor{stringliteral}{"HZZ4lTree\_minloH500.root"},}
\DoxyCodeLine{9312     \textcolor{stringliteral}{"HZZ4lTree\_minloH550.root"},}
\DoxyCodeLine{9313     \textcolor{stringliteral}{"HZZ4lTree\_minloH600.root"},}
\DoxyCodeLine{9314     \textcolor{stringliteral}{"HZZ4lTree\_minloH650.root"},}
\DoxyCodeLine{9315     \textcolor{stringliteral}{"HZZ4lTree\_minloH700.root"},}
\DoxyCodeLine{9316     \textcolor{stringliteral}{"HZZ4lTree\_minloH750.root"},}
\DoxyCodeLine{9317     \textcolor{stringliteral}{"HZZ4lTree\_minloH800.root"},}
\DoxyCodeLine{9318     \textcolor{stringliteral}{"HZZ4lTree\_minloH850.root"},}
\DoxyCodeLine{9319     \textcolor{stringliteral}{"HZZ4lTree\_minloH900.root"},}
\DoxyCodeLine{9320     \textcolor{stringliteral}{"HZZ4lTree\_minloH950.root"},}
\DoxyCodeLine{9321     \textcolor{stringliteral}{"HZZ4lTree\_minloH1000.root"}}
\DoxyCodeLine{9322   \};}
\DoxyCodeLine{9323   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{9324     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples\_JQCD; is++) tree[0]-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), (strchannel[ic]).Data(), (strSamples\_JQCD[is]).Data()));}
\DoxyCodeLine{9325   \}}
\DoxyCodeLine{9326   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<nMEs; it++)\{}
\DoxyCodeLine{9327     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"NJets30"}, \&NJets30);}
\DoxyCodeLine{9328     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt, \&bJetPt);}
\DoxyCodeLine{9329     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta, \&bJetEta);}
\DoxyCodeLine{9330     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi, \&bJetPhi);}
\DoxyCodeLine{9331     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass, \&bJetMass);}
\DoxyCodeLine{9332     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{9333     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{9334     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{9335     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{9336     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{9337     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{9338     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{9339     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{9340     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{9341     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{9342     tree[it]-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{9343   \}}
\DoxyCodeLine{9344 }
\DoxyCodeLine{9345   TFile* foutput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pJHUGen\_JQCD\_HSMHiggs\_Comparison\_\%iTeV.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{9346 }
\DoxyCodeLine{9347   TProfile* prJQCD = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"prJQCD"}, \textcolor{stringliteral}{""}, 75, 70, 1570); prJQCD-\/>Sumw2();}
\DoxyCodeLine{9348 }
\DoxyCodeLine{9349   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{9350 }
\DoxyCodeLine{9351   \textcolor{keywordtype}{int} nTotalEntries = tree[0]-\/>GetEntries();}
\DoxyCodeLine{9352   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{9353     tree[0]-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{9354     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{9355     \textcolor{keywordflow}{if} (NJets30==1)\{}
\DoxyCodeLine{9356       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<1; ij++)\{}
\DoxyCodeLine{9357         jetptetaphimass[ij][0]=JetPt-\/>at(ij);}
\DoxyCodeLine{9358         jetptetaphimass[ij][1]=JetEta-\/>at(ij);}
\DoxyCodeLine{9359         jetptetaphimass[ij][2]=JetPhi-\/>at(ij);}
\DoxyCodeLine{9360         jetptetaphimass[ij][3]=JetMass-\/>at(ij);}
\DoxyCodeLine{9361       \}}
\DoxyCodeLine{9362 }
\DoxyCodeLine{9363       TLorentzVector jet[1], higgs;}
\DoxyCodeLine{9364       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<1; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{9365       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{9366       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{9367 }
\DoxyCodeLine{9368       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{9369       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{9370 }
\DoxyCodeLine{9371       TLorentzVector pDaughters[4];}
\DoxyCodeLine{9372       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{9373       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{9374       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{9375       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{9376       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{9377 }
\DoxyCodeLine{9378       \textcolor{keywordtype}{float} mesq\_jqcd=0;}
\DoxyCodeLine{9379       mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca3706a5c493f245b1f6231e93e31383ea}{TVar::JQCD}});}
\DoxyCodeLine{9380       mela.computeProdP(mesq\_jqcd, \textcolor{keyword}{true});}
\DoxyCodeLine{9381 }
\DoxyCodeLine{9382       prJQCD-\/>Fill(mzz, mesq\_jqcd);}
\DoxyCodeLine{9383 }
\DoxyCodeLine{9384       mela.resetInputEvent();}
\DoxyCodeLine{9385     \}}
\DoxyCodeLine{9386   \}}
\DoxyCodeLine{9387 }
\DoxyCodeLine{9388   foutput-\/>WriteTObject(prJQCD);}
\DoxyCodeLine{9389   foutput-\/>Close();}
\DoxyCodeLine{9390   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<nMEs; it++) \textcolor{keyword}{delete} tree[it];}
\DoxyCodeLine{9391 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ac9fdc41deaff5d963cf06dad8f91e869}\label{calcC__lintolog_8c_ac9fdc41deaff5d963cf06dad8f91e869}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!checkListVariable@{checkListVariable}}
\index{checkListVariable@{checkListVariable}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{checkListVariable()}{checkListVariable()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
bool check\+List\+Variable (\begin{DoxyParamCaption}\item[{const vector$<$ T $>$ \&}]{list,  }\item[{const T \&}]{var }\end{DoxyParamCaption})}



Definition at line 81 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{81                                                                                 \{}
\DoxyCodeLine{82   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} v=0; v<list.size(); v++)\{}
\DoxyCodeLine{83     \textcolor{keywordflow}{if} (list.at(v)==\mbox{\hyperlink{namespacewrite__bindings_a994481cd9776274b1b5f4aa2663f5c9f}{var}}) \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \textcolor{comment}{// Look for exact match}}
\DoxyCodeLine{84   \}}
\DoxyCodeLine{85   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{86 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}\label{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!constructSamplesList@{constructSamplesList}}
\index{constructSamplesList@{constructSamplesList}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{constructSamplesList()}{constructSamplesList()}}
{\footnotesize\ttfamily vector$<$T\+String$>$ construct\+Samples\+List (\begin{DoxyParamCaption}\item[{T\+String}]{strsample,  }\item[{float}]{sqrts }\end{DoxyParamCaption})}



Definition at line 253 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{253                                                                     \{}
\DoxyCodeLine{254   vector<TString> samples;}
\DoxyCodeLine{255   \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"JJVBF"})\{}
\DoxyCodeLine{256     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{257       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH116.root"});}
\DoxyCodeLine{258       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH117.root"});}
\DoxyCodeLine{259       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH118.root"});}
\DoxyCodeLine{260       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH119.root"});}
\DoxyCodeLine{261       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH120.root"});}
\DoxyCodeLine{262       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH121.root"});}
\DoxyCodeLine{263       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH122.root"});}
\DoxyCodeLine{264       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH123.root"});}
\DoxyCodeLine{265       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH124.root"});}
\DoxyCodeLine{266       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH125.root"});}
\DoxyCodeLine{267       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH126.root"});}
\DoxyCodeLine{268       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH127.root"});}
\DoxyCodeLine{269       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH128.root"});}
\DoxyCodeLine{270       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH129.root"});}
\DoxyCodeLine{271       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH130.root"});}
\DoxyCodeLine{272       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH135.root"});}
\DoxyCodeLine{273       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH140.root"});}
\DoxyCodeLine{274       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH145.root"});}
\DoxyCodeLine{275       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH150.root"});}
\DoxyCodeLine{276       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH160.root"});}
\DoxyCodeLine{277       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH170.root"});}
\DoxyCodeLine{278       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH180.root"});}
\DoxyCodeLine{279       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_VBFH190.root"});}
\DoxyCodeLine{280       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH200.root"});}
\DoxyCodeLine{281       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH225.root"});}
\DoxyCodeLine{282       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH250.root"});}
\DoxyCodeLine{283       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH275.root"});}
\DoxyCodeLine{284       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH300.root"});}
\DoxyCodeLine{285       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH350.root"});}
\DoxyCodeLine{286       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH400.root"});}
\DoxyCodeLine{287       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH450.root"});}
\DoxyCodeLine{288       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH500.root"});}
\DoxyCodeLine{289       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH550.root"});}
\DoxyCodeLine{290       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH600.root"});}
\DoxyCodeLine{291       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH650.root"});}
\DoxyCodeLine{292       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH700.root"});}
\DoxyCodeLine{293       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH750.root"});}
\DoxyCodeLine{294       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH800.root"});}
\DoxyCodeLine{295       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH850.root"});}
\DoxyCodeLine{296       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH900.root"});}
\DoxyCodeLine{297       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH950.root"});}
\DoxyCodeLine{298       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15VBFH1000.root"});}
\DoxyCodeLine{299     \}}
\DoxyCodeLine{300     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{301       samples.push\_back(\textcolor{stringliteral}{"VBFH115"});}
\DoxyCodeLine{302       samples.push\_back(\textcolor{stringliteral}{"VBFH120"});}
\DoxyCodeLine{303       samples.push\_back(\textcolor{stringliteral}{"VBFH124"});}
\DoxyCodeLine{304       samples.push\_back(\textcolor{stringliteral}{"VBFH125"});}
\DoxyCodeLine{305       samples.push\_back(\textcolor{stringliteral}{"VBFH126"});}
\DoxyCodeLine{306       samples.push\_back(\textcolor{stringliteral}{"VBFH130"});}
\DoxyCodeLine{307       samples.push\_back(\textcolor{stringliteral}{"VBFH135"});}
\DoxyCodeLine{308       samples.push\_back(\textcolor{stringliteral}{"VBFH140"});}
\DoxyCodeLine{309       samples.push\_back(\textcolor{stringliteral}{"VBFH145"});}
\DoxyCodeLine{310       samples.push\_back(\textcolor{stringliteral}{"VBFH150"});}
\DoxyCodeLine{311       samples.push\_back(\textcolor{stringliteral}{"VBFH155"});}
\DoxyCodeLine{312       samples.push\_back(\textcolor{stringliteral}{"VBFH160"});}
\DoxyCodeLine{313       samples.push\_back(\textcolor{stringliteral}{"VBFH165"});}
\DoxyCodeLine{314       samples.push\_back(\textcolor{stringliteral}{"VBFH170"});}
\DoxyCodeLine{315       samples.push\_back(\textcolor{stringliteral}{"VBFH175"});}
\DoxyCodeLine{316       samples.push\_back(\textcolor{stringliteral}{"VBFH180"});}
\DoxyCodeLine{317       samples.push\_back(\textcolor{stringliteral}{"VBFH190"});}
\DoxyCodeLine{318       samples.push\_back(\textcolor{stringliteral}{"VBFH200"});}
\DoxyCodeLine{319       samples.push\_back(\textcolor{stringliteral}{"VBFH210"});}
\DoxyCodeLine{320       samples.push\_back(\textcolor{stringliteral}{"VBFH230"});}
\DoxyCodeLine{321       samples.push\_back(\textcolor{stringliteral}{"VBFH250"});}
\DoxyCodeLine{322       samples.push\_back(\textcolor{stringliteral}{"VBFH270"});}
\DoxyCodeLine{323       samples.push\_back(\textcolor{stringliteral}{"VBFH300"});}
\DoxyCodeLine{324       samples.push\_back(\textcolor{stringliteral}{"VBFH350"});}
\DoxyCodeLine{325       samples.push\_back(\textcolor{stringliteral}{"VBFH400"});}
\DoxyCodeLine{326       samples.push\_back(\textcolor{stringliteral}{"VBFH450"});}
\DoxyCodeLine{327       samples.push\_back(\textcolor{stringliteral}{"VBFH500"});}
\DoxyCodeLine{328       samples.push\_back(\textcolor{stringliteral}{"VBFH550"});}
\DoxyCodeLine{329       samples.push\_back(\textcolor{stringliteral}{"VBFH600"});}
\DoxyCodeLine{330       samples.push\_back(\textcolor{stringliteral}{"VBFH700"});}
\DoxyCodeLine{331       samples.push\_back(\textcolor{stringliteral}{"VBFH750"});}
\DoxyCodeLine{332       samples.push\_back(\textcolor{stringliteral}{"VBFH800"});}
\DoxyCodeLine{333       samples.push\_back(\textcolor{stringliteral}{"VBFH900"});}
\DoxyCodeLine{334       samples.push\_back(\textcolor{stringliteral}{"VBFH1000"});}
\DoxyCodeLine{335       samples.push\_back(\textcolor{stringliteral}{"VBFH1500"});}
\DoxyCodeLine{336       samples.push\_back(\textcolor{stringliteral}{"VBFH2000"});}
\DoxyCodeLine{337       samples.push\_back(\textcolor{stringliteral}{"VBFH2500"});}
\DoxyCodeLine{338       samples.push\_back(\textcolor{stringliteral}{"VBFH3000"});}
\DoxyCodeLine{339     \}}
\DoxyCodeLine{340   \}}
\DoxyCodeLine{341   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"WH"})\{}
\DoxyCodeLine{342     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{343       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH110.root"});}
\DoxyCodeLine{344       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH115.root"});}
\DoxyCodeLine{345       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH120.root"});}
\DoxyCodeLine{346       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH125.root"});}
\DoxyCodeLine{347       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH126.root"});}
\DoxyCodeLine{348       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH130.root"});}
\DoxyCodeLine{349       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH140.root"});}
\DoxyCodeLine{350       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH150.root"});}
\DoxyCodeLine{351       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH160.root"});}
\DoxyCodeLine{352       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH180.root"});}
\DoxyCodeLine{353       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_WH200.root"});}
\DoxyCodeLine{354     \}}
\DoxyCodeLine{355     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{356       samples.push\_back(\textcolor{stringliteral}{"WminusH115"});}
\DoxyCodeLine{357       samples.push\_back(\textcolor{stringliteral}{"WminusH120"});}
\DoxyCodeLine{358       samples.push\_back(\textcolor{stringliteral}{"WminusH124"});}
\DoxyCodeLine{359       samples.push\_back(\textcolor{stringliteral}{"WminusH125"});}
\DoxyCodeLine{360       samples.push\_back(\textcolor{stringliteral}{"WminusH126"});}
\DoxyCodeLine{361       samples.push\_back(\textcolor{stringliteral}{"WminusH130"});}
\DoxyCodeLine{362       samples.push\_back(\textcolor{stringliteral}{"WminusH135"});}
\DoxyCodeLine{363       samples.push\_back(\textcolor{stringliteral}{"WminusH140"});}
\DoxyCodeLine{364       samples.push\_back(\textcolor{stringliteral}{"WminusH145"});}
\DoxyCodeLine{365       samples.push\_back(\textcolor{stringliteral}{"WminusH150"});}
\DoxyCodeLine{366       samples.push\_back(\textcolor{stringliteral}{"WminusH155"});}
\DoxyCodeLine{367       samples.push\_back(\textcolor{stringliteral}{"WminusH160"});}
\DoxyCodeLine{368       samples.push\_back(\textcolor{stringliteral}{"WminusH165"});}
\DoxyCodeLine{369       samples.push\_back(\textcolor{stringliteral}{"WminusH170"});}
\DoxyCodeLine{370       samples.push\_back(\textcolor{stringliteral}{"WminusH175"});}
\DoxyCodeLine{371       samples.push\_back(\textcolor{stringliteral}{"WminusH180"});}
\DoxyCodeLine{372       samples.push\_back(\textcolor{stringliteral}{"WminusH190"});}
\DoxyCodeLine{373       samples.push\_back(\textcolor{stringliteral}{"WminusH200"});}
\DoxyCodeLine{374       samples.push\_back(\textcolor{stringliteral}{"WminusH210"});}
\DoxyCodeLine{375       samples.push\_back(\textcolor{stringliteral}{"WminusH230"});}
\DoxyCodeLine{376       samples.push\_back(\textcolor{stringliteral}{"WminusH250"});}
\DoxyCodeLine{377       samples.push\_back(\textcolor{stringliteral}{"WminusH270"});}
\DoxyCodeLine{378       samples.push\_back(\textcolor{stringliteral}{"WminusH300"});}
\DoxyCodeLine{379       samples.push\_back(\textcolor{stringliteral}{"WminusH350"});}
\DoxyCodeLine{380       samples.push\_back(\textcolor{stringliteral}{"WminusH400"});}
\DoxyCodeLine{381       samples.push\_back(\textcolor{stringliteral}{"WminusH450"});}
\DoxyCodeLine{382       samples.push\_back(\textcolor{stringliteral}{"WminusH500"});}
\DoxyCodeLine{383       samples.push\_back(\textcolor{stringliteral}{"WminusH550"});}
\DoxyCodeLine{384       samples.push\_back(\textcolor{stringliteral}{"WminusH600"});}
\DoxyCodeLine{385       samples.push\_back(\textcolor{stringliteral}{"WminusH700"});}
\DoxyCodeLine{386       samples.push\_back(\textcolor{stringliteral}{"WminusH750"});}
\DoxyCodeLine{387       samples.push\_back(\textcolor{stringliteral}{"WminusH800"});}
\DoxyCodeLine{388       samples.push\_back(\textcolor{stringliteral}{"WminusH900"});}
\DoxyCodeLine{389       samples.push\_back(\textcolor{stringliteral}{"WminusH1000"});}
\DoxyCodeLine{390       samples.push\_back(\textcolor{stringliteral}{"WminusH1500"});}
\DoxyCodeLine{391       samples.push\_back(\textcolor{stringliteral}{"WminusH2000"});}
\DoxyCodeLine{392       samples.push\_back(\textcolor{stringliteral}{"WminusH2500"});}
\DoxyCodeLine{393       samples.push\_back(\textcolor{stringliteral}{"WminusH3000"});}
\DoxyCodeLine{394       samples.push\_back(\textcolor{stringliteral}{"WplusH115"});}
\DoxyCodeLine{395       samples.push\_back(\textcolor{stringliteral}{"WplusH120"});}
\DoxyCodeLine{396       samples.push\_back(\textcolor{stringliteral}{"WplusH124"});}
\DoxyCodeLine{397       samples.push\_back(\textcolor{stringliteral}{"WplusH125"});}
\DoxyCodeLine{398       samples.push\_back(\textcolor{stringliteral}{"WplusH126"});}
\DoxyCodeLine{399       samples.push\_back(\textcolor{stringliteral}{"WplusH130"});}
\DoxyCodeLine{400       samples.push\_back(\textcolor{stringliteral}{"WplusH135"});}
\DoxyCodeLine{401       samples.push\_back(\textcolor{stringliteral}{"WplusH140"});}
\DoxyCodeLine{402       samples.push\_back(\textcolor{stringliteral}{"WplusH145"});}
\DoxyCodeLine{403       samples.push\_back(\textcolor{stringliteral}{"WplusH150"});}
\DoxyCodeLine{404       samples.push\_back(\textcolor{stringliteral}{"WplusH155"});}
\DoxyCodeLine{405       samples.push\_back(\textcolor{stringliteral}{"WplusH160"});}
\DoxyCodeLine{406       samples.push\_back(\textcolor{stringliteral}{"WplusH165"});}
\DoxyCodeLine{407       samples.push\_back(\textcolor{stringliteral}{"WplusH170"});}
\DoxyCodeLine{408       samples.push\_back(\textcolor{stringliteral}{"WplusH175"});}
\DoxyCodeLine{409       samples.push\_back(\textcolor{stringliteral}{"WplusH180"});}
\DoxyCodeLine{410       samples.push\_back(\textcolor{stringliteral}{"WplusH190"});}
\DoxyCodeLine{411       samples.push\_back(\textcolor{stringliteral}{"WplusH200"});}
\DoxyCodeLine{412       samples.push\_back(\textcolor{stringliteral}{"WplusH210"});}
\DoxyCodeLine{413       samples.push\_back(\textcolor{stringliteral}{"WplusH230"});}
\DoxyCodeLine{414       samples.push\_back(\textcolor{stringliteral}{"WplusH250"});}
\DoxyCodeLine{415       samples.push\_back(\textcolor{stringliteral}{"WplusH270"});}
\DoxyCodeLine{416       samples.push\_back(\textcolor{stringliteral}{"WplusH300"});}
\DoxyCodeLine{417       samples.push\_back(\textcolor{stringliteral}{"WplusH350"});}
\DoxyCodeLine{418       samples.push\_back(\textcolor{stringliteral}{"WplusH400"});}
\DoxyCodeLine{419       samples.push\_back(\textcolor{stringliteral}{"WplusH450"});}
\DoxyCodeLine{420       samples.push\_back(\textcolor{stringliteral}{"WplusH500"});}
\DoxyCodeLine{421       samples.push\_back(\textcolor{stringliteral}{"WplusH550"});}
\DoxyCodeLine{422       samples.push\_back(\textcolor{stringliteral}{"WplusH600"});}
\DoxyCodeLine{423       samples.push\_back(\textcolor{stringliteral}{"WplusH700"});}
\DoxyCodeLine{424       samples.push\_back(\textcolor{stringliteral}{"WplusH750"});}
\DoxyCodeLine{425       samples.push\_back(\textcolor{stringliteral}{"WplusH800"});}
\DoxyCodeLine{426       samples.push\_back(\textcolor{stringliteral}{"WplusH900"});}
\DoxyCodeLine{427       samples.push\_back(\textcolor{stringliteral}{"WplusH1000"});}
\DoxyCodeLine{428       samples.push\_back(\textcolor{stringliteral}{"WplusH1500"});}
\DoxyCodeLine{429       samples.push\_back(\textcolor{stringliteral}{"WplusH2000"});}
\DoxyCodeLine{430       samples.push\_back(\textcolor{stringliteral}{"WplusH2500"});}
\DoxyCodeLine{431       samples.push\_back(\textcolor{stringliteral}{"WplusH3000"});}
\DoxyCodeLine{432     \}}
\DoxyCodeLine{433   \}}
\DoxyCodeLine{434   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"ZH"})\{}
\DoxyCodeLine{435     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{436       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH110.root"});}
\DoxyCodeLine{437       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH115.root"});}
\DoxyCodeLine{438       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH120.root"});}
\DoxyCodeLine{439       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH125.root"});}
\DoxyCodeLine{440       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH126.root"});}
\DoxyCodeLine{441       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH130.root"});}
\DoxyCodeLine{442       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH140.root"});}
\DoxyCodeLine{443       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH150.root"});}
\DoxyCodeLine{444       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH160.root"});}
\DoxyCodeLine{445       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH180.root"});}
\DoxyCodeLine{446       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZH200.root"});}
\DoxyCodeLine{447     \}}
\DoxyCodeLine{448     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{449       samples.push\_back(\textcolor{stringliteral}{"ZH115"});}
\DoxyCodeLine{450       samples.push\_back(\textcolor{stringliteral}{"ZH120"});}
\DoxyCodeLine{451       samples.push\_back(\textcolor{stringliteral}{"ZH124"});}
\DoxyCodeLine{452       samples.push\_back(\textcolor{stringliteral}{"ZH125"});}
\DoxyCodeLine{453       samples.push\_back(\textcolor{stringliteral}{"ZH126"});}
\DoxyCodeLine{454       samples.push\_back(\textcolor{stringliteral}{"ZH130"});}
\DoxyCodeLine{455       samples.push\_back(\textcolor{stringliteral}{"ZH135"});}
\DoxyCodeLine{456       samples.push\_back(\textcolor{stringliteral}{"ZH140"});}
\DoxyCodeLine{457       samples.push\_back(\textcolor{stringliteral}{"ZH145"});}
\DoxyCodeLine{458       samples.push\_back(\textcolor{stringliteral}{"ZH150"});}
\DoxyCodeLine{459       samples.push\_back(\textcolor{stringliteral}{"ZH155"});}
\DoxyCodeLine{460       samples.push\_back(\textcolor{stringliteral}{"ZH160"});}
\DoxyCodeLine{461       samples.push\_back(\textcolor{stringliteral}{"ZH165"});}
\DoxyCodeLine{462       samples.push\_back(\textcolor{stringliteral}{"ZH170"});}
\DoxyCodeLine{463       samples.push\_back(\textcolor{stringliteral}{"ZH175"});}
\DoxyCodeLine{464       samples.push\_back(\textcolor{stringliteral}{"ZH180"});}
\DoxyCodeLine{465       samples.push\_back(\textcolor{stringliteral}{"ZH190"});}
\DoxyCodeLine{466       samples.push\_back(\textcolor{stringliteral}{"ZH200"});}
\DoxyCodeLine{467       samples.push\_back(\textcolor{stringliteral}{"ZH210"});}
\DoxyCodeLine{468       samples.push\_back(\textcolor{stringliteral}{"ZH230"});}
\DoxyCodeLine{469       samples.push\_back(\textcolor{stringliteral}{"ZH250"});}
\DoxyCodeLine{470       samples.push\_back(\textcolor{stringliteral}{"ZH270"});}
\DoxyCodeLine{471       samples.push\_back(\textcolor{stringliteral}{"ZH300"});}
\DoxyCodeLine{472       samples.push\_back(\textcolor{stringliteral}{"ZH350"});}
\DoxyCodeLine{473       samples.push\_back(\textcolor{stringliteral}{"ZH400"});}
\DoxyCodeLine{474       samples.push\_back(\textcolor{stringliteral}{"ZH450"});}
\DoxyCodeLine{475       samples.push\_back(\textcolor{stringliteral}{"ZH500"});}
\DoxyCodeLine{476       samples.push\_back(\textcolor{stringliteral}{"ZH550"});}
\DoxyCodeLine{477       samples.push\_back(\textcolor{stringliteral}{"ZH600"});}
\DoxyCodeLine{478       samples.push\_back(\textcolor{stringliteral}{"ZH700"});}
\DoxyCodeLine{479       samples.push\_back(\textcolor{stringliteral}{"ZH750"});}
\DoxyCodeLine{480       samples.push\_back(\textcolor{stringliteral}{"ZH800"});}
\DoxyCodeLine{481       samples.push\_back(\textcolor{stringliteral}{"ZH900"});}
\DoxyCodeLine{482       samples.push\_back(\textcolor{stringliteral}{"ZH1000"});}
\DoxyCodeLine{483       samples.push\_back(\textcolor{stringliteral}{"ZH1500"});}
\DoxyCodeLine{484       samples.push\_back(\textcolor{stringliteral}{"ZH2000"});}
\DoxyCodeLine{485       samples.push\_back(\textcolor{stringliteral}{"ZH2500"});}
\DoxyCodeLine{486       samples.push\_back(\textcolor{stringliteral}{"ZH3000"});}
\DoxyCodeLine{487     \}}
\DoxyCodeLine{488   \}}
\DoxyCodeLine{489   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"JJQCD"})\{}
\DoxyCodeLine{490     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{491       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH90.root"});}
\DoxyCodeLine{492       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH95.root"});}
\DoxyCodeLine{493       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH100.root"});}
\DoxyCodeLine{494       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH105.root"});}
\DoxyCodeLine{495       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH110.root"});}
\DoxyCodeLine{496       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH115.root"});}
\DoxyCodeLine{497       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH120.root"});}
\DoxyCodeLine{498       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH124.root"});}
\DoxyCodeLine{499       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH125.root"});}
\DoxyCodeLine{500       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH126.root"});}
\DoxyCodeLine{501       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH130.root"});}
\DoxyCodeLine{502       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH135.root"});}
\DoxyCodeLine{503       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH140.root"});}
\DoxyCodeLine{504       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH145.root"});}
\DoxyCodeLine{505       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH150.root"});}
\DoxyCodeLine{506       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH155.root"});}
\DoxyCodeLine{507       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH160.root"});}
\DoxyCodeLine{508       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH170.root"});}
\DoxyCodeLine{509       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH180.root"});}
\DoxyCodeLine{510       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH190.root"});}
\DoxyCodeLine{511       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH200.root"});}
\DoxyCodeLine{512       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH250.root"});}
\DoxyCodeLine{513       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH300.root"});}
\DoxyCodeLine{514       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH350.root"});}
\DoxyCodeLine{515       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH400.root"});}
\DoxyCodeLine{516       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH450.root"});}
\DoxyCodeLine{517       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH500.root"});}
\DoxyCodeLine{518       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH550.root"});}
\DoxyCodeLine{519       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH600.root"});}
\DoxyCodeLine{520       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH650.root"});}
\DoxyCodeLine{521       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH700.root"});}
\DoxyCodeLine{522       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH750.root"});}
\DoxyCodeLine{523       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH800.root"});}
\DoxyCodeLine{524       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH850.root"});}
\DoxyCodeLine{525       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH900.root"});}
\DoxyCodeLine{526       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH950.root"});}
\DoxyCodeLine{527       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_minloH1000.root"});}
\DoxyCodeLine{528     \}}
\DoxyCodeLine{529     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{530       samples.push\_back(\textcolor{stringliteral}{"ggH115"});}
\DoxyCodeLine{531       samples.push\_back(\textcolor{stringliteral}{"ggH120"});}
\DoxyCodeLine{532       samples.push\_back(\textcolor{stringliteral}{"ggH124"});}
\DoxyCodeLine{533       samples.push\_back(\textcolor{stringliteral}{"ggH125"});}
\DoxyCodeLine{534       samples.push\_back(\textcolor{stringliteral}{"ggH126"});}
\DoxyCodeLine{535       samples.push\_back(\textcolor{stringliteral}{"ggH130"});}
\DoxyCodeLine{536       samples.push\_back(\textcolor{stringliteral}{"ggH135"});}
\DoxyCodeLine{537       samples.push\_back(\textcolor{stringliteral}{"ggH140"});}
\DoxyCodeLine{538       samples.push\_back(\textcolor{stringliteral}{"ggH145"});}
\DoxyCodeLine{539       samples.push\_back(\textcolor{stringliteral}{"ggH150"});}
\DoxyCodeLine{540       samples.push\_back(\textcolor{stringliteral}{"ggH155"});}
\DoxyCodeLine{541       samples.push\_back(\textcolor{stringliteral}{"ggH160"});}
\DoxyCodeLine{542       samples.push\_back(\textcolor{stringliteral}{"ggH165"});}
\DoxyCodeLine{543       samples.push\_back(\textcolor{stringliteral}{"ggH170"});}
\DoxyCodeLine{544       samples.push\_back(\textcolor{stringliteral}{"ggH175"});}
\DoxyCodeLine{545       samples.push\_back(\textcolor{stringliteral}{"ggH180"});}
\DoxyCodeLine{546       samples.push\_back(\textcolor{stringliteral}{"ggH190"});}
\DoxyCodeLine{547       samples.push\_back(\textcolor{stringliteral}{"ggH200"});}
\DoxyCodeLine{548       samples.push\_back(\textcolor{stringliteral}{"ggH210"});}
\DoxyCodeLine{549       samples.push\_back(\textcolor{stringliteral}{"ggH230"});}
\DoxyCodeLine{550       samples.push\_back(\textcolor{stringliteral}{"ggH250"});}
\DoxyCodeLine{551       samples.push\_back(\textcolor{stringliteral}{"ggH270"});}
\DoxyCodeLine{552       samples.push\_back(\textcolor{stringliteral}{"ggH300"});}
\DoxyCodeLine{553       samples.push\_back(\textcolor{stringliteral}{"ggH350"});}
\DoxyCodeLine{554       samples.push\_back(\textcolor{stringliteral}{"ggH400"});}
\DoxyCodeLine{555       samples.push\_back(\textcolor{stringliteral}{"ggH450"});}
\DoxyCodeLine{556       samples.push\_back(\textcolor{stringliteral}{"ggH500"});}
\DoxyCodeLine{557       samples.push\_back(\textcolor{stringliteral}{"ggH550"});}
\DoxyCodeLine{558       samples.push\_back(\textcolor{stringliteral}{"ggH600"});}
\DoxyCodeLine{559       samples.push\_back(\textcolor{stringliteral}{"ggH700"});}
\DoxyCodeLine{560       samples.push\_back(\textcolor{stringliteral}{"ggH750"});}
\DoxyCodeLine{561       samples.push\_back(\textcolor{stringliteral}{"ggH800"});}
\DoxyCodeLine{562       samples.push\_back(\textcolor{stringliteral}{"ggH900"});}
\DoxyCodeLine{563       samples.push\_back(\textcolor{stringliteral}{"ggH1000"});}
\DoxyCodeLine{564       samples.push\_back(\textcolor{stringliteral}{"ggH1500"});}
\DoxyCodeLine{565       samples.push\_back(\textcolor{stringliteral}{"ggH2000"});}
\DoxyCodeLine{566       samples.push\_back(\textcolor{stringliteral}{"ggH2500"});}
\DoxyCodeLine{567       samples.push\_back(\textcolor{stringliteral}{"ggH3000"});}
\DoxyCodeLine{568     \}}
\DoxyCodeLine{569   \}}
\DoxyCodeLine{570   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"gg\_Sig\_JHUGen"})\{}
\DoxyCodeLine{571     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{572       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_jhuGenV4-\/H91.2.root"});}
\DoxyCodeLine{573       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_powheg15jhuGenV3-\/0PMH125.6.root"});}
\DoxyCodeLine{574     \}}
\DoxyCodeLine{575     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{576     \}}
\DoxyCodeLine{577   \}}
\DoxyCodeLine{578   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"gg\_Sig\_MCFM"})\{}
\DoxyCodeLine{579     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{580       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4mu\_SMH-\/MCFM67\_H125.6.root"});}
\DoxyCodeLine{581       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4e\_SMH-\/MCFM67\_H125.6.root"});}
\DoxyCodeLine{582       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo2e2mu\_SMH-\/MCFM67\_H125.6.root"});}
\DoxyCodeLine{583     \}}
\DoxyCodeLine{584     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{585       samples.push\_back(\textcolor{stringliteral}{"ggTo4mu\_0PMH125\_MCFM701"});}
\DoxyCodeLine{586       samples.push\_back(\textcolor{stringliteral}{"ggTo4e\_0PMH125\_MCFM701"});}
\DoxyCodeLine{587       samples.push\_back(\textcolor{stringliteral}{"ggTo2e2mu\_0PMH125\_MCFM701"});}
\DoxyCodeLine{588       samples.push\_back(\textcolor{stringliteral}{"ggTo2e2tau\_0PMH125\_MCFM701"});}
\DoxyCodeLine{589       samples.push\_back(\textcolor{stringliteral}{"ggTo2mu2tau\_0PMH125\_MCFM701"});}
\DoxyCodeLine{590       samples.push\_back(\textcolor{stringliteral}{"ggTo4tau\_0PMH125\_MCFM701"});}
\DoxyCodeLine{591     \}}
\DoxyCodeLine{592   \}}
\DoxyCodeLine{593   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"gg\_Bkg\_MCFM"})\{}
\DoxyCodeLine{594     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{595       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo2e2mu\_Contin-\/MCFM67.root"});}
\DoxyCodeLine{596       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4mu\_Contin-\/MCFM67.root"});}
\DoxyCodeLine{597       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4e\_Contin-\/MCFM67.root"});}
\DoxyCodeLine{598     \}}
\DoxyCodeLine{599     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{600       samples.push\_back(\textcolor{stringliteral}{"ggTo4mu\_Contin\_MCFM701"});}
\DoxyCodeLine{601       samples.push\_back(\textcolor{stringliteral}{"ggTo4e\_Contin\_MCFM701"});}
\DoxyCodeLine{602       samples.push\_back(\textcolor{stringliteral}{"ggTo2e2mu\_Contin\_MCFM701"});}
\DoxyCodeLine{603       samples.push\_back(\textcolor{stringliteral}{"ggTo2e2tau\_Contin\_MCFM701"});}
\DoxyCodeLine{604       samples.push\_back(\textcolor{stringliteral}{"ggTo2mu2tau\_Contin\_MCFM701"});}
\DoxyCodeLine{605       samples.push\_back(\textcolor{stringliteral}{"ggTo4tau\_Contin\_MCFM701"});}
\DoxyCodeLine{606     \}}
\DoxyCodeLine{607   \}}
\DoxyCodeLine{608   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"gg\_Sig\_ggVV"})\{}
\DoxyCodeLine{609     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{610       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo2l2l\_H125.6.root"});}
\DoxyCodeLine{611       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4l\_H125.6.root"});}
\DoxyCodeLine{612     \}}
\DoxyCodeLine{613     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{614     \}}
\DoxyCodeLine{615   \}}
\DoxyCodeLine{616   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"gg\_Bkg\_ggVV"})\{}
\DoxyCodeLine{617     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{618       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo4l\_Continuum.root"});}
\DoxyCodeLine{619       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggZZ4l.root"});}
\DoxyCodeLine{620       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggTo2l2l\_Continuum.root"});}
\DoxyCodeLine{621       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ggZZ2l2l.root"});}
\DoxyCodeLine{622     \}}
\DoxyCodeLine{623     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{624     \}}
\DoxyCodeLine{625   \}}
\DoxyCodeLine{626   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"VV\_Sig\_MCFM"})\{}
\DoxyCodeLine{627     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{628     \}}
\DoxyCodeLine{629     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{630       samples.push\_back(\textcolor{stringliteral}{"VBFTo2e2muJJ\_0PMH125\_phantom128"});}
\DoxyCodeLine{631       samples.push\_back(\textcolor{stringliteral}{"VBFTo4muJJ\_0PMH125\_phantom128"});}
\DoxyCodeLine{632       samples.push\_back(\textcolor{stringliteral}{"VBFTo4eJJ\_0PMH125\_phantom128"});}
\DoxyCodeLine{633     \}}
\DoxyCodeLine{634   \}}
\DoxyCodeLine{635   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"VV\_Bkg\_MCFM"})\{}
\DoxyCodeLine{636     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{637     \}}
\DoxyCodeLine{638     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{639       samples.push\_back(\textcolor{stringliteral}{"VBFTo2e2muJJ\_Contin\_phantom128"});}
\DoxyCodeLine{640       samples.push\_back(\textcolor{stringliteral}{"VBFTo4muJJ\_Contin\_phantom128"});}
\DoxyCodeLine{641       samples.push\_back(\textcolor{stringliteral}{"VBFTo4eJJ\_Contin\_phantom128"});}
\DoxyCodeLine{642     \}}
\DoxyCodeLine{643   \}}
\DoxyCodeLine{644   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strsample==\textcolor{stringliteral}{"qq\_Bkg"})\{}
\DoxyCodeLine{645     \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}<10.)\{}
\DoxyCodeLine{646       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo2e2mu.root"});}
\DoxyCodeLine{647       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo2e2tau.root"});}
\DoxyCodeLine{648       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo2mu2tau.root"});}
\DoxyCodeLine{649       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo4mu.root"});}
\DoxyCodeLine{650       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo4e.root"});}
\DoxyCodeLine{651       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZTo4tau.root"});}
\DoxyCodeLine{652       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To2e2mu.root"});}
\DoxyCodeLine{653       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To2e2tau.root"});}
\DoxyCodeLine{654       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To2mu2tau.root"});}
\DoxyCodeLine{655       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To4mu.root"});}
\DoxyCodeLine{656       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To4e.root"});}
\DoxyCodeLine{657       samples.push\_back(\textcolor{stringliteral}{"HZZ4lTree\_ZZ95-\/160To4tau.root"});}
\DoxyCodeLine{658     \}}
\DoxyCodeLine{659     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{660       samples.push\_back(\textcolor{stringliteral}{"ZZTo4l"});}
\DoxyCodeLine{661       samples.push\_back(\textcolor{stringliteral}{"ZZTo4l\_ext"});}
\DoxyCodeLine{662     \}}
\DoxyCodeLine{663   \}}
\DoxyCodeLine{664   \textcolor{keywordflow}{return} samples;}
\DoxyCodeLine{665 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}\label{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!convertGraphToSpline3@{convertGraphToSpline3}}
\index{convertGraphToSpline3@{convertGraphToSpline3}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{convertGraphToSpline3()}{convertGraphToSpline3()}}
{\footnotesize\ttfamily T\+Spline3$\ast$ convert\+Graph\+To\+Spline3 (\begin{DoxyParamCaption}\item[{T\+Graph $\ast$}]{tg,  }\item[{double $\ast$}]{dfirst = {\ttfamily 0},  }\item[{double $\ast$}]{dlast = {\ttfamily 0} }\end{DoxyParamCaption})}



Definition at line 6759 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6759                                                                               \{}
\DoxyCodeLine{6760   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins = tg-\/>GetN();}
\DoxyCodeLine{6761   \textcolor{keywordtype}{double}* xy[2]=\{}
\DoxyCodeLine{6762     tg-\/>GetX(),}
\DoxyCodeLine{6763     tg-\/>GetY()}
\DoxyCodeLine{6764   \};}
\DoxyCodeLine{6765   TSpline3* spline = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, tg, \textcolor{stringliteral}{"b2e2"}, 0, 0);}
\DoxyCodeLine{6766   spline-\/>SetName(Form(\textcolor{stringliteral}{"sp\_\%s"}, tg-\/>GetName()));}
\DoxyCodeLine{6767   \textcolor{keywordflow}{if} (dfirst!=0) *dfirst = spline-\/>Derivative(xy[0][0]);}
\DoxyCodeLine{6768   \textcolor{keywordflow}{if} (dlast!=0) *dlast = spline-\/>Derivative(xy[0][nbins-\/1]);}
\DoxyCodeLine{6769   \textcolor{keywordflow}{return} spline;}
\DoxyCodeLine{6770 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad3bff15e87a76969d92bc00b7411d5e3}\label{calcC__lintolog_8c_ad3bff15e87a76969d92bc00b7411d5e3}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!convertGraphToSpline3\_FaithfulSlopes@{convertGraphToSpline3\_FaithfulSlopes}}
\index{convertGraphToSpline3\_FaithfulSlopes@{convertGraphToSpline3\_FaithfulSlopes}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{convertGraphToSpline3\_FaithfulSlopes()}{convertGraphToSpline3\_FaithfulSlopes()}}
{\footnotesize\ttfamily T\+Spline3$\ast$ convert\+Graph\+To\+Spline3\+\_\+\+Faithful\+Slopes (\begin{DoxyParamCaption}\item[{T\+Graph $\ast$}]{tg,  }\item[{double $\ast$}]{dfirst = {\ttfamily 0},  }\item[{double $\ast$}]{dlast = {\ttfamily 0},  }\item[{bool}]{faithful\+Low = {\ttfamily true},  }\item[{bool}]{faithful\+High = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 6773 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6773                                                                                                                                             \{}
\DoxyCodeLine{6774   \textcolor{keywordflow}{if} (!faithfulLow\&\&!faithfulHigh) \textcolor{keywordflow}{return} \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg, dfirst, dlast);}
\DoxyCodeLine{6775   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{6776     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins = tg-\/>GetN();}
\DoxyCodeLine{6777     \textcolor{keywordtype}{double}* xy[2]=\{}
\DoxyCodeLine{6778       tg-\/>GetX(),}
\DoxyCodeLine{6779       tg-\/>GetY()}
\DoxyCodeLine{6780     \};}
\DoxyCodeLine{6781     \textcolor{keywordtype}{double} derivative\_first = (xy[1][1]-\/xy[1][0])/(xy[0][1]-\/xy[0][0]);}
\DoxyCodeLine{6782     \textcolor{keywordtype}{double} derivative\_last = (xy[1][nbins-\/1]-\/xy[1][nbins-\/2])/(xy[0][nbins-\/1]-\/xy[0][nbins-\/2]);}
\DoxyCodeLine{6783     TSpline3* spline;}
\DoxyCodeLine{6784     \textcolor{keywordflow}{if} (faithfulLow \&\& faithfulHigh) spline = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, tg, \textcolor{stringliteral}{"b1e1"}, derivative\_first, derivative\_last);}
\DoxyCodeLine{6785     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!faithfulLow \&\& faithfulHigh) spline = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, tg, \textcolor{stringliteral}{"b2e1"}, 0, derivative\_last);}
\DoxyCodeLine{6786     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (faithfulLow \&\& !faithfulHigh) spline = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, tg, \textcolor{stringliteral}{"b1e2"}, derivative\_first, 0);}
\DoxyCodeLine{6787     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr}; \textcolor{comment}{// Should never reach here, just to avoid warnings}}
\DoxyCodeLine{6788     spline-\/>SetName(Form(\textcolor{stringliteral}{"sp\_\%s"}, tg-\/>GetName()));}
\DoxyCodeLine{6789     \textcolor{keywordflow}{if} (dfirst!=0) *dfirst = spline-\/>Derivative(xy[0][0]);}
\DoxyCodeLine{6790     \textcolor{keywordflow}{if} (dlast!=0) *dlast = spline-\/>Derivative(xy[0][nbins-\/1]);}
\DoxyCodeLine{6791     \textcolor{keywordflow}{return} spline;}
\DoxyCodeLine{6792   \}}
\DoxyCodeLine{6793 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a748f8e78c2bd8a564901499e9567653d}\label{calcC__lintolog_8c_a748f8e78c2bd8a564901499e9567653d}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!convertGraphToSpline5@{convertGraphToSpline5}}
\index{convertGraphToSpline5@{convertGraphToSpline5}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{convertGraphToSpline5()}{convertGraphToSpline5()}}
{\footnotesize\ttfamily T\+Spline5$\ast$ convert\+Graph\+To\+Spline5 (\begin{DoxyParamCaption}\item[{T\+Graph $\ast$}]{tg,  }\item[{double $\ast$}]{dfirst = {\ttfamily 0},  }\item[{double $\ast$}]{dlast = {\ttfamily 0} }\end{DoxyParamCaption})}



Definition at line 6795 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6795                                                                               \{}
\DoxyCodeLine{6796   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins = tg-\/>GetN();}
\DoxyCodeLine{6797   \textcolor{keywordtype}{double}* xy[2]=\{}
\DoxyCodeLine{6798     tg-\/>GetX(),}
\DoxyCodeLine{6799     tg-\/>GetY()}
\DoxyCodeLine{6800   \};}
\DoxyCodeLine{6801   \textcolor{keywordtype}{double} derivative\_first = (xy[1][1]-\/xy[1][0])/(xy[0][1]-\/xy[0][0]);}
\DoxyCodeLine{6802   \textcolor{keywordtype}{double} derivative\_last = (xy[1][nbins-\/1]-\/xy[1][nbins-\/2])/(xy[0][nbins-\/1]-\/xy[0][nbins-\/2]);}
\DoxyCodeLine{6803   TSpline5* spline = \textcolor{keyword}{new} TSpline5(\textcolor{stringliteral}{"spline"}, tg, \textcolor{stringliteral}{"b1e1"}, derivative\_first, derivative\_last);}
\DoxyCodeLine{6804   spline-\/>SetName(Form(\textcolor{stringliteral}{"sp\_\%s"}, tg-\/>GetName()));}
\DoxyCodeLine{6805   \textcolor{keywordflow}{if} (dfirst!=0) *dfirst=derivative\_first;}
\DoxyCodeLine{6806   \textcolor{keywordflow}{if} (dlast!=0) *dlast=derivative\_last;}
\DoxyCodeLine{6807   \textcolor{keywordflow}{return} spline;}
\DoxyCodeLine{6808 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a44ac47aab2a2d880b7118a72b5af2e55}\label{calcC__lintolog_8c_a44ac47aab2a2d880b7118a72b5af2e55}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!convertTSpline5ToTspline3@{convertTSpline5ToTspline3}}
\index{convertTSpline5ToTspline3@{convertTSpline5ToTspline3}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{convertTSpline5ToTspline3()}{convertTSpline5ToTspline3()}}
{\footnotesize\ttfamily T\+Spline3$\ast$ convert\+T\+Spline5\+To\+Tspline3 (\begin{DoxyParamCaption}\item[{T\+Spline5 $\ast$}]{sp }\end{DoxyParamCaption})}



Definition at line 6809 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6809                                                  \{}
\DoxyCodeLine{6810   \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}} = sp-\/>GetXmin();}
\DoxyCodeLine{6811   \textcolor{keywordtype}{double} xmax = sp-\/>GetXmax();}
\DoxyCodeLine{6812   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins=500;}
\DoxyCodeLine{6813   \textcolor{keywordtype}{double} xyval[2][nbins+1];}
\DoxyCodeLine{6814   \textcolor{keywordtype}{double} interval = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})/nbins;}
\DoxyCodeLine{6815   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<=nbins; ix++)\{}
\DoxyCodeLine{6816     xyval[0][ix] = \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}} + ix*interval;}
\DoxyCodeLine{6817     xyval[1][ix] = sp-\/>Eval(xyval[0][ix]);}
\DoxyCodeLine{6818   \}}
\DoxyCodeLine{6819   \textcolor{keywordtype}{double} dfirst = sp-\/>Derivative(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}});}
\DoxyCodeLine{6820   \textcolor{keywordtype}{double} dlast = sp-\/>Derivative(xmax);}
\DoxyCodeLine{6821   TSpline3* sp\_new = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, xyval[0], xyval[1], nbins+1, \textcolor{stringliteral}{"b1e1"}, dfirst, dlast);}
\DoxyCodeLine{6822   sp\_new-\/>SetName(sp-\/>GetName());}
\DoxyCodeLine{6823   sp\_new-\/>SetTitle(sp-\/>GetTitle());}
\DoxyCodeLine{6824   \textcolor{keywordflow}{return} sp\_new;}
\DoxyCodeLine{6825 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}\label{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!findPoleMass@{findPoleMass}}
\index{findPoleMass@{findPoleMass}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{findPoleMass()}{findPoleMass()}}
{\footnotesize\ttfamily float find\+Pole\+Mass (\begin{DoxyParamCaption}\item[{T\+String}]{samplename }\end{DoxyParamCaption})}



Definition at line 214 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                       \{}
\DoxyCodeLine{215   \textcolor{keywordtype}{float} mass = -\/1;}
\DoxyCodeLine{216   \textcolor{keywordtype}{string} strtmp = samplename.Data();}
\DoxyCodeLine{217   std::size\_t extpos = strtmp.find(\textcolor{stringliteral}{".root"});}
\DoxyCodeLine{218   \textcolor{keywordflow}{if} (extpos!=string::npos) strtmp.erase(extpos, 5);}
\DoxyCodeLine{219   vector<string> strsplit;}
\DoxyCodeLine{220   \mbox{\hyperlink{calcC__lintolog_8c_aa2f38c31cbb69dcdcedb710bf5435660}{splitOptionRecursive}}(strtmp, strsplit, \textcolor{charliteral}{'H'});}
\DoxyCodeLine{221   \textcolor{keywordflow}{if} (strsplit.size()>1)\{}
\DoxyCodeLine{222     \textcolor{keywordtype}{string} strmass = strsplit.at(1);}
\DoxyCodeLine{223     strsplit.clear();}
\DoxyCodeLine{224     \mbox{\hyperlink{calcC__lintolog_8c_aa2f38c31cbb69dcdcedb710bf5435660}{splitOptionRecursive}}(strmass, strsplit, \textcolor{charliteral}{'\_'});}
\DoxyCodeLine{225     strmass = strsplit.at(0);}
\DoxyCodeLine{226     mass = std::stod(strmass);}
\DoxyCodeLine{227   \}}
\DoxyCodeLine{228   \textcolor{keywordflow}{return} mass;}
\DoxyCodeLine{229 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}\label{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!findTree@{findTree}}
\index{findTree@{findTree}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{findTree()}{findTree()}}
{\footnotesize\ttfamily T\+Tree$\ast$ find\+Tree (\begin{DoxyParamCaption}\item[{vector$<$ T\+Tree $\ast$ $>$}]{tree\+List,  }\item[{int}]{evid }\end{DoxyParamCaption})}



Definition at line 230 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{230                                                   \{}
\DoxyCodeLine{231   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = evid;}
\DoxyCodeLine{232   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} t=0; t<treeList.size(); t++)\{}
\DoxyCodeLine{233     TTree* tree = treeList.at(t);}
\DoxyCodeLine{234     \textcolor{keywordtype}{int} nevts = tree-\/>GetEntries();}
\DoxyCodeLine{235     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nevts) \textcolor{keywordflow}{return} tree;}
\DoxyCodeLine{236     \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} -\/= nevts;}
\DoxyCodeLine{237     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<0) cerr << \textcolor{stringliteral}{"findTree::ERROR: Could not find the event "} << evid << endl;}
\DoxyCodeLine{238   \}}
\DoxyCodeLine{239   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{240 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}\label{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer@{generic\_PAvgSmoothProducer}}
\index{generic\_PAvgSmoothProducer@{generic\_PAvgSmoothProducer}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer()}{generic\_PAvgSmoothProducer()}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{lowf,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{highf,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{bool}]{use\+Faithful\+Low\+Slopes = {\ttfamily false},  }\item[{bool}]{use\+Faithful\+High\+Slopes = {\ttfamily false},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 7581 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7589  \{}
\DoxyCodeLine{7590   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{7591   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{7592   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{7593   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{7594   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{7595 }
\DoxyCodeLine{7596   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{7597 }
\DoxyCodeLine{7598   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{7599   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{7600   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=2;}
\DoxyCodeLine{7601   TString strtg[ngraphs]=\{}
\DoxyCodeLine{7602     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"},}
\DoxyCodeLine{7603     \textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"}}
\DoxyCodeLine{7604   \};}
\DoxyCodeLine{7605   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=0;}
\DoxyCodeLine{7606   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=(\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (double) \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.);}
\DoxyCodeLine{7607 }
\DoxyCodeLine{7608   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{7609     finput-\/>cd();}
\DoxyCodeLine{7610     TGraphErrors* tgin = 0;}
\DoxyCodeLine{7611     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{7612     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{7613     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{7614     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{7615       TTree* tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree"});}
\DoxyCodeLine{7616       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{7617       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{7618         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{7619         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{7620         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{7621         \textcolor{keywordflow}{if} (ig==0) tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{7622         \textcolor{keywordflow}{else} tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq);}
\DoxyCodeLine{7623         TProfile* pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass"});}
\DoxyCodeLine{7624         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{7625           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{7626             tg, tree, pmass,}
\DoxyCodeLine{7627             rediv,}
\DoxyCodeLine{7628             ZZMass, mesq, weight}
\DoxyCodeLine{7629           );}
\DoxyCodeLine{7630         \}}
\DoxyCodeLine{7631       \}}
\DoxyCodeLine{7632     \}}
\DoxyCodeLine{7633 }
\DoxyCodeLine{7634     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{7635 }
\DoxyCodeLine{7636     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{7637     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{7638     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{7639     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{7640     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{7641 }
\DoxyCodeLine{7642     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ad3bff15e87a76969d92bc00b7411d5e3}{convertGraphToSpline3\_FaithfulSlopes}}(tg, (\textcolor{keywordtype}{double}*)\textcolor{keyword}{nullptr}, (\textcolor{keywordtype}{double}*)\textcolor{keyword}{nullptr}, useFaithfulLowSlopes, useFaithfulHighSlopes);}
\DoxyCodeLine{7643     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{7644     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{7645     TF1* lowFcn = lowf(sp, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true});}
\DoxyCodeLine{7646     TF1* highFcn = highf(sp, tghigh, xmax, \textcolor{keyword}{false});}
\DoxyCodeLine{7647     lowFcn-\/>SetNpx((\textcolor{keywordtype}{int}) (tglow-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})*5);}
\DoxyCodeLine{7648     highFcn-\/>SetNpx((\textcolor{keywordtype}{int}) (xmax-\/tghigh)*5);}
\DoxyCodeLine{7649 }
\DoxyCodeLine{7650     vector<pair<double, double>> points;}
\DoxyCodeLine{7651     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{7652       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{7653       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7654     \}}
\DoxyCodeLine{7655     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{7656       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{7657     \}}
\DoxyCodeLine{7658     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}}) ((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{7659     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double}) tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{7660     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{7661       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{7662       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7663     \}}
\DoxyCodeLine{7664 }
\DoxyCodeLine{7665     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{7666     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{7667     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{7668     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{7669     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{7670       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{7671       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{7672     \}}
\DoxyCodeLine{7673 }
\DoxyCodeLine{7674     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{7675     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{7676     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7677 }
\DoxyCodeLine{7678     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{7679     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{7680     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{7681 }
\DoxyCodeLine{7682     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{7683     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{7684 }
\DoxyCodeLine{7685     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{7686     ctest-\/>cd();}
\DoxyCodeLine{7687     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{7688     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{7689     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{7690     ctest-\/>RedrawAxis();}
\DoxyCodeLine{7691     ctest-\/>Modified();}
\DoxyCodeLine{7692     ctest-\/>Update();}
\DoxyCodeLine{7693     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{7694     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{7695     ctest-\/>Close();}
\DoxyCodeLine{7696 }
\DoxyCodeLine{7697     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7698     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{7699     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{7700     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{7701   \}}
\DoxyCodeLine{7702   foutput-\/>Close();}
\DoxyCodeLine{7703   finput-\/>Close();}
\DoxyCodeLine{7704 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}\label{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}}
\index{generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer\_withDecay()}{generic\_PAvgSmoothProducer\_withDecay()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{lowf,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{highf,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{bool}]{use\+Faithful\+Low\+Slopes = {\ttfamily false},  }\item[{bool}]{use\+Faithful\+High\+Slopes = {\ttfamily false},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 7707 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7715    \{}
\DoxyCodeLine{7716   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{7717   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{7718   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{7719   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{7720   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{7721 }
\DoxyCodeLine{7722   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{7723 }
\DoxyCodeLine{7724   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{7725   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{7726   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=3;}
\DoxyCodeLine{7727   TString strtg[ngraphs]=\{}
\DoxyCodeLine{7728     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4mu"},}
\DoxyCodeLine{7729     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4e"},}
\DoxyCodeLine{7730     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_2mu2e"}}
\DoxyCodeLine{7731   \};}
\DoxyCodeLine{7732   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=0;}
\DoxyCodeLine{7733   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=(\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (double)\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.);}
\DoxyCodeLine{7734 }
\DoxyCodeLine{7735   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{7736     finput-\/>cd();}
\DoxyCodeLine{7737     TGraphErrors* tgin = 0;}
\DoxyCodeLine{7738     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{7739     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{7740     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{7741     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{7742       TTree* tree;}
\DoxyCodeLine{7743       \textcolor{keywordflow}{if} (ig==0) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4mu"});}
\DoxyCodeLine{7744       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4e"});}
\DoxyCodeLine{7745       \textcolor{keywordflow}{else} tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_2mu2e"});}
\DoxyCodeLine{7746       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{7747       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{7748         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{7749         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{7750         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{7751         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{7752         TProfile* pmass;}
\DoxyCodeLine{7753         \textcolor{keywordflow}{if} (ig==0) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4mu"});}
\DoxyCodeLine{7754         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4e"});}
\DoxyCodeLine{7755         \textcolor{keywordflow}{else} pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_2mu2e"});}
\DoxyCodeLine{7756         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{7757           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{7758             tg, tree, pmass,}
\DoxyCodeLine{7759             rediv,}
\DoxyCodeLine{7760             ZZMass, mesq, weight}
\DoxyCodeLine{7761           );}
\DoxyCodeLine{7762         \}}
\DoxyCodeLine{7763       \}}
\DoxyCodeLine{7764     \}}
\DoxyCodeLine{7765 }
\DoxyCodeLine{7766     foutput-\/>cd();}
\DoxyCodeLine{7767     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{7768 }
\DoxyCodeLine{7769     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{7770     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{7771     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{7772     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{7773     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{7774 }
\DoxyCodeLine{7775     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ad3bff15e87a76969d92bc00b7411d5e3}{convertGraphToSpline3\_FaithfulSlopes}}(tg, (\textcolor{keywordtype}{double}*)\textcolor{keyword}{nullptr}, (\textcolor{keywordtype}{double}*)\textcolor{keyword}{nullptr}, useFaithfulLowSlopes, useFaithfulHighSlopes);}
\DoxyCodeLine{7776     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{7777     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{7778     TF1* lowFcn = lowf(sp, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true});}
\DoxyCodeLine{7779     TF1* highFcn = highf(sp, tghigh, xmax, \textcolor{keyword}{false});}
\DoxyCodeLine{7780     lowFcn-\/>SetNpx((\textcolor{keywordtype}{int})(tglow-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})*5);}
\DoxyCodeLine{7781     highFcn-\/>SetNpx((\textcolor{keywordtype}{int})(xmax-\/tghigh)*5);}
\DoxyCodeLine{7782 }
\DoxyCodeLine{7783     vector<pair<double, double>> points;}
\DoxyCodeLine{7784     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{7785       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{7786       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7787     \}}
\DoxyCodeLine{7788     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{7789       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{7790     \}}
\DoxyCodeLine{7791     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{7792     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double})tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{7793     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{7794       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{7795       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7796     \}}
\DoxyCodeLine{7797 }
\DoxyCodeLine{7798     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{7799     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{7800     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{7801     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{7802     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{7803       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{7804       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{7805     \}}
\DoxyCodeLine{7806 }
\DoxyCodeLine{7807     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{7808     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{7809     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7810 }
\DoxyCodeLine{7811     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{7812     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{7813     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{7814 }
\DoxyCodeLine{7815     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{7816     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{7817 }
\DoxyCodeLine{7818     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{7819     ctest-\/>cd();}
\DoxyCodeLine{7820     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{7821     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{7822     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{7823     ctest-\/>RedrawAxis();}
\DoxyCodeLine{7824     ctest-\/>Modified();}
\DoxyCodeLine{7825     ctest-\/>Update();}
\DoxyCodeLine{7826     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{7827     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{7828     ctest-\/>Close();}
\DoxyCodeLine{7829 }
\DoxyCodeLine{7830     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7831     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{7832     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{7833     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{7834   \}}
\DoxyCodeLine{7835   foutput-\/>Close();}
\DoxyCodeLine{7836   finput-\/>Close();}
\DoxyCodeLine{7837 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa407755dd235762096d734077b8a9355}\label{calcC__lintolog_8c_aa407755dd235762096d734077b8a9355}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}}
\index{generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer\_withDecay()}{generic\_PAvgSmoothProducer\_withDecay()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+String}]{strpatchpath,  }\item[{T\+String}]{strpatchname,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{lowf,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{highpatcher,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 8142 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8149    \{}
\DoxyCodeLine{8150   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{8151   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{8152   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{8153   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{8154   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{8155 }
\DoxyCodeLine{8156   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{8157 }
\DoxyCodeLine{8158   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8159   TFile* finput\_patch = TFile::Open(strpatchpath, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8160   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{8161   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=3;}
\DoxyCodeLine{8162   TString strtg[ngraphs]=\{}
\DoxyCodeLine{8163     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4mu"},}
\DoxyCodeLine{8164     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4e"},}
\DoxyCodeLine{8165     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_2mu2e"}}
\DoxyCodeLine{8166   \};}
\DoxyCodeLine{8167 }
\DoxyCodeLine{8168   TGraph* tgpatch = (TGraph*)finput\_patch-\/>Get(strpatchname);}
\DoxyCodeLine{8169   TSpline3* sppatch = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tgpatch);}
\DoxyCodeLine{8170 }
\DoxyCodeLine{8171   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=max(0., (tgpatch-\/>GetX())[0]);}
\DoxyCodeLine{8172   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=min((\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (\textcolor{keywordtype}{double})\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.), (tgpatch-\/>GetX())[tgpatch-\/>GetN()-\/1]);}
\DoxyCodeLine{8173 }
\DoxyCodeLine{8174   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{8175     finput-\/>cd();}
\DoxyCodeLine{8176     TGraphErrors* tgin = 0;}
\DoxyCodeLine{8177     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{8178     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{8179     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{8180     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{8181       TTree* tree;}
\DoxyCodeLine{8182       \textcolor{keywordflow}{if} (ig==0) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4mu"});}
\DoxyCodeLine{8183       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4e"});}
\DoxyCodeLine{8184       \textcolor{keywordflow}{else} tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_2mu2e"});}
\DoxyCodeLine{8185       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{8186       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{8187         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{8188         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{8189         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{8190         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{8191         TProfile* pmass;}
\DoxyCodeLine{8192         \textcolor{keywordflow}{if} (ig==0) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4mu"});}
\DoxyCodeLine{8193         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4e"});}
\DoxyCodeLine{8194         \textcolor{keywordflow}{else} pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_2mu2e"});}
\DoxyCodeLine{8195         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{8196           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{8197             tg, tree, pmass,}
\DoxyCodeLine{8198             rediv,}
\DoxyCodeLine{8199             ZZMass, mesq, weight}
\DoxyCodeLine{8200           );}
\DoxyCodeLine{8201         \}}
\DoxyCodeLine{8202       \}}
\DoxyCodeLine{8203     \}}
\DoxyCodeLine{8204 }
\DoxyCodeLine{8205     foutput-\/>cd();}
\DoxyCodeLine{8206     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{8207 }
\DoxyCodeLine{8208     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{8209     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{8210     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{8211     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{8212     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{8213 }
\DoxyCodeLine{8214     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg);}
\DoxyCodeLine{8215     sp-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_initial"}, sp-\/>GetName()));}
\DoxyCodeLine{8216     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8217     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{8218     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{8219     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting high patch..."} << endl;}
\DoxyCodeLine{8220     TGraph* highGraph = highpatcher(sp, sppatch, tghigh, xmax, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{8221     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Converting patches to splines..."} << endl;}
\DoxyCodeLine{8222     TSpline3* highFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(highGraph);}
\DoxyCodeLine{8223 }
\DoxyCodeLine{8224     TF1* lowFcn = lowf(sp, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true});}
\DoxyCodeLine{8225     lowFcn-\/>SetNpx((\textcolor{keywordtype}{int})(tglow-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})*5);}
\DoxyCodeLine{8226 }
\DoxyCodeLine{8227     vector<pair<double, double>> points;}
\DoxyCodeLine{8228     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{8229       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{8230       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8231     \}}
\DoxyCodeLine{8232     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{8233       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{8234     \}}
\DoxyCodeLine{8235     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{8236     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double})tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{8237     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{8238       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{8239       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8240     \}}
\DoxyCodeLine{8241 }
\DoxyCodeLine{8242     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{8243     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{8244     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{8245     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{8246     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{8247       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{8248       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{8249     \}}
\DoxyCodeLine{8250 }
\DoxyCodeLine{8251     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{8252     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{8253     \textcolor{keyword}{delete} highGraph;}
\DoxyCodeLine{8254     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8255 }
\DoxyCodeLine{8256     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{8257     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{8258     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{8259 }
\DoxyCodeLine{8260     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{8261     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8262 }
\DoxyCodeLine{8263     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{8264     ctest-\/>cd();}
\DoxyCodeLine{8265     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{8266     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{8267     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8268     ctest-\/>RedrawAxis();}
\DoxyCodeLine{8269     ctest-\/>Modified();}
\DoxyCodeLine{8270     ctest-\/>Update();}
\DoxyCodeLine{8271     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{8272     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{8273     ctest-\/>Close();}
\DoxyCodeLine{8274 }
\DoxyCodeLine{8275     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8276     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{8277     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{8278     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{8279   \}}
\DoxyCodeLine{8280 }
\DoxyCodeLine{8281   \textcolor{keyword}{delete} sppatch;}
\DoxyCodeLine{8282   foutput-\/>Close();}
\DoxyCodeLine{8283   finput\_patch-\/>Close();}
\DoxyCodeLine{8284   finput-\/>Close();}
\DoxyCodeLine{8285 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ae33c3b6515a7db30ed86385a51325e36}\label{calcC__lintolog_8c_ae33c3b6515a7db30ed86385a51325e36}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}}
\index{generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer\_withDecay()}{generic\_PAvgSmoothProducer\_withDecay()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+String}]{strpatchpath,  }\item[{T\+String}]{strpatchname,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{lowpatcher,  }\item[{T\+F1 $\ast$($\ast$)(T\+Spline3 $\ast$, double, double, bool)}]{highf,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 8287 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8294    \{}
\DoxyCodeLine{8295   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{8296   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{8297   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{8298   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{8299   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{8300 }
\DoxyCodeLine{8301   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{8302 }
\DoxyCodeLine{8303   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8304   TFile* finput\_patch = TFile::Open(strpatchpath, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8305   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{8306   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=3;}
\DoxyCodeLine{8307   TString strtg[ngraphs]=\{}
\DoxyCodeLine{8308     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4mu"},}
\DoxyCodeLine{8309     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4e"},}
\DoxyCodeLine{8310     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_2mu2e"}}
\DoxyCodeLine{8311   \};}
\DoxyCodeLine{8312 }
\DoxyCodeLine{8313   TGraph* tgpatch = (TGraph*)finput\_patch-\/>Get(strpatchname);}
\DoxyCodeLine{8314   TSpline3* sppatch = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tgpatch);}
\DoxyCodeLine{8315 }
\DoxyCodeLine{8316   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=max(0., (tgpatch-\/>GetX())[0]);}
\DoxyCodeLine{8317   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=min((\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (\textcolor{keywordtype}{double})\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.), (tgpatch-\/>GetX())[tgpatch-\/>GetN()-\/1]);}
\DoxyCodeLine{8318 }
\DoxyCodeLine{8319   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{8320     finput-\/>cd();}
\DoxyCodeLine{8321     TGraphErrors* tgin = 0;}
\DoxyCodeLine{8322     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{8323     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{8324     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{8325     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{8326       TTree* tree;}
\DoxyCodeLine{8327       \textcolor{keywordflow}{if} (ig==0) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4mu"});}
\DoxyCodeLine{8328       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4e"});}
\DoxyCodeLine{8329       \textcolor{keywordflow}{else} tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_2mu2e"});}
\DoxyCodeLine{8330       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{8331       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{8332         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{8333         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{8334         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{8335         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{8336         TProfile* pmass;}
\DoxyCodeLine{8337         \textcolor{keywordflow}{if} (ig==0) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4mu"});}
\DoxyCodeLine{8338         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4e"});}
\DoxyCodeLine{8339         \textcolor{keywordflow}{else} pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_2mu2e"});}
\DoxyCodeLine{8340         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{8341           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{8342             tg, tree, pmass,}
\DoxyCodeLine{8343             rediv,}
\DoxyCodeLine{8344             ZZMass, mesq, weight}
\DoxyCodeLine{8345           );}
\DoxyCodeLine{8346         \}}
\DoxyCodeLine{8347       \}}
\DoxyCodeLine{8348     \}}
\DoxyCodeLine{8349 }
\DoxyCodeLine{8350     foutput-\/>cd();}
\DoxyCodeLine{8351     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{8352 }
\DoxyCodeLine{8353     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{8354     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{8355     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{8356     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{8357     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{8358 }
\DoxyCodeLine{8359     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg);}
\DoxyCodeLine{8360     sp-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_initial"}, sp-\/>GetName()));}
\DoxyCodeLine{8361     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8362     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{8363     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{8364     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting low patch..."} << endl;}
\DoxyCodeLine{8365     TGraph* lowGraph = lowpatcher(sp, sppatch, tglow, xmax, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{8366     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Converting patches to splines..."} << endl;}
\DoxyCodeLine{8367     TSpline3* lowFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(lowGraph);}
\DoxyCodeLine{8368 }
\DoxyCodeLine{8369     TF1* highFcn = highf(sp, tghigh, xmax, \textcolor{keyword}{false});}
\DoxyCodeLine{8370     highFcn-\/>SetNpx((\textcolor{keywordtype}{int})(tglow-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})*5);}
\DoxyCodeLine{8371 }
\DoxyCodeLine{8372     vector<pair<double, double>> points;}
\DoxyCodeLine{8373     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{8374       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{8375       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8376     \}}
\DoxyCodeLine{8377     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{8378       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{8379     \}}
\DoxyCodeLine{8380     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{8381     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double})tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{8382     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{8383       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{8384       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8385     \}}
\DoxyCodeLine{8386 }
\DoxyCodeLine{8387     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{8388     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{8389     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{8390     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{8391     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{8392       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{8393       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{8394     \}}
\DoxyCodeLine{8395 }
\DoxyCodeLine{8396     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{8397     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{8398     \textcolor{keyword}{delete} lowGraph;}
\DoxyCodeLine{8399     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8400 }
\DoxyCodeLine{8401     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{8402     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{8403     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{8404 }
\DoxyCodeLine{8405     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{8406     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8407 }
\DoxyCodeLine{8408     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{8409     ctest-\/>cd();}
\DoxyCodeLine{8410     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{8411     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{8412     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8413     ctest-\/>RedrawAxis();}
\DoxyCodeLine{8414     ctest-\/>Modified();}
\DoxyCodeLine{8415     ctest-\/>Update();}
\DoxyCodeLine{8416     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{8417     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{8418     ctest-\/>Close();}
\DoxyCodeLine{8419 }
\DoxyCodeLine{8420     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8421     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{8422     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{8423     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{8424   \}}
\DoxyCodeLine{8425 }
\DoxyCodeLine{8426   \textcolor{keyword}{delete} sppatch;}
\DoxyCodeLine{8427   foutput-\/>Close();}
\DoxyCodeLine{8428   finput\_patch-\/>Close();}
\DoxyCodeLine{8429   finput-\/>Close();}
\DoxyCodeLine{8430 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_afbced57a7077c690345af85ef34d0ca4}\label{calcC__lintolog_8c_afbced57a7077c690345af85ef34d0ca4}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}}
\index{generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer\_withDecay()}{generic\_PAvgSmoothProducer\_withDecay()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+String}]{strpatchpath,  }\item[{T\+String}]{strpatchname,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{lowpatcher,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{highpatcher,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 7840 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7847    \{}
\DoxyCodeLine{7848   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{7849   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{7850   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{7851   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{7852   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{7853 }
\DoxyCodeLine{7854   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{7855 }
\DoxyCodeLine{7856   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{7857   TFile* finput\_patch = TFile::Open(strpatchpath, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{7858   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{7859   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=3;}
\DoxyCodeLine{7860   TString strtg[ngraphs]=\{}
\DoxyCodeLine{7861     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4mu"},}
\DoxyCodeLine{7862     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4e"},}
\DoxyCodeLine{7863     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_2mu2e"}}
\DoxyCodeLine{7864   \};}
\DoxyCodeLine{7865 }
\DoxyCodeLine{7866   TGraph* tgpatch = (TGraph*)finput\_patch-\/>Get(strpatchname);}
\DoxyCodeLine{7867   TSpline3* sppatch = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tgpatch);}
\DoxyCodeLine{7868 }
\DoxyCodeLine{7869   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=max(0., (tgpatch-\/>GetX())[0]);}
\DoxyCodeLine{7870   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=min((\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (\textcolor{keywordtype}{double})\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.), (tgpatch-\/>GetX())[tgpatch-\/>GetN()-\/1]);}
\DoxyCodeLine{7871 }
\DoxyCodeLine{7872   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{7873     finput-\/>cd();}
\DoxyCodeLine{7874     TGraphErrors* tgin = 0;}
\DoxyCodeLine{7875     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{7876     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{7877     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{7878     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{7879       TTree* tree;}
\DoxyCodeLine{7880       \textcolor{keywordflow}{if} (ig==0) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4mu"});}
\DoxyCodeLine{7881       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4e"});}
\DoxyCodeLine{7882       \textcolor{keywordflow}{else} tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_2mu2e"});}
\DoxyCodeLine{7883       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{7884       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{7885         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{7886         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{7887         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{7888         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{7889         TProfile* pmass;}
\DoxyCodeLine{7890         \textcolor{keywordflow}{if} (ig==0) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4mu"});}
\DoxyCodeLine{7891         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4e"});}
\DoxyCodeLine{7892         \textcolor{keywordflow}{else} pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_2mu2e"});}
\DoxyCodeLine{7893         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{7894           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{7895             tg, tree, pmass,}
\DoxyCodeLine{7896             rediv,}
\DoxyCodeLine{7897             ZZMass, mesq, weight}
\DoxyCodeLine{7898           );}
\DoxyCodeLine{7899         \}}
\DoxyCodeLine{7900       \}}
\DoxyCodeLine{7901     \}}
\DoxyCodeLine{7902 }
\DoxyCodeLine{7903     foutput-\/>cd();}
\DoxyCodeLine{7904     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{7905 }
\DoxyCodeLine{7906     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{7907     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{7908     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{7909     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{7910     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{7911 }
\DoxyCodeLine{7912     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg);}
\DoxyCodeLine{7913     sp-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_initial"}, sp-\/>GetName()));}
\DoxyCodeLine{7914     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{7915     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{7916     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{7917     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting low patch..."} << endl;}
\DoxyCodeLine{7918     TGraph* lowGraph = lowpatcher(sp, sppatch, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{7919     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting high patch..."} << endl;}
\DoxyCodeLine{7920     TGraph* highGraph = highpatcher(sp, sppatch, tghigh, xmax, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{7921     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Converting patches to splines..."} << endl;}
\DoxyCodeLine{7922     TSpline3* lowFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(lowGraph);}
\DoxyCodeLine{7923     TSpline3* highFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(highGraph);}
\DoxyCodeLine{7924 }
\DoxyCodeLine{7925     vector<pair<double, double>> points;}
\DoxyCodeLine{7926     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{7927       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{7928       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7929     \}}
\DoxyCodeLine{7930     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{7931       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{7932     \}}
\DoxyCodeLine{7933     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{7934     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double})tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{7935     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{7936       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{7937       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{7938     \}}
\DoxyCodeLine{7939 }
\DoxyCodeLine{7940     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{7941     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{7942     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{7943     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{7944     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{7945       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{7946       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{7947     \}}
\DoxyCodeLine{7948 }
\DoxyCodeLine{7949     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{7950     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{7951     \textcolor{keyword}{delete} highGraph;}
\DoxyCodeLine{7952     \textcolor{keyword}{delete} lowGraph;}
\DoxyCodeLine{7953     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7954 }
\DoxyCodeLine{7955     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{7956     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{7957     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{7958 }
\DoxyCodeLine{7959     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{7960     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{7961 }
\DoxyCodeLine{7962     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{7963     ctest-\/>cd();}
\DoxyCodeLine{7964     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{7965     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{7966     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{7967     ctest-\/>RedrawAxis();}
\DoxyCodeLine{7968     ctest-\/>Modified();}
\DoxyCodeLine{7969     ctest-\/>Update();}
\DoxyCodeLine{7970     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{7971     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{7972     ctest-\/>Close();}
\DoxyCodeLine{7973 }
\DoxyCodeLine{7974     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{7975     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{7976     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{7977     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{7978   \}}
\DoxyCodeLine{7979 }
\DoxyCodeLine{7980   \textcolor{keyword}{delete} sppatch;}
\DoxyCodeLine{7981   foutput-\/>Close();}
\DoxyCodeLine{7982   finput\_patch-\/>Close();}
\DoxyCodeLine{7983   finput-\/>Close();}
\DoxyCodeLine{7984 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a30adde5d179cc8f2ebe41d34a30ddf27}\label{calcC__lintolog_8c_a30adde5d179cc8f2ebe41d34a30ddf27}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}}
\index{generic\_PAvgSmoothProducer\_withDecay@{generic\_PAvgSmoothProducer\_withDecay}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{generic\_PAvgSmoothProducer\_withDecay()}{generic\_PAvgSmoothProducer\_withDecay()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily void generic\+\_\+\+P\+Avg\+Smooth\+Producer\+\_\+with\+Decay (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{T\+Var\+::\+Matrix\+Element}}}]{me,  }\item[{\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{T\+Var\+::\+Production}}}]{prod,  }\item[{\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{T\+Var\+::\+Process}}}]{proc,  }\item[{T\+String}]{strpatchpath,  }\item[{T\+String}]{strpatchname,  }\item[{T\+String}]{strpatchpath2,  }\item[{T\+String}]{strpatchname2,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{lowpatcher,  }\item[{T\+Graph $\ast$($\ast$)(T\+Spline3 $\ast$, T\+Spline3 $\ast$, double, double, bool, bool)}]{highpatcher,  }\item[{int}]{sqrts = {\ttfamily -\/1},  }\item[{vector$<$ \mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} $>$ $\ast$}]{redivision = {\ttfamily nullptr} }\end{DoxyParamCaption})}



Definition at line 7986 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7994    \{}
\DoxyCodeLine{7995   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{7996   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{7997   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{7998   TString strsqrts=\textcolor{stringliteral}{""};}
\DoxyCodeLine{7999   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0) strsqrts = Form(\textcolor{stringliteral}{"\_\%iTeV"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{8000 }
\DoxyCodeLine{8001   TString strappend = Form(\textcolor{stringliteral}{"\%s\_\%s\_\%s\%s"}, strme.Data(), strprod.Data(), strproc.Data(), strsqrts.Data());}
\DoxyCodeLine{8002 }
\DoxyCodeLine{8003   TFile* finput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8004   TFile* finput\_patch = TFile::Open(strpatchpath, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8005   TFile* finput\_patch2 = TFile::Open(strpatchpath2, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8006   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgSmooth\_\%s\%s"}, strappend.Data(), \textcolor{stringliteral}{".root"}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{8007   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=3;}
\DoxyCodeLine{8008   TString strtg[ngraphs]=\{}
\DoxyCodeLine{8009     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4mu"},}
\DoxyCodeLine{8010     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_4e"},}
\DoxyCodeLine{8011     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass\_2mu2e"}}
\DoxyCodeLine{8012   \};}
\DoxyCodeLine{8013 }
\DoxyCodeLine{8014   TGraph* tgpatch = (TGraph*)finput\_patch-\/>Get(strpatchname);}
\DoxyCodeLine{8015   TSpline3* sppatch = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tgpatch);}
\DoxyCodeLine{8016 }
\DoxyCodeLine{8017   TGraph* tgpatch2 = (TGraph*)finput\_patch2-\/>Get(strpatchname2);}
\DoxyCodeLine{8018   TSpline3* sppatch2 = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tgpatch2);}
\DoxyCodeLine{8019 }
\DoxyCodeLine{8020   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}=max(0., (tgpatch-\/>GetX())[0]);}
\DoxyCodeLine{8021   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xmax=min((\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}>0 ? (\textcolor{keywordtype}{double})\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000. : 15000.), (tgpatch-\/>GetX())[tgpatch-\/>GetN()-\/1]);}
\DoxyCodeLine{8022 }
\DoxyCodeLine{8023   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{8024     finput-\/>cd();}
\DoxyCodeLine{8025     TGraphErrors* tgin = 0;}
\DoxyCodeLine{8026     tgin = (TGraphErrors*) finput-\/>Get(strtg[ig]);}
\DoxyCodeLine{8027     \textcolor{keywordflow}{if} (tgin==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{8028     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(*tgin);}
\DoxyCodeLine{8029     \textcolor{keywordflow}{if} (redivision)\{}
\DoxyCodeLine{8030       TTree* tree;}
\DoxyCodeLine{8031       \textcolor{keywordflow}{if} (ig==0) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4mu"});}
\DoxyCodeLine{8032       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_4e"});}
\DoxyCodeLine{8033       \textcolor{keywordflow}{else} tree = (TTree*) finput-\/>Get(\textcolor{stringliteral}{"FinalTree\_2mu2e"});}
\DoxyCodeLine{8034       \textcolor{keywordflow}{if} (!tree) cerr << \textcolor{stringliteral}{"Final tree does not exist, so cannot apply redivision"} << endl;}
\DoxyCodeLine{8035       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{8036         \textcolor{keywordtype}{float} ZZMass, weight, mesq;}
\DoxyCodeLine{8037         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&ZZMass);}
\DoxyCodeLine{8038         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"weight"}, \&weight);}
\DoxyCodeLine{8039         tree-\/>SetBranchAddress(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq);}
\DoxyCodeLine{8040         TProfile* pmass;}
\DoxyCodeLine{8041         \textcolor{keywordflow}{if} (ig==0) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4mu"});}
\DoxyCodeLine{8042         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ig==1) pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_4e"});}
\DoxyCodeLine{8043         \textcolor{keywordflow}{else} pmass = (TProfile*) finput-\/>Get(\textcolor{stringliteral}{"candMass\_2mu2e"});}
\DoxyCodeLine{8044         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structPointRedivision}{PointRedivision}}\& rediv:*redivision)\{}
\DoxyCodeLine{8045           \mbox{\hyperlink{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}{rebinAverageME}}(}
\DoxyCodeLine{8046             tg, tree, pmass,}
\DoxyCodeLine{8047             rediv,}
\DoxyCodeLine{8048             ZZMass, mesq, weight}
\DoxyCodeLine{8049           );}
\DoxyCodeLine{8050         \}}
\DoxyCodeLine{8051       \}}
\DoxyCodeLine{8052     \}}
\DoxyCodeLine{8053 }
\DoxyCodeLine{8054     foutput-\/>cd();}
\DoxyCodeLine{8055     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{8056 }
\DoxyCodeLine{8057     \textcolor{keywordtype}{int} n = tg-\/>GetN();}
\DoxyCodeLine{8058     \textcolor{keywordtype}{double}* xx = tg-\/>GetX();}
\DoxyCodeLine{8059     \textcolor{keywordtype}{double}* ex = tg-\/>GetEX();}
\DoxyCodeLine{8060     \textcolor{keywordtype}{double}* yy = tg-\/>GetY();}
\DoxyCodeLine{8061     \textcolor{keywordtype}{double}* ey = tg-\/>GetEY();}
\DoxyCodeLine{8062 }
\DoxyCodeLine{8063     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg);}
\DoxyCodeLine{8064     sp-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_initial"}, sp-\/>GetName()));}
\DoxyCodeLine{8065     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8066     \textcolor{keywordtype}{double} tglow = xx[0];}
\DoxyCodeLine{8067     \textcolor{keywordtype}{double} tghigh = xx[tg-\/>GetN()-\/1];}
\DoxyCodeLine{8068     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting low patch..."} << endl;}
\DoxyCodeLine{8069     TGraph* lowGraph = lowpatcher(sp, sppatch, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true}, \textcolor{keyword}{false});}
\DoxyCodeLine{8070     \textcolor{keywordflow}{if} (lowGraph==0) lowGraph = lowpatcher(sp, sppatch2, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, tglow, \textcolor{keyword}{true}, \textcolor{keyword}{true});}
\DoxyCodeLine{8071     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting high patch..."} << endl;}
\DoxyCodeLine{8072     TGraph* highGraph = highpatcher(sp, sppatch, tghigh, xmax, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{8073     \textcolor{keywordflow}{if} (highGraph==0) highGraph = highpatcher(sp, sppatch2, tghigh, xmax, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{8074     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Converting patches to splines..."} << endl;}
\DoxyCodeLine{8075     TSpline3* lowFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(lowGraph);}
\DoxyCodeLine{8076     TSpline3* highFcn = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(highGraph);}
\DoxyCodeLine{8077 }
\DoxyCodeLine{8078     vector<pair<double, double>> points;}
\DoxyCodeLine{8079     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}; xval<tglow; xval+=1)\{}
\DoxyCodeLine{8080       \textcolor{keywordtype}{double} yval = lowFcn-\/>Eval(xval);}
\DoxyCodeLine{8081       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8082     \}}
\DoxyCodeLine{8083     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<n; ix++)\{}
\DoxyCodeLine{8084       addByLowest<double, double>(points, xx[ix], yy[ix]);}
\DoxyCodeLine{8085     \}}
\DoxyCodeLine{8086     \textcolor{keywordtype}{int} tghigh\_int = ((\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})((tghigh+1.)/100.+0.5))*100;}
\DoxyCodeLine{8087     \textcolor{keywordflow}{if} (tghigh>=(\textcolor{keywordtype}{double})tghigh\_int) tghigh\_int+=100;}
\DoxyCodeLine{8088     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} xval=tghigh\_int; xval<=xmax; xval+=100)\{}
\DoxyCodeLine{8089       \textcolor{keywordtype}{double} yval = highFcn-\/>Eval(xval);}
\DoxyCodeLine{8090       addByLowest<double, double>(points, xval, yval);}
\DoxyCodeLine{8091     \}}
\DoxyCodeLine{8092 }
\DoxyCodeLine{8093     \textcolor{keywordtype}{int} nn\_new = points.size();}
\DoxyCodeLine{8094     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of new points: "} << nn\_new-\/n << endl;}
\DoxyCodeLine{8095     \textcolor{keywordtype}{double}* xy\_new[2];}
\DoxyCodeLine{8096     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy\_new[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nn\_new];}
\DoxyCodeLine{8097     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<nn\_new; ix++)\{}
\DoxyCodeLine{8098       xy\_new[0][ix] = points.at(ix).first;}
\DoxyCodeLine{8099       xy\_new[1][ix] = points.at(ix).second;}
\DoxyCodeLine{8100     \}}
\DoxyCodeLine{8101 }
\DoxyCodeLine{8102     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{8103     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{8104     \textcolor{keyword}{delete} highGraph;}
\DoxyCodeLine{8105     \textcolor{keyword}{delete} lowGraph;}
\DoxyCodeLine{8106     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8107 }
\DoxyCodeLine{8108     TGraph* tg\_updated = \textcolor{keyword}{new} TGraph(nn\_new, xy\_new[0], xy\_new[1]);}
\DoxyCodeLine{8109     tg\_updated-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{8110     foutput-\/>WriteTObject(tg\_updated);}
\DoxyCodeLine{8111 }
\DoxyCodeLine{8112     sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg\_updated);}
\DoxyCodeLine{8113     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8114 }
\DoxyCodeLine{8115     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(Form(\textcolor{stringliteral}{"test\_\%s"}, strtg[ig].Data()), \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{8116     ctest-\/>cd();}
\DoxyCodeLine{8117     tg-\/>GetXaxis()-\/>SetRangeUser(\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{8118     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{8119     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8120     ctest-\/>RedrawAxis();}
\DoxyCodeLine{8121     ctest-\/>Modified();}
\DoxyCodeLine{8122     ctest-\/>Update();}
\DoxyCodeLine{8123     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{8124     ctest-\/>SaveAs(Form(\textcolor{stringliteral}{"\%s\%s"}, ctest-\/>GetName(), \textcolor{stringliteral}{".pdf"}));}
\DoxyCodeLine{8125     ctest-\/>Close();}
\DoxyCodeLine{8126 }
\DoxyCodeLine{8127     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8128     \textcolor{keyword}{delete} tg\_updated;}
\DoxyCodeLine{8129     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy\_new[i];}
\DoxyCodeLine{8130     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{8131   \}}
\DoxyCodeLine{8132 }
\DoxyCodeLine{8133   \textcolor{keyword}{delete} sppatch2;}
\DoxyCodeLine{8134   \textcolor{keyword}{delete} sppatch;}
\DoxyCodeLine{8135   foutput-\/>Close();}
\DoxyCodeLine{8136   finput\_patch2-\/>Close();}
\DoxyCodeLine{8137   finput\_patch-\/>Close();}
\DoxyCodeLine{8138   finput-\/>Close();}
\DoxyCodeLine{8139 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a33c65eecf83260556068c5d2a84acfeb}\label{calcC__lintolog_8c_a33c65eecf83260556068c5d2a84acfeb}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs@{get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs}}
\index{get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs@{get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs()}{get\_PAvgProfile\_ANALYTICAL\_HadVH\_HSMHiggs()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts }\end{DoxyParamCaption})}

measurables.\+m2,

Definition at line 6354 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6354                                                                           \{}
\DoxyCodeLine{6355   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH"} || strprod == \textcolor{stringliteral}{"Had\_WH"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{6356   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{6357   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{6358   \textcolor{keywordtype}{float} mVPOLE;}
\DoxyCodeLine{6359 }
\DoxyCodeLine{6360   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{6361   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{6362 }
\DoxyCodeLine{6363   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{6364   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa9fdc837342593f106136aa5de019149b}{TVar::ANALYTICAL}};}
\DoxyCodeLine{6365   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{6366   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{6367     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{6368     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{6369   \}}
\DoxyCodeLine{6370   \mbox{\hyperlink{classRooSpin_ac6122b9b6a334da66a3eea86e30d7723}{RooSpin::VdecayType}} pmode, dmode;}
\DoxyCodeLine{6371   \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}})\{}
\DoxyCodeLine{6372     pmode=\mbox{\hyperlink{classRooSpin_ac6122b9b6a334da66a3eea86e30d7723aebfdb5e20b90dc76850b1e62219a29da}{RooSpin::kVdecayType\_Zud}};}
\DoxyCodeLine{6373     dmode=pmode;}
\DoxyCodeLine{6374     mVPOLE=mela.getPrimaryMass(23);}
\DoxyCodeLine{6375   \}}
\DoxyCodeLine{6376   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{6377     pmode=\mbox{\hyperlink{classRooSpin_ac6122b9b6a334da66a3eea86e30d7723a83404b84278ad8192a4ac4494a24fe91}{RooSpin::kVdecayType\_Wany}};}
\DoxyCodeLine{6378     dmode=pmode;}
\DoxyCodeLine{6379     mVPOLE=mela.getPrimaryMass(24);}
\DoxyCodeLine{6380   \}}
\DoxyCodeLine{6381 }
\DoxyCodeLine{6382   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{6383   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{6384 }
\DoxyCodeLine{6385 }
\DoxyCodeLine{6386   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Acquiring measurables and pdf..."} << endl;}
\DoxyCodeLine{6387   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xrange[2]=\{ 57, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000.-\/1. \};}
\DoxyCodeLine{6388   RooRealVar* m12 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"m12"}, \textcolor{stringliteral}{"m\_\{H\} (GeV)"}, mPOLE, xrange[0], xrange[1]);}
\DoxyCodeLine{6389   RooRealVar* m1 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"m1"}, \textcolor{stringliteral}{"m1"}, 460, (mVPOLE)-\/10., \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}*1000.);}
\DoxyCodeLine{6390   RooRealVar* m2 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"m2"}, \textcolor{stringliteral}{"m2"}, mVPOLE, mVPOLE-\/0.05, mVPOLE+0.05);}
\DoxyCodeLine{6391   RooRealVar* h1 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"h1"}, \textcolor{stringliteral}{"cos\#theta\_\{V*\}"}, -\/1, 1);}
\DoxyCodeLine{6392   RooRealVar* h2 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"h2"}, \textcolor{stringliteral}{"cos\#theta\_\{V\}"}, -\/1, 1);}
\DoxyCodeLine{6393   RooRealVar* Phi1 = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"Phi1"}, \textcolor{stringliteral}{"\#Phi\_\{V*\}"}, -\/TMath::Pi(), TMath::Pi());}
\DoxyCodeLine{6394   RooRealVar* hs = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"hs"}, \textcolor{stringliteral}{"cos\#theta\string^\{*\}"}, -\/1, 1);}
\DoxyCodeLine{6395   RooRealVar* Phi = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"Phi"}, \textcolor{stringliteral}{"\#Phi"}, -\/TMath::Pi(), TMath::Pi());}
\DoxyCodeLine{6396   RooRealVar* Y = \textcolor{keyword}{new} RooRealVar(\textcolor{stringliteral}{"Y"}, \textcolor{stringliteral}{"Y"}, 0, -\/4, 4);}
\DoxyCodeLine{6397 }
\DoxyCodeLine{6398   \mbox{\hyperlink{structRooSpin_1_1modelMeasurables}{RooSpin::modelMeasurables}} measurables;}
\DoxyCodeLine{6399   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_afe6983759e2682424885a9bb18b697ad}{h1}} = h1;}
\DoxyCodeLine{6400   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_ad528de8e4fcbbd3aee5b3ab0ffd7cfa2}{h2}} = h2;}
\DoxyCodeLine{6401   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_aa17a592fc6c2ead290a2a0934efb4458}{Phi}} = Phi;}
\DoxyCodeLine{6402   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}} = m1;}
\DoxyCodeLine{6403   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}} = m2;}
\DoxyCodeLine{6404   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}} = m12;}
\DoxyCodeLine{6405   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a91a45cd485b0da38c9a62abdd21385d7}{hs}} = hs;}
\DoxyCodeLine{6406   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a1eef1147c62f6333dea2ed09cc3cce2c}{Phi1}} = Phi1;}
\DoxyCodeLine{6407   measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a5af796207b85d31b4f95a4e92253ac39}{Y}} = Y;}
\DoxyCodeLine{6408 }
\DoxyCodeLine{6409   \mbox{\hyperlink{classScalarPdfFactory__VH}{ScalarPdfFactory\_VH}} fac(measurables, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}, pmode, dmode, \textcolor{keyword}{false});}
\DoxyCodeLine{6410   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"m2 is fixed to "} << measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}}-\/>getVal() << endl;}
\DoxyCodeLine{6411   fac.makeParamsConst(\textcolor{keyword}{false});}
\DoxyCodeLine{6412   RooRealVar* g1List[8][2];}
\DoxyCodeLine{6413   RooRealVar* g2List[8][2];}
\DoxyCodeLine{6414   \textcolor{comment}{//RooRealVar* g3List[8][2];}}
\DoxyCodeLine{6415   RooRealVar* g4List[8][2];}
\DoxyCodeLine{6416   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} gg=0; gg<8; gg++)\{}
\DoxyCodeLine{6417     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} im=0; im<2; im++)\{}
\DoxyCodeLine{6418       g1List[gg][im] = (RooRealVar*)fac.couplings.g1List[gg][im];}
\DoxyCodeLine{6419       g2List[gg][im] = (RooRealVar*)fac.couplings.g2List[gg][im];}
\DoxyCodeLine{6420       \textcolor{comment}{//g3List[gg][im] = (RooRealVar*)fac.couplings.g3List[gg][im];}}
\DoxyCodeLine{6421       g4List[gg][im] = (RooRealVar*)fac.couplings.g4List[gg][im];}
\DoxyCodeLine{6422     \}}
\DoxyCodeLine{6423   \}}
\DoxyCodeLine{6424   g1List[0][0]-\/>setVal(1);}
\DoxyCodeLine{6425 }
\DoxyCodeLine{6426   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{6427 }
\DoxyCodeLine{6428   m12-\/>setConstant(\textcolor{keyword}{false});}
\DoxyCodeLine{6429   vector<double> masses;}
\DoxyCodeLine{6430   \textcolor{keywordtype}{double} massmin=xrange[0];}
\DoxyCodeLine{6431   \textcolor{keywordtype}{double} mass=massmin;}
\DoxyCodeLine{6432   \textcolor{keywordflow}{while} (mass<=xrange[1])\{}
\DoxyCodeLine{6433     masses.push\_back(mass);}
\DoxyCodeLine{6434     \textcolor{keywordtype}{double} massinc;}
\DoxyCodeLine{6435     \textcolor{keywordflow}{if} (mass<90.) massinc=1;}
\DoxyCodeLine{6436     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<194.) massinc=2;}
\DoxyCodeLine{6437     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<200.) massinc=3;}
\DoxyCodeLine{6438     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<600.) massinc=20.;}
\DoxyCodeLine{6439     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<1500.) massinc=100.;}
\DoxyCodeLine{6440     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<3000.) massinc=250.;}
\DoxyCodeLine{6441     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<10000.) massinc=500.;}
\DoxyCodeLine{6442     \textcolor{keywordflow}{else} massinc=1000.;}
\DoxyCodeLine{6443     mass += massinc;}
\DoxyCodeLine{6444   \}}
\DoxyCodeLine{6445   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} npoints=masses.size();}
\DoxyCodeLine{6446   m12-\/>setRange(xrange[0], xrange[1]);}
\DoxyCodeLine{6447 }
\DoxyCodeLine{6448   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{6449   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) xy[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[npoints];}
\DoxyCodeLine{6450 }
\DoxyCodeLine{6451   RooAbsPdf* pdf = fac.getPDF();}
\DoxyCodeLine{6452   \textcolor{comment}{/*}}
\DoxyCodeLine{6453 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>method1D().setLabel("RooAdaptiveGaussKronrodIntegrator1D");}}
\DoxyCodeLine{6454 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>getConfigSection("RooAdaptiveGaussKronrodIntegrator1D").setRealValue("maxSeg", 100);;}}
\DoxyCodeLine{6455 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>method2D().setLabel("RooAdaptiveGaussKronrodIntegrator2D");}}
\DoxyCodeLine{6456 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>getConfigSection("RooAdaptiveGaussKronrodIntegrator2D").setRealValue("maxSeg", 100);;}}
\DoxyCodeLine{6457 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>methodND().setLabel("RooAdaptiveGaussKronrodIntegratorND");}}
\DoxyCodeLine{6458 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>getConfigSection("RooAdaptiveGaussKronrodIntegratorND").setRealValue("maxSeg", 100);;}}
\DoxyCodeLine{6459 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>setEpsAbs(1e-\/5);}}
\DoxyCodeLine{6460 \textcolor{comment}{  pdf-\/>defaultIntegratorConfig()-\/>setEpsRel(1e-\/5);}}
\DoxyCodeLine{6461 \textcolor{comment}{  */}}
\DoxyCodeLine{6462 }
\DoxyCodeLine{6463   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Computing pdf integral as a function of "} << measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}}-\/>GetName() << endl;}
\DoxyCodeLine{6464   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<npoints; ix++)\{}
\DoxyCodeLine{6465     xy[0][ix]=masses.at(ix);}
\DoxyCodeLine{6466     m12-\/>setVal(xy[0][ix]);}
\DoxyCodeLine{6467     ((RooRealVar*)fac.parameters.mX)-\/>setVal(m12-\/>getVal());}
\DoxyCodeLine{6468     ((RooRealVar*)fac.parameters.gamX)-\/>setVal(1./m12-\/>getVal());}
\DoxyCodeLine{6469 }
\DoxyCodeLine{6470     \textcolor{keywordtype}{float} m1\_low = xy[0][ix] + measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}}-\/>getVal();}
\DoxyCodeLine{6471     m1-\/>setRange(m1\_low, 1000.*\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{6472     m1-\/>setVal((m1-\/>getMin()+m1-\/>getMax())/2.);}
\DoxyCodeLine{6473     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"m1 min, max, val = "} << m1-\/>getMin() << \textcolor{stringliteral}{" "} << m1-\/>getMax() << \textcolor{stringliteral}{" "} << m1-\/>getVal() << endl;}
\DoxyCodeLine{6474 }
\DoxyCodeLine{6475     RooRealIntegral* pdfInt = \textcolor{keyword}{new} RooRealIntegral(}
\DoxyCodeLine{6476       \textcolor{stringliteral}{"pdfInt"}, \textcolor{stringliteral}{""}, *pdf,}
\DoxyCodeLine{6477       RooArgSet(}
\DoxyCodeLine{6478       *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_afe6983759e2682424885a9bb18b697ad}{h1}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_ad528de8e4fcbbd3aee5b3ab0ffd7cfa2}{h2}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_aa17a592fc6c2ead290a2a0934efb4458}{Phi}},}
\DoxyCodeLine{6479       *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a91a45cd485b0da38c9a62abdd21385d7}{hs}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a1eef1147c62f6333dea2ed09cc3cce2c}{Phi1}}\textcolor{comment}{//,}}
\DoxyCodeLine{6480       \textcolor{comment}{//*measurables.m1//,}}
\DoxyCodeLine{6482 \textcolor{comment}{}      \textcolor{comment}{//*measurables.Y}}
\DoxyCodeLine{6483       )}
\DoxyCodeLine{6484       );}
\DoxyCodeLine{6485     \textcolor{keywordflow}{if} (ix==0) pdfInt-\/>Print(\textcolor{stringliteral}{"v"});}
\DoxyCodeLine{6486     xy[1][ix]=pdfInt-\/>getVal();}
\DoxyCodeLine{6487     \textcolor{keyword}{delete} pdfInt;}
\DoxyCodeLine{6488 }
\DoxyCodeLine{6489     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"pdfInt("} << xy[0][ix] << \textcolor{stringliteral}{") = "} << xy[1][ix] << endl;}
\DoxyCodeLine{6490     xy[1][ix] = log10(xy[1][ix]);}
\DoxyCodeLine{6491   \}}
\DoxyCodeLine{6492   TGraph* tg = \textcolor{keyword}{new} TGraph(npoints, xy[0], xy[1]);}
\DoxyCodeLine{6493   tg-\/>SetName(\textcolor{stringliteral}{"tg\_anaPdfInt"});}
\DoxyCodeLine{6494 }
\DoxyCodeLine{6495   foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{6496   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{6497   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{6498 }
\DoxyCodeLine{6499   foutput-\/>Close();}
\DoxyCodeLine{6500 }
\DoxyCodeLine{6501   \textcolor{keyword}{delete} m12;}
\DoxyCodeLine{6502   \textcolor{keyword}{delete} m1;}
\DoxyCodeLine{6503   \textcolor{keyword}{delete} m2;}
\DoxyCodeLine{6504   \textcolor{keyword}{delete} hs;}
\DoxyCodeLine{6505   \textcolor{keyword}{delete} h1;}
\DoxyCodeLine{6506   \textcolor{keyword}{delete} h2;}
\DoxyCodeLine{6507   \textcolor{keyword}{delete} Phi;}
\DoxyCodeLine{6508   \textcolor{keyword}{delete} Phi1;}
\DoxyCodeLine{6509   \textcolor{keyword}{delete} Y;}
\DoxyCodeLine{6510 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a2b9383546c9f8970ebfc6d57a1027684}\label{calcC__lintolog_8c_a2b9383546c9f8970ebfc6d57a1027684}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs}}
\index{get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs()}{get\_PAvgProfile\_ANALYTICAL\_ZZGG\_HSMHiggs()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 6266 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6266                                                \{}
\DoxyCodeLine{6267   \textcolor{keyword}{const} \textcolor{keywordtype}{int} erg\_tev=13;}
\DoxyCodeLine{6268   \textcolor{keyword}{const} \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{6269 }
\DoxyCodeLine{6270   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{6271   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{6272 }
\DoxyCodeLine{6273   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{6274   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa9fdc837342593f106136aa5de019149b}{TVar::ANALYTICAL}};}
\DoxyCodeLine{6275   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{6276 }
\DoxyCodeLine{6277   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{6278   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{6279   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{6280 }
\DoxyCodeLine{6281   \textcolor{keywordtype}{double} m1\_low=40;}
\DoxyCodeLine{6282   \textcolor{keywordtype}{double} m2\_low=12;}
\DoxyCodeLine{6283 }
\DoxyCodeLine{6284   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{6285 }
\DoxyCodeLine{6286   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Acquiring Mela measurables and pdf..."} << endl;}
\DoxyCodeLine{6287   \mbox{\hyperlink{structRooSpin_1_1modelMeasurables}{RooSpin::modelMeasurables}} measurables = mela.getMeasurablesRRV();}
\DoxyCodeLine{6288   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xrange[2]=\{ max(57., (\textcolor{keywordtype}{double})((\textcolor{keywordtype}{int})(m1\_low+m2\_low+0.5))), 15000. \};}
\DoxyCodeLine{6289   vector<double> masses;}
\DoxyCodeLine{6290   \textcolor{keywordtype}{double} massmin=xrange[0];}
\DoxyCodeLine{6291   \textcolor{keywordtype}{double} mass=massmin;}
\DoxyCodeLine{6292   \textcolor{keywordflow}{while} (mass<=xrange[1])\{}
\DoxyCodeLine{6293     masses.push\_back(mass);}
\DoxyCodeLine{6294     \textcolor{keywordtype}{double} massinc;}
\DoxyCodeLine{6295     \textcolor{keywordflow}{if} (mass<90.) massinc=1;}
\DoxyCodeLine{6296     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<194.) massinc=2;}
\DoxyCodeLine{6297     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<200.) massinc=3;}
\DoxyCodeLine{6298     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<600.) massinc=20.;}
\DoxyCodeLine{6299     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<1500.) massinc=100.;}
\DoxyCodeLine{6300     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<3000.) massinc=250.;}
\DoxyCodeLine{6301     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<10000.) massinc=500.;}
\DoxyCodeLine{6302     \textcolor{keywordflow}{else} massinc=1000.;}
\DoxyCodeLine{6303     mass += massinc;}
\DoxyCodeLine{6304   \}}
\DoxyCodeLine{6305   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} npoints=masses.size();}
\DoxyCodeLine{6306   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}})-\/>setRange(xrange[0], xrange[1]);}
\DoxyCodeLine{6307   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}})-\/>setRange(m1\_low, 120); ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}})-\/>setVal(m1\_low);}
\DoxyCodeLine{6308   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}})-\/>setRange(m2\_low, 120); ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}})-\/>setVal(m2\_low);}
\DoxyCodeLine{6309   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{6310   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) xy[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[npoints];}
\DoxyCodeLine{6311 }
\DoxyCodeLine{6312   mela.upFrac\_rrv-\/>setVal(1.);}
\DoxyCodeLine{6313   mela.upFrac\_rrv-\/>setConstant(\textcolor{keyword}{true});}
\DoxyCodeLine{6314 }
\DoxyCodeLine{6315   RooAbsPdf* pdf = mela.ggSpin0Model-\/>getPDF();}
\DoxyCodeLine{6316   pdf-\/>defaultIntegratorConfig()-\/>method1D().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator1D"});}
\DoxyCodeLine{6317   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator1D"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6318   pdf-\/>defaultIntegratorConfig()-\/>method2D().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator2D"});}
\DoxyCodeLine{6319   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator2D"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6320   pdf-\/>defaultIntegratorConfig()-\/>methodND().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegratorND"});}
\DoxyCodeLine{6321   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegratorND"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6322   pdf-\/>defaultIntegratorConfig()-\/>setEpsAbs(1e-\/5);}
\DoxyCodeLine{6323   pdf-\/>defaultIntegratorConfig()-\/>setEpsRel(1e-\/5);}
\DoxyCodeLine{6324 }
\DoxyCodeLine{6325   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Computing pdf integral as a function of "} << measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}}-\/>GetName() << endl;}
\DoxyCodeLine{6326   RooRealIntegral* pdfInt = \textcolor{keyword}{new} RooRealIntegral(}
\DoxyCodeLine{6327     \textcolor{stringliteral}{"pdfInt"}, \textcolor{stringliteral}{""}, *pdf,}
\DoxyCodeLine{6328     RooArgSet(}
\DoxyCodeLine{6329     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_afe6983759e2682424885a9bb18b697ad}{h1}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_ad528de8e4fcbbd3aee5b3ab0ffd7cfa2}{h2}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_aa17a592fc6c2ead290a2a0934efb4458}{Phi}},}
\DoxyCodeLine{6330     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a91a45cd485b0da38c9a62abdd21385d7}{hs}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a1eef1147c62f6333dea2ed09cc3cce2c}{Phi1}},}
\DoxyCodeLine{6331     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}}\textcolor{comment}{/*,}}
\DoxyCodeLine{6332 \textcolor{comment}{    *measurables.Y*/}}
\DoxyCodeLine{6333     )}
\DoxyCodeLine{6334     );}
\DoxyCodeLine{6335   pdfInt-\/>Print(\textcolor{stringliteral}{"v"});}
\DoxyCodeLine{6336   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<npoints; ix++)\{}
\DoxyCodeLine{6337     xy[0][ix]=masses.at(ix);}
\DoxyCodeLine{6338     ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}})-\/>setVal(xy[0][ix]);}
\DoxyCodeLine{6339     xy[1][ix]=pdfInt-\/>getVal();}
\DoxyCodeLine{6340     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"pdfInt("} << xy[0][ix] << \textcolor{stringliteral}{") = "} << xy[1][ix] << endl;}
\DoxyCodeLine{6341     xy[1][ix] = log10(xy[1][ix]);}
\DoxyCodeLine{6342   \}}
\DoxyCodeLine{6343   TGraph* tg = \textcolor{keyword}{new} TGraph(npoints, xy[0], xy[1]);}
\DoxyCodeLine{6344   tg-\/>SetName(\textcolor{stringliteral}{"tg\_anaPdfInt"});}
\DoxyCodeLine{6345 }
\DoxyCodeLine{6346   foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{6347   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{6348   \textcolor{keyword}{delete} pdfInt;}
\DoxyCodeLine{6349   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{6350 }
\DoxyCodeLine{6351   foutput-\/>Close();}
\DoxyCodeLine{6352 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a24cb970d55f94f523fc020a948b1093e}\label{calcC__lintolog_8c_a24cb970d55f94f523fc020a948b1093e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ@{get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ}}
\index{get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ@{get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ()}{get\_PAvgProfile\_ANALYTICAL\_ZZQQB\_bkgZZ()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+A\+N\+A\+L\+Y\+T\+I\+C\+A\+L\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 6176 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6176                                              \{}
\DoxyCodeLine{6177   \textcolor{keyword}{const} \textcolor{keywordtype}{int} erg\_tev=13;}
\DoxyCodeLine{6178   \textcolor{keyword}{const} \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{6179 }
\DoxyCodeLine{6180   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{6181   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{6182 }
\DoxyCodeLine{6183   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{6184   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa9fdc837342593f106136aa5de019149b}{TVar::ANALYTICAL}};}
\DoxyCodeLine{6185   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caadcf7f0a83b7115068947fc704e41aea}{TVar::ZZQQB}};}
\DoxyCodeLine{6186 }
\DoxyCodeLine{6187   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{6188   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{6189   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{6190 }
\DoxyCodeLine{6191   \textcolor{keywordtype}{double} m1\_low=40;}
\DoxyCodeLine{6192   \textcolor{keywordtype}{double} m2\_low=12;}
\DoxyCodeLine{6193 }
\DoxyCodeLine{6194   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{6195 }
\DoxyCodeLine{6196   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Acquiring Mela measurables and pdf..."} << endl;}
\DoxyCodeLine{6197   \mbox{\hyperlink{structRooSpin_1_1modelMeasurables}{RooSpin::modelMeasurables}} measurables = mela.getMeasurablesRRV();}
\DoxyCodeLine{6198   \textcolor{keyword}{const} \textcolor{keywordtype}{double} xrange[2]=\{ max(57., (\textcolor{keywordtype}{double})((\textcolor{keywordtype}{int})(m1\_low+m2\_low+0.5))), 15000. \};}
\DoxyCodeLine{6199   vector<double> masses;}
\DoxyCodeLine{6200   \textcolor{keywordtype}{double} massmin=xrange[0];}
\DoxyCodeLine{6201   \textcolor{keywordtype}{double} mass=massmin;}
\DoxyCodeLine{6202   \textcolor{keywordflow}{while} (mass<=xrange[1])\{}
\DoxyCodeLine{6203     masses.push\_back(mass);}
\DoxyCodeLine{6204     \textcolor{keywordtype}{double} massinc;}
\DoxyCodeLine{6205     \textcolor{keywordflow}{if} (mass<90.) massinc=1;}
\DoxyCodeLine{6206     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<122.) massinc=4;}
\DoxyCodeLine{6207     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<194.) massinc=2;}
\DoxyCodeLine{6208     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<200.) massinc=3;}
\DoxyCodeLine{6209     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<600.) massinc=20.;}
\DoxyCodeLine{6210     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<1500.) massinc=100.;}
\DoxyCodeLine{6211     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<3000.) massinc=250.;}
\DoxyCodeLine{6212     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mass<10000.) massinc=500.;}
\DoxyCodeLine{6213     \textcolor{keywordflow}{else} massinc=1000.;}
\DoxyCodeLine{6214     mass += massinc;}
\DoxyCodeLine{6215   \}}
\DoxyCodeLine{6216   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} npoints=masses.size();}
\DoxyCodeLine{6217   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}})-\/>setRange(xrange[0], xrange[1]);}
\DoxyCodeLine{6218   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}})-\/>setRange(m1\_low, 120); ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}})-\/>setVal(m1\_low);}
\DoxyCodeLine{6219   ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}})-\/>setRange(m2\_low, 120); ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}})-\/>setVal(m2\_low);}
\DoxyCodeLine{6220   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{6221   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) xy[i] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[npoints];}
\DoxyCodeLine{6222 }
\DoxyCodeLine{6223   mela.upFrac\_rrv-\/>setVal(1.);}
\DoxyCodeLine{6224   mela.upFrac\_rrv-\/>setConstant(\textcolor{keyword}{true});}
\DoxyCodeLine{6225 }
\DoxyCodeLine{6226   RooAbsPdf* pdf = mela.qqZZmodel;}
\DoxyCodeLine{6227 }
\DoxyCodeLine{6228   pdf-\/>defaultIntegratorConfig()-\/>method1D().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator1D"});}
\DoxyCodeLine{6229   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator1D"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6230   pdf-\/>defaultIntegratorConfig()-\/>method2D().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator2D"});}
\DoxyCodeLine{6231   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegrator2D"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6232   pdf-\/>defaultIntegratorConfig()-\/>methodND().setLabel(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegratorND"});}
\DoxyCodeLine{6233   pdf-\/>defaultIntegratorConfig()-\/>getConfigSection(\textcolor{stringliteral}{"RooAdaptiveGaussKronrodIntegratorND"}).setRealValue(\textcolor{stringliteral}{"maxSeg"}, 100);;}
\DoxyCodeLine{6234   pdf-\/>defaultIntegratorConfig()-\/>setEpsAbs(1e-\/5);}
\DoxyCodeLine{6235   pdf-\/>defaultIntegratorConfig()-\/>setEpsRel(1e-\/5);}
\DoxyCodeLine{6236 }
\DoxyCodeLine{6237   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Computing pdf integral as a function of "} << measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}}-\/>GetName() << endl;}
\DoxyCodeLine{6238   RooRealIntegral* pdfInt = \textcolor{keyword}{new} RooRealIntegral(}
\DoxyCodeLine{6239     \textcolor{stringliteral}{"pdfInt"}, \textcolor{stringliteral}{""}, *pdf,}
\DoxyCodeLine{6240     RooArgSet(}
\DoxyCodeLine{6241     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_afe6983759e2682424885a9bb18b697ad}{h1}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_ad528de8e4fcbbd3aee5b3ab0ffd7cfa2}{h2}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_aa17a592fc6c2ead290a2a0934efb4458}{Phi}},}
\DoxyCodeLine{6242     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a91a45cd485b0da38c9a62abdd21385d7}{hs}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a1eef1147c62f6333dea2ed09cc3cce2c}{Phi1}},}
\DoxyCodeLine{6243     *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a69c2b20b07f3020591946d558892332f}{m1}}, *measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a0dc1f7de3fef00774a77e901b9f6dd5f}{m2}}\textcolor{comment}{/*,}}
\DoxyCodeLine{6244 \textcolor{comment}{    *measurables.Y*/}}
\DoxyCodeLine{6245     )}
\DoxyCodeLine{6246     );}
\DoxyCodeLine{6247   pdfInt-\/>Print(\textcolor{stringliteral}{"v"});}
\DoxyCodeLine{6248   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<npoints; ix++)\{}
\DoxyCodeLine{6249     xy[0][ix]=masses.at(ix);}
\DoxyCodeLine{6250     ((RooRealVar*)measurables.\mbox{\hyperlink{structRooSpin_1_1modelMeasurables_a111ea550007d0002293e9c33e18cc1ea}{m12}})-\/>setVal(xy[0][ix]);}
\DoxyCodeLine{6251     xy[1][ix]=pdfInt-\/>getVal();}
\DoxyCodeLine{6252     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"pdfInt("} << xy[0][ix] << \textcolor{stringliteral}{") = "} << xy[1][ix] << endl;}
\DoxyCodeLine{6253     xy[1][ix] = log10(xy[1][ix]);}
\DoxyCodeLine{6254   \}}
\DoxyCodeLine{6255   TGraph* tg = \textcolor{keyword}{new} TGraph(npoints, xy[0], xy[1]);}
\DoxyCodeLine{6256   tg-\/>SetName(\textcolor{stringliteral}{"tg\_anaPdfInt"});}
\DoxyCodeLine{6257 }
\DoxyCodeLine{6258   foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{6259   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{6260   \textcolor{keyword}{delete} pdfInt;}
\DoxyCodeLine{6261   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{6262 }
\DoxyCodeLine{6263   foutput-\/>Close();}
\DoxyCodeLine{6264 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a398134b22108b206297d76d076a3f907}\label{calcC__lintolog_8c_a398134b22108b206297d76d076a3f907}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV}}
\index{get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV()}{get\_PAvgProfile\_JHUGen\_HadVH\_HSMHiggs\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 2500 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2500                                                                                                         \{}
\DoxyCodeLine{2501   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH"} || strprod == \textcolor{stringliteral}{"Had\_WH"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2502   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{2503   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{2504   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{2505   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{2506   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{2507 }
\DoxyCodeLine{2508   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{2509   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{2510   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{2511   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{2512     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{2513     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{2514   \}}
\DoxyCodeLine{2515   TString strsamples=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2516   \textcolor{comment}{//TString strsamples2="";}}
\DoxyCodeLine{2517   \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_ZH"}) strsamples=\textcolor{stringliteral}{"ZH"};}
\DoxyCodeLine{2518   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_WH"}) strsamples=\textcolor{stringliteral}{"WH"};}
\DoxyCodeLine{2519   \textcolor{comment}{//if (strprod == "Had\_ZH") strsamples2="WH";}}
\DoxyCodeLine{2520   \textcolor{comment}{//else if (strprod == "Had\_WH") strsamples2="ZH";}}
\DoxyCodeLine{2521 }
\DoxyCodeLine{2522   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{2523   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{2524 }
\DoxyCodeLine{2525   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{2526   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{2527 }
\DoxyCodeLine{2528   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{2529   std::vector<float>* LepPt=0;}
\DoxyCodeLine{2530   std::vector<float>* LepEta=0;}
\DoxyCodeLine{2531   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{2532 }
\DoxyCodeLine{2533   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{2534   std::vector<float>* JetPt=0;}
\DoxyCodeLine{2535   std::vector<float>* JetEta=0;}
\DoxyCodeLine{2536   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{2537   std::vector<float>* JetMass=0;}
\DoxyCodeLine{2538   std::vector<float> myJetPt;}
\DoxyCodeLine{2539   std::vector<float> myJetEta;}
\DoxyCodeLine{2540   std::vector<float> myJetPhi;}
\DoxyCodeLine{2541   std::vector<float> myJetMass;}
\DoxyCodeLine{2542 }
\DoxyCodeLine{2543   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1., pmavjj=1.;}
\DoxyCodeLine{2544   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{2545   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{2546   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{2547   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{2548   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{2549   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{2550   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{2551   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{2552   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{2553   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{2554   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{2555   \textcolor{keywordtype}{float} genxsec=0, genBR=0, ngen=0, genHEPMCweight=0;}
\DoxyCodeLine{2556   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{2557   \textcolor{keywordtype}{float} rewgt=1;}
\DoxyCodeLine{2558   \textcolor{keywordtype}{bool} doRewgt=\textcolor{keyword}{false};}
\DoxyCodeLine{2559   \textcolor{keywordtype}{bool} recomputePmavjj=\textcolor{keyword}{false};}
\DoxyCodeLine{2560   TString strrewgtbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2561   TString strrecalcbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2562   TString strrecalcconstbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2563   TString strpmavjjbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2564 }
\DoxyCodeLine{2565   TString cinput\_main;}
\DoxyCodeLine{2566   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{2567   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{2568 }
\DoxyCodeLine{2569   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(strsamples, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{2570   \textcolor{comment}{//vector<TString> strSamples2 = constructSamplesList(strsamples2, sqrts);}}
\DoxyCodeLine{2571   \textcolor{comment}{//appendVector(strSamples, strSamples2);}}
\DoxyCodeLine{2572 }
\DoxyCodeLine{2573   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{2574   unordered\_map<TTree*, float> mass\_map;}
\DoxyCodeLine{2575   unordered\_map<float, vector<TTree*>> mass\_sample\_map;}
\DoxyCodeLine{2576 }
\DoxyCodeLine{2577   vector<TFile*> finputList;}
\DoxyCodeLine{2578   vector<TTree*> treeList;}
\DoxyCodeLine{2579   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{2580   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{2581     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{2582     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{2583     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2584     TTree* tree=0;}
\DoxyCodeLine{2585     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{2586       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{2587         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2588         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{2589         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{2590           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{2591           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{2592             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadZH\_SIG\_ghz1\_1\_JHUGen\_JECNominal"})!=0)\{}
\DoxyCodeLine{2593               strrecalcbranch = \textcolor{stringliteral}{"p\_HadZH\_SIG\_ghz1\_1\_JHUGen\_JECNominal"};}
\DoxyCodeLine{2594               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadZH\_SIG\_ghz1\_1\_JHUGen\_JECNominal"};}
\DoxyCodeLine{2595             \}}
\DoxyCodeLine{2596             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadWH\_SIG\_ghw1\_1\_JHUGen\_JECNominal"})!=0)\{}
\DoxyCodeLine{2597               strrecalcbranch = \textcolor{stringliteral}{"p\_HadWH\_SIG\_ghw1\_1\_JHUGen\_JECNominal"};}
\DoxyCodeLine{2598               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadWH\_SIG\_ghw1\_1\_JHUGen\_JECNominal"};}
\DoxyCodeLine{2599             \}}
\DoxyCodeLine{2600             \textcolor{keywordflow}{else} recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{2601             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"};}
\DoxyCodeLine{2602             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"};}
\DoxyCodeLine{2603             \textcolor{keywordflow}{else} recomputePmavjj=\textcolor{keyword}{true};}
\DoxyCodeLine{2604           \}}
\DoxyCodeLine{2605           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{2606           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genxsec"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genxsec"}, \&genxsec); tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genBR"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genBR"}, \&genBR);}
\DoxyCodeLine{2607           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{2608           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{2609           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{2610           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{2611           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{2612           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{2613           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{2614           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{2615           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{2616           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{2617           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{2618           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{2619           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{2620           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{2621           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{2622           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{2623           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{2624           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{2625           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{2626           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{2627           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{2628           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{2629           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{2630           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{2631             tree-\/>SetBranchStatus(strrecalcbranch, 1); tree-\/>SetBranchAddress(strrecalcbranch, \&mesq\_calc);}
\DoxyCodeLine{2632             tree-\/>SetBranchStatus(strrecalcconstbranch, 1); tree-\/>SetBranchAddress(strrecalcconstbranch, \&cconst\_calc);}
\DoxyCodeLine{2633             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting ME from "} << strrecalcbranch << \textcolor{stringliteral}{" and const from "} << strrecalcconstbranch << endl;}
\DoxyCodeLine{2634           \}}
\DoxyCodeLine{2635           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recalculating the ME"} << endl;}
\DoxyCodeLine{2636           \textcolor{keywordflow}{if} (!recomputePmavjj \&\& strpmavjjbranch!=\textcolor{stringliteral}{""})\{}
\DoxyCodeLine{2637             tree-\/>SetBranchStatus(strpmavjjbranch, 1);}
\DoxyCodeLine{2638             tree-\/>SetBranchAddress(strpmavjjbranch, \&pmavjj);}
\DoxyCodeLine{2639             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting P\_V(mJJ) from "} << strpmavjjbranch << endl;}
\DoxyCodeLine{2640           \}}
\DoxyCodeLine{2641           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (recomputePmavjj) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recomputing P\_V(mJJ)"} << endl;}
\DoxyCodeLine{2642           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"No valid P\_V(mJJ)"} << endl;}
\DoxyCodeLine{2643           tree-\/>GetEntry(0);}
\DoxyCodeLine{2644           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Cross section = "} << genxsec*genBR << endl;}
\DoxyCodeLine{2645 }
\DoxyCodeLine{2646           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{2647           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{2648           nGenMap[tree]=nsum;}
\DoxyCodeLine{2649 }
\DoxyCodeLine{2650           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{2651           treeList.push\_back(tree);}
\DoxyCodeLine{2652           finputList.push\_back(finput);}
\DoxyCodeLine{2653 }
\DoxyCodeLine{2654           \textcolor{keywordtype}{float} polemass = \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{findPoleMass}}(strSamples[is]);}
\DoxyCodeLine{2655           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pole mass = "} << polemass << endl;}
\DoxyCodeLine{2656           mass\_map[tree]=polemass;}
\DoxyCodeLine{2657           \textcolor{keywordflow}{if} (mass\_sample\_map.find(polemass)==mass\_sample\_map.end())\{}
\DoxyCodeLine{2658             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Inserting new pole mass sample array"} << endl;}
\DoxyCodeLine{2659             vector<TTree*> dumarr;}
\DoxyCodeLine{2660             mass\_sample\_map[polemass] = dumarr;}
\DoxyCodeLine{2661           \}}
\DoxyCodeLine{2662           mass\_sample\_map[polemass].push\_back(tree);}
\DoxyCodeLine{2663         \}}
\DoxyCodeLine{2664         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{2665       \}}
\DoxyCodeLine{2666       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{2667     \}}
\DoxyCodeLine{2668   \}}
\DoxyCodeLine{2669   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{2670 }
\DoxyCodeLine{2671   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = mass\_sample\_map.begin(); it != mass\_sample\_map.end(); ++it)\{}
\DoxyCodeLine{2672     \textcolor{keywordtype}{float} sum\_ngen=0;}
\DoxyCodeLine{2673     \textcolor{keywordtype}{float} sum\_xsec=0;}
\DoxyCodeLine{2674     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{2675       it-\/>second.at(ix)-\/>GetEntry(0);}
\DoxyCodeLine{2676       sum\_ngen += nGenMap[it-\/>second.at(ix)].first;}
\DoxyCodeLine{2677       sum\_xsec += genxsec*genBR;}
\DoxyCodeLine{2678     \}}
\DoxyCodeLine{2679     \textcolor{keywordtype}{float} overallWeight = sum\_ngen/sum\_xsec;}
\DoxyCodeLine{2680     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{2681       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sum Hep MC weights in tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" was "} << nGenMap[it-\/>second.at(ix)].second << \textcolor{stringliteral}{" over "} << nGenMap[it-\/>second.at(ix)].first << \textcolor{stringliteral}{" total gen. events."} << endl;}
\DoxyCodeLine{2682       nGenMap[it-\/>second.at(ix)].first = overallWeight/nGenMap[it-\/>second.at(ix)].second;}
\DoxyCodeLine{2683       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event scale for tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" at pole mass "} << it-\/>first << \textcolor{stringliteral}{" = "} << nGenMap[it-\/>second.at(ix)].first << endl;}
\DoxyCodeLine{2684     \}}
\DoxyCodeLine{2685   \}}
\DoxyCodeLine{2686 }
\DoxyCodeLine{2687   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{2688 }
\DoxyCodeLine{2689   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{2690   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{2691   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2692     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2693     \textcolor{keywordtype}{bool} doProcess=NJets30>=2;}
\DoxyCodeLine{2694     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2695     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{2696     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{2697     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2698     ev\_acc++;}
\DoxyCodeLine{2699   \}}
\DoxyCodeLine{2700 }
\DoxyCodeLine{2701   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{2702   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{2703   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{2704   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{2705   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{2706 }
\DoxyCodeLine{2707   \textcolor{keywordtype}{float} divisor=30000;}
\DoxyCodeLine{2708   \textcolor{comment}{//float divisor=60000;}}
\DoxyCodeLine{2709   \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}}) divisor=45000;}
\DoxyCodeLine{2710   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2711   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=8\textcolor{comment}{/*50*/};}
\DoxyCodeLine{2712   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{2713     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{2714     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{2715     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{2716     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2717   \}}
\DoxyCodeLine{2718   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{2719   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{2720   vector<ExtBin> binList;}
\DoxyCodeLine{2721   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{2722   binning[0]=infimum;}
\DoxyCodeLine{2723   binning[nbins]=supremum;}
\DoxyCodeLine{2724   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{2725   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{2726   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{2727   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{2728     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{2729     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2730     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{2731     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{2732     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{2733     binList.push\_back(tmpbin);}
\DoxyCodeLine{2734     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2735   \}}
\DoxyCodeLine{2736   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2737   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{2738   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{2739   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{2740   binList.push\_back(tmpbin);}
\DoxyCodeLine{2741   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{2742   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{2743   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{2744     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2745   \}}
\DoxyCodeLine{2746 }
\DoxyCodeLine{2747   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{2748   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{2749 }
\DoxyCodeLine{2750   TTree* newtree=0;}
\DoxyCodeLine{2751   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{2752     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{2753     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{2754     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{2755     newtree-\/>Branch(\textcolor{stringliteral}{"weight"}, \&wgt);}
\DoxyCodeLine{2756   \}}
\DoxyCodeLine{2757 }
\DoxyCodeLine{2758   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{2759 }
\DoxyCodeLine{2760   \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{2761   \textcolor{keywordtype}{double} mh=0, gah=0;}
\DoxyCodeLine{2762   \textcolor{keywordtype}{double} mv=0, gav=0;}
\DoxyCodeLine{2763   ev\_acc=0;}
\DoxyCodeLine{2764   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{2765     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{2766     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2767       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2768       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{2769       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{2770       \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{2771         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{2772         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2773       \}}
\DoxyCodeLine{2774       TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{2775       wgt = fabs(genxsec*genBR*genHEPMCweight*nGenMap[tree].first*rewgt);}
\DoxyCodeLine{2776 }
\DoxyCodeLine{2777       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{2778       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{2779       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{2780       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{2781 }
\DoxyCodeLine{2782       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{2783       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{2784       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{2785 }
\DoxyCodeLine{2786       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{2787       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{2788         \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{2789         \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{2790         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{2791         TLorentzVector pDaughter;}
\DoxyCodeLine{2792         pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{2793         daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{2794       \}}
\DoxyCodeLine{2795       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{2796 }
\DoxyCodeLine{2797       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{2798 }
\DoxyCodeLine{2799       \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}}=1;}
\DoxyCodeLine{2800       \textcolor{keywordtype}{double} propagatorV=1;}
\DoxyCodeLine{2801       \textcolor{keywordflow}{if} (recalculate || ev\_acc==0)\{}
\DoxyCodeLine{2802         \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{2803         mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{2804         \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{2805           mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{2806           mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{2807 }
\DoxyCodeLine{2808           mh = mass\_map[tree];}
\DoxyCodeLine{2809           gah = mela.getHiggsWidthAtPoleMass(mh);}
\DoxyCodeLine{2810         \}}
\DoxyCodeLine{2811         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2812           mela.getIORecord()-\/>getHiggsMassWidth(mh, gah, 0);}
\DoxyCodeLine{2813         \}}
\DoxyCodeLine{2814         mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{2815         mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{2816         \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}})\{}
\DoxyCodeLine{2817           mv = mela.getPrimaryMass(23);}
\DoxyCodeLine{2818           gav = mela.getPrimaryWidth(23);}
\DoxyCodeLine{2819         \}}
\DoxyCodeLine{2820         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}})\{}
\DoxyCodeLine{2821           mv = mela.getPrimaryMass(24);}
\DoxyCodeLine{2822           gav = mela.getPrimaryWidth(24);}
\DoxyCodeLine{2823         \}}
\DoxyCodeLine{2824       \}}
\DoxyCodeLine{2825       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2826         mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{2827         mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{2828       \}}
\DoxyCodeLine{2829       \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = 1./(pow(pow(mzz, 2)-\/pow(mh, 2), 2) + pow(mh*gah, 2));}
\DoxyCodeLine{2830       mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{2831       \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}})\{}
\DoxyCodeLine{2832         \textcolor{keywordtype}{double} mjj = (jet[0] + jet[1]).M();}
\DoxyCodeLine{2833         propagatorV = 1./(pow(pow(mjj, 2)-\/pow(mv, 2), 2) + pow(mv*gav, 2));}
\DoxyCodeLine{2834         mesq\_conserveDifermMass /= propagatorV;}
\DoxyCodeLine{2835       \}}
\DoxyCodeLine{2836       \textcolor{keywordflow}{if} (recomputePmavjj) mela.computeDijetConvBW(pmavjj, \textcolor{keyword}{false});}
\DoxyCodeLine{2837       mesq\_conserveDifermMass *= pmavjj;}
\DoxyCodeLine{2838 }
\DoxyCodeLine{2839       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{2840         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{2841         );}
\DoxyCodeLine{2842 }
\DoxyCodeLine{2843       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, wgt);}
\DoxyCodeLine{2844 }
\DoxyCodeLine{2845       mela.resetInputEvent();}
\DoxyCodeLine{2846       ev\_acc++;}
\DoxyCodeLine{2847     \}}
\DoxyCodeLine{2848 }
\DoxyCodeLine{2849     binList.at(bin).sift(); binList.at(bin).adjustWeights(10);}
\DoxyCodeLine{2850 }
\DoxyCodeLine{2851     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2852       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2853       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2854       wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2855       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{2856       hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{2857       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{2858     \}}
\DoxyCodeLine{2859   \}}
\DoxyCodeLine{2860   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Total events accumulated: "} << ev\_acc << endl;}
\DoxyCodeLine{2861 }
\DoxyCodeLine{2862   \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{2863   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{2864   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{2865     xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2866     xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{2867 }
\DoxyCodeLine{2868     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{2869 }
\DoxyCodeLine{2870     xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2871     xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{2872     xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{2873     xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{2874   \}}
\DoxyCodeLine{2875 }
\DoxyCodeLine{2876   TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{2877   tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{2878   foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{2879   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{2880 }
\DoxyCodeLine{2881   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{2882 }
\DoxyCodeLine{2883   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{2884   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{2885   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{2886   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{2887   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{2888   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{2889   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{2890 }
\DoxyCodeLine{2891   foutput-\/>Close();}
\DoxyCodeLine{2892   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{2893 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aab953ff5ebb2ea3e45a2549b17186f16}\label{calcC__lintolog_8c_aab953ff5ebb2ea3e45a2549b17186f16}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV}}
\index{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV()}{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 1875 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1875                                                                                        \{}
\DoxyCodeLine{1876   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{1877   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{1878   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{1879   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{1880   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{1881 }
\DoxyCodeLine{1882   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{1883   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{1884   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}};}
\DoxyCodeLine{1885 }
\DoxyCodeLine{1886   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{1887   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{1888   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{1889 }
\DoxyCodeLine{1890   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{1891   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{1892 }
\DoxyCodeLine{1893   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{1894   std::vector<float>* LepPt=0;}
\DoxyCodeLine{1895   std::vector<float>* LepEta=0;}
\DoxyCodeLine{1896   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{1897 }
\DoxyCodeLine{1898   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{1899   std::vector<float>* JetPt=0;}
\DoxyCodeLine{1900   std::vector<float>* JetEta=0;}
\DoxyCodeLine{1901   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{1902   std::vector<float>* JetMass=0;}
\DoxyCodeLine{1903   std::vector<float> myJetPt;}
\DoxyCodeLine{1904   std::vector<float> myJetEta;}
\DoxyCodeLine{1905   std::vector<float> myJetPhi;}
\DoxyCodeLine{1906   std::vector<float> myJetMass;}
\DoxyCodeLine{1907 }
\DoxyCodeLine{1908   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{1909   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{1910   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{1911   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{1912   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{1913   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{1914   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{1915   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{1916   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{1917   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{1918   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{1919   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{1920   \textcolor{keywordtype}{float} genHEPMCweight;}
\DoxyCodeLine{1921   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{1922 }
\DoxyCodeLine{1923   TString cinput\_main;}
\DoxyCodeLine{1924   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{1925   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{1926 }
\DoxyCodeLine{1927   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{1928 }
\DoxyCodeLine{1929   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{1930   vector<TFile*> finputList;}
\DoxyCodeLine{1931   vector<TTree*> treeList;}
\DoxyCodeLine{1932   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{1933   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{1934     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{1935     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{1936     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1937     TTree* tree=0;}
\DoxyCodeLine{1938     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{1939       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{1940         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1941         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{1942         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{1943           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{1944           \textcolor{keywordflow}{if} (!recalculate \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JJQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"})==0) recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{1945           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{1946           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{1947           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{1948           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{1949           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{1950           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{1951           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{1952           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1953           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{1954           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{1955           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{1956           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{1957           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{1958           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{1959           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{1960           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{1961           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{1962           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{1963           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{1964           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{1965           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{1966           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{1967           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{1968             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"p\_JJQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{1969             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"p\_JJQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, \&mesq\_calc);}
\DoxyCodeLine{1970             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"pConst\_JJQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{1971             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"pConst\_JJQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, \&cconst\_calc);}
\DoxyCodeLine{1972           \}}
\DoxyCodeLine{1973 }
\DoxyCodeLine{1974           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{1975           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{1976           nGenMap[tree]=nsum;}
\DoxyCodeLine{1977 }
\DoxyCodeLine{1978           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{1979           treeList.push\_back(tree);}
\DoxyCodeLine{1980           finputList.push\_back(finput);}
\DoxyCodeLine{1981         \}}
\DoxyCodeLine{1982         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{1983       \}}
\DoxyCodeLine{1984     \}}
\DoxyCodeLine{1985   \}}
\DoxyCodeLine{1986   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{1987 }
\DoxyCodeLine{1988   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{1989   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{1990   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1991     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1992     \textcolor{keywordflow}{if} (NJets30<2) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1993     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{1994     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1995     ev\_acc++;}
\DoxyCodeLine{1996   \}}
\DoxyCodeLine{1997 }
\DoxyCodeLine{1998   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{1999   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{2000   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{2001   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{2002   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{2003 }
\DoxyCodeLine{2004   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{2005   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2006   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{2007   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{2008     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{2009     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{2010     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{2011     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2012   \}}
\DoxyCodeLine{2013   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{2014   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{2015   vector<ExtBin> binList;}
\DoxyCodeLine{2016   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{2017   binning[0]=infimum;}
\DoxyCodeLine{2018   binning[nbins]=supremum;}
\DoxyCodeLine{2019   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{2020   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{2021   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{2022   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{2023     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{2024     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2025     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{2026     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{2027     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{2028     binList.push\_back(tmpbin);}
\DoxyCodeLine{2029     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2030   \}}
\DoxyCodeLine{2031   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2032   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{2033   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{2034   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{2035   binList.push\_back(tmpbin);}
\DoxyCodeLine{2036   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{2037   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{2038   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{2039     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2040     \textcolor{comment}{/*}}
\DoxyCodeLine{2041 \textcolor{comment}{    cout << "\(\backslash\)tEvents: ";}}
\DoxyCodeLine{2042 \textcolor{comment}{    for (unsigned int ev=0; ev<binList.at(ib).events.size(); ev++)\{}}
\DoxyCodeLine{2043 \textcolor{comment}{    cout << binList.at(ib).events.at(ev) << " ";}}
\DoxyCodeLine{2044 \textcolor{comment}{    \}}}
\DoxyCodeLine{2045 \textcolor{comment}{    cout << endl;}}
\DoxyCodeLine{2046 \textcolor{comment}{    */}}
\DoxyCodeLine{2047   \}}
\DoxyCodeLine{2048   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{2049 }
\DoxyCodeLine{2050   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{2051   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{2052   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{2053 }
\DoxyCodeLine{2054 }
\DoxyCodeLine{2055   TTree* newtree=0;}
\DoxyCodeLine{2056   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{2057     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{2058     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{2059     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{2060     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{2061   \}}
\DoxyCodeLine{2062 }
\DoxyCodeLine{2063   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{2064 }
\DoxyCodeLine{2065   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{2066     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{2067     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2068       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2069       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{2070       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{2071       \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{2072         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{2073         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2074       \}}
\DoxyCodeLine{2075       TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{2076       wgt = fabs(genHEPMCweight*nGenMap[tree].first/nGenMap[tree].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}});}
\DoxyCodeLine{2077 }
\DoxyCodeLine{2078       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{2079       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{2080       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{2081       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{2082 }
\DoxyCodeLine{2083       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{2084       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{2085       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{2086 }
\DoxyCodeLine{2087       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{2088       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{2089         \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{2090         \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{2091         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{2092         TLorentzVector pDaughter;}
\DoxyCodeLine{2093         pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{2094         daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{2095       \}}
\DoxyCodeLine{2096       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{2097 }
\DoxyCodeLine{2098       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{2099 }
\DoxyCodeLine{2100       \textcolor{keywordtype}{double} alphasVal;}
\DoxyCodeLine{2101       \textcolor{keywordflow}{if} (recalculate)\{}
\DoxyCodeLine{2102         \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{2103         mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{2104         alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{2105         mesq\_conserveDifermMass /= pow(alphasVal, 4);}
\DoxyCodeLine{2106       \}}
\DoxyCodeLine{2107       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2108         mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{2109         mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{2110       \}}
\DoxyCodeLine{2111       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{2112       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{2113       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{2114       mesq\_jetPtoEScale /= pow(alphasVal, 4);}
\DoxyCodeLine{2115 }
\DoxyCodeLine{2116       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{2117         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{2118         ||}
\DoxyCodeLine{2119         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{2120         );}
\DoxyCodeLine{2121 }
\DoxyCodeLine{2122       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{2123 }
\DoxyCodeLine{2124       mela.resetInputEvent();}
\DoxyCodeLine{2125     \}}
\DoxyCodeLine{2126 }
\DoxyCodeLine{2127     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{2128 }
\DoxyCodeLine{2129     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2130       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2131       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2132       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2133       wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2134       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass, wgt);}
\DoxyCodeLine{2135       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{2136       hvar-\/>Fill(mzz, mzz, wgt);}
\DoxyCodeLine{2137       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{2138     \}}
\DoxyCodeLine{2139   \}}
\DoxyCodeLine{2140 }
\DoxyCodeLine{2141   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{2142   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2143     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{2144     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{2145       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2146       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{2147 }
\DoxyCodeLine{2148       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{2149 }
\DoxyCodeLine{2150       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{2151         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2152         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{2153       \}}
\DoxyCodeLine{2154       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2155         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2156         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{2157       \}}
\DoxyCodeLine{2158       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{2159       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{2160     \}}
\DoxyCodeLine{2161   \}}
\DoxyCodeLine{2162 }
\DoxyCodeLine{2163   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2164     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{2165     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{2166     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{2167     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{2168     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{2169   \}}
\DoxyCodeLine{2170 }
\DoxyCodeLine{2171   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2172     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{2173   \}}
\DoxyCodeLine{2174   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{2175   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{2176   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{2177   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{2178   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{2179   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{2180   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{2181   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{2182   foutput-\/>Close();}
\DoxyCodeLine{2183   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{2184   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{2185 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a84dc6a6e64c03c90f3bf7f38c709dba4}\label{calcC__lintolog_8c_a84dc6a6e64c03c90f3bf7f38c709dba4}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV}}
\index{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV()}{get\_PAvgProfile\_JHUGen\_JJQCD\_HSMHiggs\_7or8TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 965 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{965                                                                \{}
\DoxyCodeLine{966   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{967   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{968   TString TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{969   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{970 }
\DoxyCodeLine{971   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{972   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{973 }
\DoxyCodeLine{974   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{975   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{976   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}};}
\DoxyCodeLine{977 }
\DoxyCodeLine{978   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{979   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{980   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{981 }
\DoxyCodeLine{982   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{983   std::vector<double>* JetPt=0;}
\DoxyCodeLine{984   std::vector<double>* JetEta=0;}
\DoxyCodeLine{985   std::vector<double>* JetPhi=0;}
\DoxyCodeLine{986   std::vector<double>* JetMass=0;}
\DoxyCodeLine{987   std::vector<double> myJetPt;}
\DoxyCodeLine{988   std::vector<double> myJetEta;}
\DoxyCodeLine{989   std::vector<double> myJetPhi;}
\DoxyCodeLine{990   std::vector<double> myJetMass;}
\DoxyCodeLine{991   TBranch* bJetPt=0;}
\DoxyCodeLine{992   TBranch* bJetEta=0;}
\DoxyCodeLine{993   TBranch* bJetPhi=0;}
\DoxyCodeLine{994   TBranch* bJetMass=0;}
\DoxyCodeLine{995   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{996 }
\DoxyCodeLine{997   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{998   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{999   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{1000   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{1001   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{1002   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{1003   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{1004   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{1005   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{1006   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{1007   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{1008   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{1009   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{1010 }
\DoxyCodeLine{1011   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{1012   TString cinput\_main;}
\DoxyCodeLine{1013   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==8) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{1014   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==7) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{1015   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{1016 }
\DoxyCodeLine{1017   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{1018 }
\DoxyCodeLine{1019   vector<TFile*> finputList;}
\DoxyCodeLine{1020   vector<TTree*> treeList;}
\DoxyCodeLine{1021   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{1022 }
\DoxyCodeLine{1023   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples.size(); is++)\{}
\DoxyCodeLine{1024     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{1025       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples[is]).Data());}
\DoxyCodeLine{1026       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{1027       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1028       TTree* tree=0;}
\DoxyCodeLine{1029       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{1030         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{1031           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1032           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{1033           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{1034             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{1035             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{1036             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1037             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{1038             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{1039             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{1040             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{1041             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{1042             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{1043             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{1044             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{1045             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{1046             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{1047             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"NJets30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"NJets30"}, \&NJets30);}
\DoxyCodeLine{1048             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{1049             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{1050             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{1051             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{1052 }
\DoxyCodeLine{1053             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{1054             treeList.push\_back(tree);}
\DoxyCodeLine{1055             finputList.push\_back(finput);}
\DoxyCodeLine{1056           \}}
\DoxyCodeLine{1057           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{1058         \}}
\DoxyCodeLine{1059         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{1060       \}}
\DoxyCodeLine{1061     \}}
\DoxyCodeLine{1062   \}}
\DoxyCodeLine{1063 }
\DoxyCodeLine{1064   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples = treeList.size();}
\DoxyCodeLine{1065 }
\DoxyCodeLine{1066   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{1067 }
\DoxyCodeLine{1068   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{1069   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{1070   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1071     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1072     \textcolor{keywordflow}{if} (NJets30<2) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1073     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{1074     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1075     ev\_acc++;}
\DoxyCodeLine{1076   \}}
\DoxyCodeLine{1077 }
\DoxyCodeLine{1078   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{1079   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{1080   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{1081   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{1082   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{1083 }
\DoxyCodeLine{1084   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{1085   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1086   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{1087   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{1088     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{1089     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{1090     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{1091     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1092   \}}
\DoxyCodeLine{1093   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{1094   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{1095   vector<ExtBin> binList;}
\DoxyCodeLine{1096   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{1097   binning[0]=infimum;}
\DoxyCodeLine{1098   binning[nbins]=supremum;}
\DoxyCodeLine{1099   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{1100   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{1101   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{1102   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{1103     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{1104     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1105     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{1106     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{1107     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{1108     binList.push\_back(tmpbin);}
\DoxyCodeLine{1109     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1110   \}}
\DoxyCodeLine{1111   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1112   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{1113   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{1114   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{1115   binList.push\_back(tmpbin);}
\DoxyCodeLine{1116   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{1117   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{1118   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{1119     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1120   \}}
\DoxyCodeLine{1121 }
\DoxyCodeLine{1122   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{1123 }
\DoxyCodeLine{1124   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{1125   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{1126   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{1127 }
\DoxyCodeLine{1128   TTree* newtree=0;}
\DoxyCodeLine{1129   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{1130     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1131     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{1132     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{1133     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1134   \}}
\DoxyCodeLine{1135 }
\DoxyCodeLine{1136   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{1137 }
\DoxyCodeLine{1138   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{1139     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{1140     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1141       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1142       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{1143       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{1144       \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{1145         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{1146         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1147       \}}
\DoxyCodeLine{1148 }
\DoxyCodeLine{1149       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{1150       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{1151       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{1152       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{1153 }
\DoxyCodeLine{1154       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{1155       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{1156       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{1157 }
\DoxyCodeLine{1158       TLorentzVector pDaughters[4];}
\DoxyCodeLine{1159       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{1160       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{1161       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{1162       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{1163       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{1164 }
\DoxyCodeLine{1165       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{1166 }
\DoxyCodeLine{1167       \textcolor{keywordtype}{double} alphasVal;}
\DoxyCodeLine{1168 }
\DoxyCodeLine{1169       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{1170       mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{1171       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{1172       mesq\_conserveDifermMass /= pow(alphasVal, 4);}
\DoxyCodeLine{1173 }
\DoxyCodeLine{1174       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{1175       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{1176       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{1177       mesq\_jetPtoEScale /= pow(alphasVal, 4);}
\DoxyCodeLine{1178 }
\DoxyCodeLine{1179       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{1180         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{1181         ||}
\DoxyCodeLine{1182         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{1183         );}
\DoxyCodeLine{1184 }
\DoxyCodeLine{1185       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale);}
\DoxyCodeLine{1186 }
\DoxyCodeLine{1187       mela.resetInputEvent();}
\DoxyCodeLine{1188     \}}
\DoxyCodeLine{1189 }
\DoxyCodeLine{1190     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{1191 }
\DoxyCodeLine{1192     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1193       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1194       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1195       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1196       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{1197       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale);}
\DoxyCodeLine{1198       hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{1199       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{1200     \}}
\DoxyCodeLine{1201   \}}
\DoxyCodeLine{1202 }
\DoxyCodeLine{1203   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{1204   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1205     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{1206     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{1207       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1208       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{1209 }
\DoxyCodeLine{1210       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{1211 }
\DoxyCodeLine{1212       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{1213         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1214         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{1215       \}}
\DoxyCodeLine{1216       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{1217         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1218         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{1219       \}}
\DoxyCodeLine{1220       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{1221       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{1222     \}}
\DoxyCodeLine{1223   \}}
\DoxyCodeLine{1224 }
\DoxyCodeLine{1225   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1226     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{1227     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{1228     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{1229     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{1230     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{1231   \}}
\DoxyCodeLine{1232 }
\DoxyCodeLine{1233   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1234     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{1235   \}}
\DoxyCodeLine{1236   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{1237   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{1238   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{1239   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{1240   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{1241   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{1242   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{1243   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{1244   foutput-\/>Close();}
\DoxyCodeLine{1245   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{1246   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{1247 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a22f2e290fe28461b6c6b0403f754d882}\label{calcC__lintolog_8c_a22f2e290fe28461b6c6b0403f754d882}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV}}
\index{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV()}{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 1566 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1566                                                                                        \{}
\DoxyCodeLine{1567   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{1568   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{1569   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{1570   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{1571   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{1572 }
\DoxyCodeLine{1573   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{1574   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{1575   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}};}
\DoxyCodeLine{1576 }
\DoxyCodeLine{1577   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{1578   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{1579   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{1580 }
\DoxyCodeLine{1581   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{1582   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{1583 }
\DoxyCodeLine{1584   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{1585   std::vector<float>* LepPt=0;}
\DoxyCodeLine{1586   std::vector<float>* LepEta=0;}
\DoxyCodeLine{1587   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{1588 }
\DoxyCodeLine{1589   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{1590   std::vector<float>* JetPt=0;}
\DoxyCodeLine{1591   std::vector<float>* JetEta=0;}
\DoxyCodeLine{1592   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{1593   std::vector<float>* JetMass=0;}
\DoxyCodeLine{1594   std::vector<float> myJetPt;}
\DoxyCodeLine{1595   std::vector<float> myJetEta;}
\DoxyCodeLine{1596   std::vector<float> myJetPhi;}
\DoxyCodeLine{1597   std::vector<float> myJetMass;}
\DoxyCodeLine{1598 }
\DoxyCodeLine{1599   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{1600   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{1601   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{1602   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{1603   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{1604   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{1605   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{1606   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{1607   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{1608   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{1609   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{1610   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{1611   \textcolor{keywordtype}{float} genHEPMCweight;}
\DoxyCodeLine{1612   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{1613 }
\DoxyCodeLine{1614   TString cinput\_main;}
\DoxyCodeLine{1615   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{1616   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{1617 }
\DoxyCodeLine{1618   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{1619 }
\DoxyCodeLine{1620   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{1621   vector<TFile*> finputList;}
\DoxyCodeLine{1622   vector<TTree*> treeList;}
\DoxyCodeLine{1623   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{1624   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{1625     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{1626     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{1627     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1628     TTree* tree=0;}
\DoxyCodeLine{1629     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{1630       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{1631         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1632         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{1633         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{1634           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{1635           \textcolor{keywordflow}{if} (!recalculate \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JJVBF\_SIG\_ghv1\_1\_JHUGen\_JECNominal"})==0) recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{1636           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{1637           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{1638           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{1639           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{1640           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{1641           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{1642           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{1643           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1644           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{1645           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{1646           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{1647           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{1648           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{1649           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{1650           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{1651           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{1652           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{1653           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{1654           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{1655           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{1656           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{1657           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{1658           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{1659             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"p\_JJVBF\_SIG\_ghv1\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{1660             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"p\_JJVBF\_SIG\_ghv1\_1\_JHUGen\_JECNominal"}, \&mesq\_calc);}
\DoxyCodeLine{1661             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"pConst\_JJVBF\_SIG\_ghv1\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{1662             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"pConst\_JJVBF\_SIG\_ghv1\_1\_JHUGen\_JECNominal"}, \&cconst\_calc);}
\DoxyCodeLine{1663           \}}
\DoxyCodeLine{1664 }
\DoxyCodeLine{1665           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{1666           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{1667           nGenMap[tree]=nsum;}
\DoxyCodeLine{1668 }
\DoxyCodeLine{1669           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{1670           treeList.push\_back(tree);}
\DoxyCodeLine{1671           finputList.push\_back(finput);}
\DoxyCodeLine{1672         \}}
\DoxyCodeLine{1673         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{1674       \}}
\DoxyCodeLine{1675     \}}
\DoxyCodeLine{1676   \}}
\DoxyCodeLine{1677   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{1678 }
\DoxyCodeLine{1679   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{1680   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{1681   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1682     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1683     \textcolor{keywordflow}{if} (NJets30<2) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1684     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{1685     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1686     ev\_acc++;}
\DoxyCodeLine{1687   \}}
\DoxyCodeLine{1688 }
\DoxyCodeLine{1689   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{1690   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{1691   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{1692   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{1693   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{1694 }
\DoxyCodeLine{1695   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{1696   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1697   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{1698   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{1699     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{1700     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{1701     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{1702     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1703   \}}
\DoxyCodeLine{1704   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{1705   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{1706   vector<ExtBin> binList;}
\DoxyCodeLine{1707   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{1708   binning[0]=infimum;}
\DoxyCodeLine{1709   binning[nbins]=supremum;}
\DoxyCodeLine{1710   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{1711   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{1712   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{1713   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{1714     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{1715     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1716     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{1717     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{1718     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{1719     binList.push\_back(tmpbin);}
\DoxyCodeLine{1720     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1721   \}}
\DoxyCodeLine{1722   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1723   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{1724   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{1725   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{1726   binList.push\_back(tmpbin);}
\DoxyCodeLine{1727   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{1728   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{1729   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{1730     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1731     \textcolor{comment}{/*}}
\DoxyCodeLine{1732 \textcolor{comment}{    cout << "\(\backslash\)tEvents: ";}}
\DoxyCodeLine{1733 \textcolor{comment}{    for (unsigned int ev=0; ev<binList.at(ib).events.size(); ev++)\{}}
\DoxyCodeLine{1734 \textcolor{comment}{      cout << binList.at(ib).events.at(ev) << " ";}}
\DoxyCodeLine{1735 \textcolor{comment}{    \}}}
\DoxyCodeLine{1736 \textcolor{comment}{    cout << endl;}}
\DoxyCodeLine{1737 \textcolor{comment}{    */}}
\DoxyCodeLine{1738   \}}
\DoxyCodeLine{1739   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{1740 }
\DoxyCodeLine{1741   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{1742   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{1743   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{1744 }
\DoxyCodeLine{1745 }
\DoxyCodeLine{1746   TTree* newtree=0;}
\DoxyCodeLine{1747   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{1748     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1749     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{1750     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{1751     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1752   \}}
\DoxyCodeLine{1753 }
\DoxyCodeLine{1754   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{1755 }
\DoxyCodeLine{1756   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{1757     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{1758     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1759       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1760       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{1761       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{1762       \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{1763         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{1764         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1765       \}}
\DoxyCodeLine{1766       TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{1767       wgt = fabs(genHEPMCweight*nGenMap[tree].first/nGenMap[tree].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}});}
\DoxyCodeLine{1768 }
\DoxyCodeLine{1769       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{1770       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{1771       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{1772       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{1773 }
\DoxyCodeLine{1774       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{1775       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{1776       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{1777 }
\DoxyCodeLine{1778       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{1779       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{1780         \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{1781         \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{1782         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{1783         TLorentzVector pDaughter;}
\DoxyCodeLine{1784         pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{1785         daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{1786       \}}
\DoxyCodeLine{1787       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{1788 }
\DoxyCodeLine{1789       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{1790 }
\DoxyCodeLine{1791       \textcolor{keywordflow}{if} (recalculate)\{}
\DoxyCodeLine{1792         \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{1793         mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{1794       \}}
\DoxyCodeLine{1795       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{1796         mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{1797         mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{1798       \}}
\DoxyCodeLine{1799       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{1800       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{1801 }
\DoxyCodeLine{1802       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{1803         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{1804         ||}
\DoxyCodeLine{1805         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{1806         );}
\DoxyCodeLine{1807 }
\DoxyCodeLine{1808       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{1809 }
\DoxyCodeLine{1810       mela.resetInputEvent();}
\DoxyCodeLine{1811     \}}
\DoxyCodeLine{1812 }
\DoxyCodeLine{1813     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{1814 }
\DoxyCodeLine{1815     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1816       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1817       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1818       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1819       wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1820       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass, wgt);}
\DoxyCodeLine{1821       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{1822       hvar-\/>Fill(mzz, mzz, wgt);}
\DoxyCodeLine{1823       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{1824     \}}
\DoxyCodeLine{1825   \}}
\DoxyCodeLine{1826 }
\DoxyCodeLine{1827   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{1828   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1829     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{1830     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{1831       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1832       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{1833 }
\DoxyCodeLine{1834       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{1835 }
\DoxyCodeLine{1836       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{1837         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1838         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{1839       \}}
\DoxyCodeLine{1840       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{1841         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1842         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{1843       \}}
\DoxyCodeLine{1844       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{1845       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{1846     \}}
\DoxyCodeLine{1847   \}}
\DoxyCodeLine{1848 }
\DoxyCodeLine{1849   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1850     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{1851     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{1852     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{1853     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{1854     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{1855   \}}
\DoxyCodeLine{1856 }
\DoxyCodeLine{1857   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1858     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{1859   \}}
\DoxyCodeLine{1860   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{1861   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{1862   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{1863   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{1864   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{1865   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{1866   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{1867   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{1868   foutput-\/>Close();}
\DoxyCodeLine{1869   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{1870   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{1871 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a079f3455b27c8a4761ec6c90c1830499}\label{calcC__lintolog_8c_a079f3455b27c8a4761ec6c90c1830499}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV}}
\index{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV()}{get\_PAvgProfile\_JHUGen\_JJVBF\_HSMHiggs\_7or8TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 673 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{673                                                                \{}
\DoxyCodeLine{674   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{675   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{676   TString TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{677   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{678 }
\DoxyCodeLine{679   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{680   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{681 }
\DoxyCodeLine{682   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{683   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{684   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}};}
\DoxyCodeLine{685 }
\DoxyCodeLine{686   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{687   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{688   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{689 }
\DoxyCodeLine{690   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{691   std::vector<double>* JetPt=0;}
\DoxyCodeLine{692   std::vector<double>* JetEta=0;}
\DoxyCodeLine{693   std::vector<double>* JetPhi=0;}
\DoxyCodeLine{694   std::vector<double>* JetMass=0;}
\DoxyCodeLine{695   std::vector<double> myJetPt;}
\DoxyCodeLine{696   std::vector<double> myJetEta;}
\DoxyCodeLine{697   std::vector<double> myJetPhi;}
\DoxyCodeLine{698   std::vector<double> myJetMass;}
\DoxyCodeLine{699   TBranch* bJetPt=0;}
\DoxyCodeLine{700   TBranch* bJetEta=0;}
\DoxyCodeLine{701   TBranch* bJetPhi=0;}
\DoxyCodeLine{702   TBranch* bJetMass=0;}
\DoxyCodeLine{703   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{704 }
\DoxyCodeLine{705   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{706   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{707   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{708   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{709   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{710   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{711   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{712   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{713   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{714   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{715   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{716   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{717   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{718 }
\DoxyCodeLine{719   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{720   TString cinput\_main;}
\DoxyCodeLine{721   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==8) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{722   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==7) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{723   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{724 }
\DoxyCodeLine{725   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{726 }
\DoxyCodeLine{727   vector<TFile*> finputList;}
\DoxyCodeLine{728   vector<TTree*> treeList;}
\DoxyCodeLine{729   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{730 }
\DoxyCodeLine{731   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples.size(); is++)\{}
\DoxyCodeLine{732     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{733       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples[is]).Data());}
\DoxyCodeLine{734       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{735       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{736       TTree* tree=0;}
\DoxyCodeLine{737       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{738         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{739           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{740           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{741           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{742             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{743             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{744             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{745             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{746             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{747             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{748             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{749             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{750             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{751             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{752             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{753             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{754             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{755             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"NJets30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"NJets30"}, \&NJets30);}
\DoxyCodeLine{756             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{757             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{758             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{759             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{760 }
\DoxyCodeLine{761             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{762             treeList.push\_back(tree);}
\DoxyCodeLine{763             finputList.push\_back(finput);}
\DoxyCodeLine{764           \}}
\DoxyCodeLine{765           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{766         \}}
\DoxyCodeLine{767         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{768       \}}
\DoxyCodeLine{769     \}}
\DoxyCodeLine{770   \}}
\DoxyCodeLine{771 }
\DoxyCodeLine{772   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples = treeList.size();}
\DoxyCodeLine{773 }
\DoxyCodeLine{774   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{775 }
\DoxyCodeLine{776   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{777   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{778   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{779     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{780     \textcolor{keywordflow}{if} (NJets30<2) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{781     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{782     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{783     ev\_acc++;}
\DoxyCodeLine{784   \}}
\DoxyCodeLine{785 }
\DoxyCodeLine{786   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{787   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{788   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{789   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{790   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{791 }
\DoxyCodeLine{792   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{793   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{794   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{795   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{796     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{797     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{798     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{799     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{800   \}}
\DoxyCodeLine{801   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{802   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{803   vector<ExtBin> binList;}
\DoxyCodeLine{804   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{805   binning[0]=infimum;}
\DoxyCodeLine{806   binning[nbins]=supremum;}
\DoxyCodeLine{807   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{808   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{809   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{810   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{811     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{812     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{813     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{814     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{815     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{816     binList.push\_back(tmpbin);}
\DoxyCodeLine{817     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{818   \}}
\DoxyCodeLine{819   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{820   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{821   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{822   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{823   binList.push\_back(tmpbin);}
\DoxyCodeLine{824   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{825   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{826   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{827     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{828   \}}
\DoxyCodeLine{829 }
\DoxyCodeLine{830   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{831 }
\DoxyCodeLine{832   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{833   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{834   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{835   }
\DoxyCodeLine{836   TTree* newtree=0;}
\DoxyCodeLine{837   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{838     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{839     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{840     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{841     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{842   \}}
\DoxyCodeLine{843 }
\DoxyCodeLine{844   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{845 }
\DoxyCodeLine{846   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{847     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{848     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{849       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{850       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{851       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{852       \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{853         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{854         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{855       \}}
\DoxyCodeLine{856 }
\DoxyCodeLine{857       TLorentzVector jet[2], higgs;}
\DoxyCodeLine{858       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(jetptetaphimass[ij][0], jetptetaphimass[ij][1], jetptetaphimass[ij][2], jetptetaphimass[ij][3]);}
\DoxyCodeLine{859       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{860       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{861 }
\DoxyCodeLine{862       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{863       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{864       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{865 }
\DoxyCodeLine{866       TLorentzVector pDaughters[4];}
\DoxyCodeLine{867       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{868       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{869       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{870       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{871       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{872 }
\DoxyCodeLine{873       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{874 }
\DoxyCodeLine{875       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{876       mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{877       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{878       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{879 }
\DoxyCodeLine{880       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{881         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{882         ||}
\DoxyCodeLine{883         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{884         );}
\DoxyCodeLine{885 }
\DoxyCodeLine{886       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale);}
\DoxyCodeLine{887 }
\DoxyCodeLine{888       mela.resetInputEvent();}
\DoxyCodeLine{889     \}}
\DoxyCodeLine{890 }
\DoxyCodeLine{891     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{892 }
\DoxyCodeLine{893     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{894       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{895       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{896       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{897       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{898       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale);}
\DoxyCodeLine{899       hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{900       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{901     \}}
\DoxyCodeLine{902   \}}
\DoxyCodeLine{903 }
\DoxyCodeLine{904   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{905   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{906     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{907     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{908       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{909       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{910 }
\DoxyCodeLine{911       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{912 }
\DoxyCodeLine{913       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{914         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{915         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{916       \}}
\DoxyCodeLine{917       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{918         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{919         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{920       \}}
\DoxyCodeLine{921       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{922       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{923     \}}
\DoxyCodeLine{924   \}}
\DoxyCodeLine{925 }
\DoxyCodeLine{926   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{927     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{928     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{929     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{930     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{931     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{932   \}}
\DoxyCodeLine{933 }
\DoxyCodeLine{934   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{935     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{936   \}}
\DoxyCodeLine{937   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{938   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{939   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{940   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{941   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{942   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{943   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{944   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{945   foutput-\/>Close();}
\DoxyCodeLine{946   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{947   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{948 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a0ae4bbca109ea8b92093b71e5d375dda}\label{calcC__lintolog_8c_a0ae4bbca109ea8b92093b71e5d375dda}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV}}
\index{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV@{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV()}{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 2189 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2189                                                                                       \{}
\DoxyCodeLine{2190   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{2191   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{2192   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{2193   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{2194   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{2195 }
\DoxyCodeLine{2196   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{2197   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{2198   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca3706a5c493f245b1f6231e93e31383ea}{TVar::JQCD}};}
\DoxyCodeLine{2199 }
\DoxyCodeLine{2200   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{2201   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{2202   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{2203 }
\DoxyCodeLine{2204   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{2205   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{2206 }
\DoxyCodeLine{2207   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{2208   std::vector<float>* LepPt=0;}
\DoxyCodeLine{2209   std::vector<float>* LepEta=0;}
\DoxyCodeLine{2210   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{2211 }
\DoxyCodeLine{2212   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{2213   std::vector<float>* JetPt=0;}
\DoxyCodeLine{2214   std::vector<float>* JetEta=0;}
\DoxyCodeLine{2215   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{2216   std::vector<float>* JetMass=0;}
\DoxyCodeLine{2217   std::vector<float> myJetPt;}
\DoxyCodeLine{2218   std::vector<float> myJetEta;}
\DoxyCodeLine{2219   std::vector<float> myJetPhi;}
\DoxyCodeLine{2220   std::vector<float> myJetMass;}
\DoxyCodeLine{2221 }
\DoxyCodeLine{2222   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{2223   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{2224   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{2225   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{2226   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{2227   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{2228   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{2229   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{2230   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{2231   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{2232   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{2233   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{2234   \textcolor{keywordtype}{float} genHEPMCweight;}
\DoxyCodeLine{2235   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{2236 }
\DoxyCodeLine{2237   TString cinput\_main;}
\DoxyCodeLine{2238   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{2239   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{2240 }
\DoxyCodeLine{2241   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{2242 }
\DoxyCodeLine{2243   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{2244   vector<TFile*> finputList;}
\DoxyCodeLine{2245   vector<TTree*> treeList;}
\DoxyCodeLine{2246   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{2247   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{2248     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{2249     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{2250     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2251     TTree* tree=0;}
\DoxyCodeLine{2252     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{2253       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{2254         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2255         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{2256         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{2257           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{2258           \textcolor{keywordflow}{if} (!recalculate \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"})==0) recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{2259           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{2260           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{2261           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{2262           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{2263           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{2264           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{2265           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{2266           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{2267           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{2268           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{2269           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{2270           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{2271           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{2272           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{2273           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{2274           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{2275           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{2276           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{2277           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{2278           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{2279           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{2280           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{2281           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{2282             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"p\_JQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{2283             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"p\_JQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, \&mesq\_calc);}
\DoxyCodeLine{2284             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"pConst\_JQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, 1);}
\DoxyCodeLine{2285             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"pConst\_JQCD\_SIG\_ghg2\_1\_JHUGen\_JECNominal"}, \&cconst\_calc);}
\DoxyCodeLine{2286           \}}
\DoxyCodeLine{2287 }
\DoxyCodeLine{2288           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{2289           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{2290           nGenMap[tree]=nsum;}
\DoxyCodeLine{2291 }
\DoxyCodeLine{2292           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{2293           treeList.push\_back(tree);}
\DoxyCodeLine{2294           finputList.push\_back(finput);}
\DoxyCodeLine{2295         \}}
\DoxyCodeLine{2296         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{2297       \}}
\DoxyCodeLine{2298     \}}
\DoxyCodeLine{2299   \}}
\DoxyCodeLine{2300   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{2301 }
\DoxyCodeLine{2302   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{2303   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{2304   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2305     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2306     \textcolor{keywordflow}{if} (NJets30!=1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2307     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{2308     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2309     ev\_acc++;}
\DoxyCodeLine{2310   \}}
\DoxyCodeLine{2311 }
\DoxyCodeLine{2312   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{2313   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{2314   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{2315   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{2316   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{2317 }
\DoxyCodeLine{2318   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{2319   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2320   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{2321   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{2322     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{2323     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{2324     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{2325     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{2326   \}}
\DoxyCodeLine{2327   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{2328   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{2329   vector<ExtBin> binList;}
\DoxyCodeLine{2330   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{2331   binning[0]=infimum;}
\DoxyCodeLine{2332   binning[nbins]=supremum;}
\DoxyCodeLine{2333   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{2334   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{2335   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{2336   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{2337     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{2338     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2339     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{2340     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{2341     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{2342     binList.push\_back(tmpbin);}
\DoxyCodeLine{2343     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2344   \}}
\DoxyCodeLine{2345   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{2346   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{2347   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{2348   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{2349   binList.push\_back(tmpbin);}
\DoxyCodeLine{2350   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{2351   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{2352   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{2353     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{2354   \}}
\DoxyCodeLine{2355   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{2356 }
\DoxyCodeLine{2357   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{2358   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{2359   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{2360 }
\DoxyCodeLine{2361 }
\DoxyCodeLine{2362   TTree* newtree=0;}
\DoxyCodeLine{2363   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{2364     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{2365     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{2366     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{2367     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{2368   \}}
\DoxyCodeLine{2369 }
\DoxyCodeLine{2370   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{2371 }
\DoxyCodeLine{2372   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{2373     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{2374     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2375       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2376       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{2377       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{2378       \textcolor{keywordflow}{if} (JetPt-\/>size()<1 || JetEta-\/>size()<1 || JetPhi-\/>size()<1 || JetMass-\/>size()<1)\{}
\DoxyCodeLine{2379         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{2380         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2381       \}}
\DoxyCodeLine{2382       TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{2383       wgt = fabs(genHEPMCweight*nGenMap[tree].first/nGenMap[tree].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}});}
\DoxyCodeLine{2384 }
\DoxyCodeLine{2385       TLorentzVector jet, higgs;}
\DoxyCodeLine{2386       jet.SetPtEtaPhiM(JetPt-\/>at(0), JetEta-\/>at(0), JetPhi-\/>at(0), JetMass-\/>at(0));}
\DoxyCodeLine{2387       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{2388       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{2389 }
\DoxyCodeLine{2390       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{2391       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet));}
\DoxyCodeLine{2392 }
\DoxyCodeLine{2393       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{2394       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{2395         \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{2396         \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{2397         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{2398         TLorentzVector pDaughter;}
\DoxyCodeLine{2399         pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{2400         daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{2401       \}}
\DoxyCodeLine{2402       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{2403 }
\DoxyCodeLine{2404       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{2405 }
\DoxyCodeLine{2406       \textcolor{keywordtype}{double} alphasVal;}
\DoxyCodeLine{2407       \textcolor{keywordflow}{if} (recalculate)\{}
\DoxyCodeLine{2408         \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{2409         mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{2410         alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{2411         mesq\_conserveDifermMass /= pow(alphasVal, 3);}
\DoxyCodeLine{2412       \}}
\DoxyCodeLine{2413       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2414         mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{2415         mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{2416       \}}
\DoxyCodeLine{2417       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{2418       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{2419       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{2420       mesq\_jetPtoEScale /= pow(alphasVal, 3);}
\DoxyCodeLine{2421 }
\DoxyCodeLine{2422       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{2423         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{2424         ||}
\DoxyCodeLine{2425         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{2426         );}
\DoxyCodeLine{2427 }
\DoxyCodeLine{2428       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{2429 }
\DoxyCodeLine{2430       mela.resetInputEvent();}
\DoxyCodeLine{2431     \}}
\DoxyCodeLine{2432 }
\DoxyCodeLine{2433     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{2434 }
\DoxyCodeLine{2435     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{2436       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2437       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2438       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2439       wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{2440       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass, wgt);}
\DoxyCodeLine{2441       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale, wgt);}
\DoxyCodeLine{2442       hvar-\/>Fill(mzz, mzz, wgt);}
\DoxyCodeLine{2443       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{2444     \}}
\DoxyCodeLine{2445   \}}
\DoxyCodeLine{2446 }
\DoxyCodeLine{2447   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{2448   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2449     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{2450     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{2451       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2452       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{2453 }
\DoxyCodeLine{2454       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{2455 }
\DoxyCodeLine{2456       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{2457         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2458         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{2459       \}}
\DoxyCodeLine{2460       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{2461         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{2462         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{2463       \}}
\DoxyCodeLine{2464       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{2465       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{2466     \}}
\DoxyCodeLine{2467   \}}
\DoxyCodeLine{2468 }
\DoxyCodeLine{2469   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2470     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{2471     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{2472     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{2473     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{2474     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{2475   \}}
\DoxyCodeLine{2476 }
\DoxyCodeLine{2477   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{2478     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{2479   \}}
\DoxyCodeLine{2480   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{2481   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{2482   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{2483   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{2484   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{2485   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{2486   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{2487   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{2488   foutput-\/>Close();}
\DoxyCodeLine{2489   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{2490   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{2491 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a3c3ba12061485db264cd866010bd4638}\label{calcC__lintolog_8c_a3c3ba12061485db264cd866010bd4638}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV}}
\index{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV@{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV()}{get\_PAvgProfile\_JHUGen\_JQCD\_HSMHiggs\_7or8TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs\+\_\+7or8\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 1262 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1262                                                               \{}
\DoxyCodeLine{1263   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{1264   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{1265   TString TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{1266   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{1267 }
\DoxyCodeLine{1268   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{1269   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{1270 }
\DoxyCodeLine{1271   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{1272   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{1273   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca3706a5c493f245b1f6231e93e31383ea}{TVar::JQCD}};}
\DoxyCodeLine{1274 }
\DoxyCodeLine{1275   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{1276   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{1277   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{1278 }
\DoxyCodeLine{1279   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{1280   std::vector<double>* JetPt=0;}
\DoxyCodeLine{1281   std::vector<double>* JetEta=0;}
\DoxyCodeLine{1282   std::vector<double>* JetPhi=0;}
\DoxyCodeLine{1283   std::vector<double>* JetMass=0;}
\DoxyCodeLine{1284   std::vector<double> myJetPt;}
\DoxyCodeLine{1285   std::vector<double> myJetEta;}
\DoxyCodeLine{1286   std::vector<double> myJetPhi;}
\DoxyCodeLine{1287   std::vector<double> myJetMass;}
\DoxyCodeLine{1288   TBranch* bJetPt=0;}
\DoxyCodeLine{1289   TBranch* bJetEta=0;}
\DoxyCodeLine{1290   TBranch* bJetPhi=0;}
\DoxyCodeLine{1291   TBranch* bJetMass=0;}
\DoxyCodeLine{1292   \textcolor{keywordtype}{float} jetptetaphimass[2][4];}
\DoxyCodeLine{1293 }
\DoxyCodeLine{1294   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{1295   \textcolor{keywordtype}{float} mesq\_jetPtoEScale=0;}
\DoxyCodeLine{1296   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{1297   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{1298   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{1299   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{1300   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{1301   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{1302   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{1303   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{1304   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{1305   \textcolor{keywordtype}{int} LepID[4]=\{ 13, -\/13, 11, -\/11 \};}
\DoxyCodeLine{1306   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{1307 }
\DoxyCodeLine{1308   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{1309   TString cinput\_main;}
\DoxyCodeLine{1310   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==8) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{1311   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==7) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{1312   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{1313 }
\DoxyCodeLine{1314   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{1315 }
\DoxyCodeLine{1316   vector<TFile*> finputList;}
\DoxyCodeLine{1317   vector<TTree*> treeList;}
\DoxyCodeLine{1318   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{1319 }
\DoxyCodeLine{1320   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples.size(); is++)\{}
\DoxyCodeLine{1321     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{1322       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples[is]).Data());}
\DoxyCodeLine{1323       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{1324       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1325       TTree* tree=0;}
\DoxyCodeLine{1326       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{1327         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{1328           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{1329           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{1330           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{1331             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{1332             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{1333             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1334             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{1335             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{1336             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{1337             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{1338             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{1339             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{1340             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{1341             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{1342             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{1343             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{1344             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"NJets30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"NJets30"}, \&NJets30);}
\DoxyCodeLine{1345             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{1346             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{1347             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{1348             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{1349 }
\DoxyCodeLine{1350             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{1351             treeList.push\_back(tree);}
\DoxyCodeLine{1352             finputList.push\_back(finput);}
\DoxyCodeLine{1353           \}}
\DoxyCodeLine{1354           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{1355         \}}
\DoxyCodeLine{1356         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{1357       \}}
\DoxyCodeLine{1358     \}}
\DoxyCodeLine{1359   \}}
\DoxyCodeLine{1360 }
\DoxyCodeLine{1361   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples = treeList.size();}
\DoxyCodeLine{1362 }
\DoxyCodeLine{1363   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{1364 }
\DoxyCodeLine{1365   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{1366   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{1367   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1368     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1369     \textcolor{keywordflow}{if} (NJets30!=1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1370     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{1371     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1372     ev\_acc++;}
\DoxyCodeLine{1373   \}}
\DoxyCodeLine{1374 }
\DoxyCodeLine{1375   \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(0).first;}
\DoxyCodeLine{1376   \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()-\/1).first;}
\DoxyCodeLine{1377   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{1378   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{1379   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{1380 }
\DoxyCodeLine{1381   \textcolor{keywordtype}{float} divisor=85000;}
\DoxyCodeLine{1382   \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1383   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{1384   \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{1385     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{1386     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{1387     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{1388     nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/divisor;}
\DoxyCodeLine{1389   \}}
\DoxyCodeLine{1390   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{1391   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{1392   vector<ExtBin> binList;}
\DoxyCodeLine{1393   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{1394   binning[0]=infimum;}
\DoxyCodeLine{1395   binning[nbins]=supremum;}
\DoxyCodeLine{1396   \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size()/nbins;}
\DoxyCodeLine{1397   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{1398   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{1399   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{1400     binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{1401     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1402     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{1403     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{1404     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{1405     binList.push\_back(tmpbin);}
\DoxyCodeLine{1406     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1407   \}}
\DoxyCodeLine{1408   \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{1409   tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{1410   tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{1411   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}.size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[bin].second);}
\DoxyCodeLine{1412   binList.push\_back(tmpbin);}
\DoxyCodeLine{1413   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{1414   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{1415   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{1416     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{1417   \}}
\DoxyCodeLine{1418 }
\DoxyCodeLine{1419   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{1420 }
\DoxyCodeLine{1421   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{1422   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{1423   TProfile* hmesq\_jetPtoEScale = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_MomentumToEnergy"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_jetPtoEScale-\/>Sumw2();}
\DoxyCodeLine{1424 }
\DoxyCodeLine{1425   TTree* newtree=0;}
\DoxyCodeLine{1426   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{1427     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{1428     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{1429     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_jetPtoEScale"}, \&mesq\_jetPtoEScale);}
\DoxyCodeLine{1430     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{1431   \}}
\DoxyCodeLine{1432 }
\DoxyCodeLine{1433   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{1434 }
\DoxyCodeLine{1435   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{1436     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{1437     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1438       \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1439       \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{1440       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{1441       \textcolor{keywordflow}{if} (JetPt-\/>size()<1 || JetEta-\/>size()<1 || JetPhi-\/>size()<1 || JetMass-\/>size()<1)\{}
\DoxyCodeLine{1442         cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{1443         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1444       \}}
\DoxyCodeLine{1445 }
\DoxyCodeLine{1446       TLorentzVector jet, higgs;}
\DoxyCodeLine{1447       jet.SetPtEtaPhiM(JetPt-\/>at(0), JetEta-\/>at(0), JetPhi-\/>at(0), JetMass-\/>at(0));}
\DoxyCodeLine{1448       higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{1449       TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{1450 }
\DoxyCodeLine{1451       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{1452       associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet));}
\DoxyCodeLine{1453 }
\DoxyCodeLine{1454       TLorentzVector pDaughters[4];}
\DoxyCodeLine{1455       std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{1456       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); pDaughters[ip].Boost(boostH); \}}
\DoxyCodeLine{1457       \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{1458       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{1459       mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{1460 }
\DoxyCodeLine{1461       mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{1462 }
\DoxyCodeLine{1463       \textcolor{keywordtype}{double} alphasVal;}
\DoxyCodeLine{1464 }
\DoxyCodeLine{1465       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{1466       mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{1467       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{1468       mesq\_conserveDifermMass /= pow(alphasVal, 3);}
\DoxyCodeLine{1469 }
\DoxyCodeLine{1470       \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a92ca30ccc4c56e5c0bb63fd87c1a4c87}{TVar::MomentumToEnergy}});}
\DoxyCodeLine{1471       mela.computeProdP(mesq\_jetPtoEScale, \textcolor{keyword}{false});}
\DoxyCodeLine{1472       alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{1473       mesq\_jetPtoEScale /= pow(alphasVal, 3);}
\DoxyCodeLine{1474 }
\DoxyCodeLine{1475       \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{1476         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{1477         ||}
\DoxyCodeLine{1478         \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_jetPtoEScale) || isinf(mesq\_jetPtoEScale)}
\DoxyCodeLine{1479         );}
\DoxyCodeLine{1480 }
\DoxyCodeLine{1481       \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, mesq\_jetPtoEScale);}
\DoxyCodeLine{1482 }
\DoxyCodeLine{1483       mela.resetInputEvent();}
\DoxyCodeLine{1484     \}}
\DoxyCodeLine{1485 }
\DoxyCodeLine{1486     binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{1487 }
\DoxyCodeLine{1488     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{1489       mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1490       mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1491       mesq\_jetPtoEScale = binList.at(bin).me2vals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{1492       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{1493       hmesq\_jetPtoEScale-\/>Fill(mzz, mesq\_jetPtoEScale);}
\DoxyCodeLine{1494       hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{1495       \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{1496     \}}
\DoxyCodeLine{1497   \}}
\DoxyCodeLine{1498 }
\DoxyCodeLine{1499   \textcolor{keywordtype}{double}* xexyey[2][4];}
\DoxyCodeLine{1500   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1501     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[inorm][ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{1502     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{1503       xexyey[inorm][0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1504       xexyey[inorm][1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{1505 }
\DoxyCodeLine{1506       \textcolor{keywordflow}{if} (inorm==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[inorm][0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[inorm][1][bin] << endl;}
\DoxyCodeLine{1507 }
\DoxyCodeLine{1508       \textcolor{keywordflow}{if} (inorm==0)\{}
\DoxyCodeLine{1509         xexyey[inorm][2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1510         xexyey[inorm][3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{1511       \}}
\DoxyCodeLine{1512       \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{1513         xexyey[inorm][2][bin] = hmesq\_jetPtoEScale-\/>GetBinContent(bin+1);}
\DoxyCodeLine{1514         xexyey[inorm][3][bin] = hmesq\_jetPtoEScale-\/>GetBinError(bin+1);}
\DoxyCodeLine{1515       \}}
\DoxyCodeLine{1516       xexyey[inorm][3][bin] = log10(xexyey[inorm][3][bin])/xexyey[inorm][2][bin];}
\DoxyCodeLine{1517       xexyey[inorm][2][bin] = log10(xexyey[inorm][2][bin]);}
\DoxyCodeLine{1518     \}}
\DoxyCodeLine{1519   \}}
\DoxyCodeLine{1520 }
\DoxyCodeLine{1521   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1522     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[inorm][0], xexyey[inorm][2], xexyey[inorm][1], xexyey[inorm][3]);}
\DoxyCodeLine{1523     \textcolor{keywordflow}{if} (inorm==0) tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"});}
\DoxyCodeLine{1524     \textcolor{keywordflow}{else} tg-\/>SetName(\textcolor{stringliteral}{"tg\_P\_MomentumToEnergy"});}
\DoxyCodeLine{1525     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{1526     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{1527   \}}
\DoxyCodeLine{1528 }
\DoxyCodeLine{1529   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} inorm=0; inorm<2; inorm++)\{}
\DoxyCodeLine{1530     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[inorm][ix];}
\DoxyCodeLine{1531   \}}
\DoxyCodeLine{1532   foutput-\/>WriteTObject(hmesq\_jetPtoEScale);}
\DoxyCodeLine{1533   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{1534   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{1535   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{1536   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{1537   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{1538   \textcolor{keyword}{delete} hmesq\_jetPtoEScale;}
\DoxyCodeLine{1539   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{1540   foutput-\/>Close();}
\DoxyCodeLine{1541   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{1542   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{1543 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a3d4560436158ecde957f5eb15623340a}\label{calcC__lintolog_8c_a3d4560436158ecde957f5eb15623340a}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs}}
\index{get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs()}{get\_PAvgProfile\_JHUGen\_ZZGG\_HSMHiggs()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{bool}]{recalculate = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 4555 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{4555                                                                  \{}
\DoxyCodeLine{4556   \textcolor{keywordtype}{int} erg\_tev=8;}
\DoxyCodeLine{4557   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{4558   TString TREE\_NAME;}
\DoxyCodeLine{4559   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{false};}
\DoxyCodeLine{4560   \textcolor{keyword}{const} TString strMEBranchname = \textcolor{stringliteral}{"p\_GG\_SIG\_ghg2\_1\_ghz1\_1\_JHUGen"};}
\DoxyCodeLine{4561   \textcolor{keyword}{const} TString strConstBranchname = \textcolor{stringliteral}{"pConst\_GG\_SIG\_ghg2\_1\_ghz1\_1\_JHUGen"};}
\DoxyCodeLine{4562 }
\DoxyCodeLine{4563   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{4564   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{4565 }
\DoxyCodeLine{4566   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{4567   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{4568   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{4569 }
\DoxyCodeLine{4570   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{4571   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{4572   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{4573 }
\DoxyCodeLine{4574   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{4575   std::vector<float>* LepPt=0;}
\DoxyCodeLine{4576   std::vector<float>* LepEta=0;}
\DoxyCodeLine{4577   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{4578 }
\DoxyCodeLine{4579   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{4580   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{4581   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{4582   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{4583   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{4584   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{4585   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{4586   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{4587   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{4588   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{4589   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{4590   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{4591   \textcolor{keywordtype}{int} LepID[4];}
\DoxyCodeLine{4592 }
\DoxyCodeLine{4593   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{4594   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{4595   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{4596 }
\DoxyCodeLine{4597   vector<TString> dumappend;}
\DoxyCodeLine{4598   vector<TString> strSamples\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 13.);}
\DoxyCodeLine{4599   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 13.);}
\DoxyCodeLine{4600   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4601   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 13.);}
\DoxyCodeLine{4602   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4603   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 13.);}
\DoxyCodeLine{4604   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4605   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 13.);}
\DoxyCodeLine{4606   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4607 }
\DoxyCodeLine{4608   vector<TString> strSamples\_8TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 8.);}
\DoxyCodeLine{4609   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 8.);}
\DoxyCodeLine{4610   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4611   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 8.);}
\DoxyCodeLine{4612   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4613   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 8.);}
\DoxyCodeLine{4614   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4615   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 8.);}
\DoxyCodeLine{4616   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4617 }
\DoxyCodeLine{4618   vector<TString> strSamples\_7TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 7.);}
\DoxyCodeLine{4619   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 7.);}
\DoxyCodeLine{4620   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4621   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 7.);}
\DoxyCodeLine{4622   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4623   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 7.);}
\DoxyCodeLine{4624   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4625   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 7.);}
\DoxyCodeLine{4626   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4627 }
\DoxyCodeLine{4628   vector<TFile*> finputList;}
\DoxyCodeLine{4629   vector<TTree*> treeList;}
\DoxyCodeLine{4630   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{4631   TString cinput\_main;}
\DoxyCodeLine{4632 }
\DoxyCodeLine{4633   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{4634   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{4635   \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4636   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_13TeV.size(); is++)\{}
\DoxyCodeLine{4637     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_13TeV[is]).Data());}
\DoxyCodeLine{4638     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4639     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4640     TTree* tree=0;}
\DoxyCodeLine{4641     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4642       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4643         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4644         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4645         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4646           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4647 }
\DoxyCodeLine{4648           \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{4649           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{4650           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4651           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4652           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4653           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4654           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4655           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4656           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4657           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4658           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4659           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{4660           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{4661           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{4662             tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{4663             tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{4664           \}}
\DoxyCodeLine{4665           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4666           treeList.push\_back(tree);}
\DoxyCodeLine{4667           finputList.push\_back(finput);}
\DoxyCodeLine{4668         \}}
\DoxyCodeLine{4669         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4670       \}}
\DoxyCodeLine{4671       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4672     \}}
\DoxyCodeLine{4673   \}}
\DoxyCodeLine{4674 }
\DoxyCodeLine{4675   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{4676     TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{4677     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{4678     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4679     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_8TeV.size(); is++)\{}
\DoxyCodeLine{4680       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_8TeV[is]).Data());}
\DoxyCodeLine{4681       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4682       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4683       TTree* tree=0;}
\DoxyCodeLine{4684       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4685         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4686           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4687           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4688           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4689             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4690             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4691             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4692             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4693             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4694             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4695             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4696             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4697             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4698             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4699             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{4700             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{4701             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4702             treeList.push\_back(tree);}
\DoxyCodeLine{4703             finputList.push\_back(finput);}
\DoxyCodeLine{4704           \}}
\DoxyCodeLine{4705           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4706         \}}
\DoxyCodeLine{4707         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4708       \}}
\DoxyCodeLine{4709     \}}
\DoxyCodeLine{4710     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{4711     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4712     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_7TeV.size(); is++)\{}
\DoxyCodeLine{4713       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_7TeV[is]).Data());}
\DoxyCodeLine{4714       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4715       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4716       TTree* tree=0;}
\DoxyCodeLine{4717       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4718         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4719           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4720           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4721           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4722             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4723             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4724             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4725             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4726             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4727             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4728             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4729             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4730             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4731             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4732             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{4733             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{4734             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4735             treeList.push\_back(tree);}
\DoxyCodeLine{4736             finputList.push\_back(finput);}
\DoxyCodeLine{4737           \}}
\DoxyCodeLine{4738           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4739         \}}
\DoxyCodeLine{4740         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4741       \}}
\DoxyCodeLine{4742     \}}
\DoxyCodeLine{4743   \}}
\DoxyCodeLine{4744 }
\DoxyCodeLine{4745   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{4746 }
\DoxyCodeLine{4747   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{4748   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4749     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4750     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{4751       (}
\DoxyCodeLine{4752       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{4753       ||}
\DoxyCodeLine{4754       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{4755       ||}
\DoxyCodeLine{4756       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{4757       )}
\DoxyCodeLine{4758       ;}
\DoxyCodeLine{4759     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4760     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{4761     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{4762     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4763     ev\_acc++;}
\DoxyCodeLine{4764   \}}
\DoxyCodeLine{4765   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of valid entries: "} << ev\_acc << endl;}
\DoxyCodeLine{4766 }
\DoxyCodeLine{4767   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{4768     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{4769     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{4770     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{4771     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{4772     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{4773 }
\DoxyCodeLine{4774     \textcolor{keywordtype}{float} divisor=95000;}
\DoxyCodeLine{4775     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{4776     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{4777     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{4778       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{4779       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{4780       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{4781       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{4782     \}}
\DoxyCodeLine{4783     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{4784     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{4785     vector<ExtBin> binList;}
\DoxyCodeLine{4786     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{4787     binning[0]=infimum;}
\DoxyCodeLine{4788     binning[nbins]=supremum;}
\DoxyCodeLine{4789     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{4790     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{4791     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{4792     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{4793       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{4794       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4795       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{4796       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++)\{}
\DoxyCodeLine{4797         \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}};}
\DoxyCodeLine{4798         tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{4799       \}}
\DoxyCodeLine{4800       binList.push\_back(tmpbin);}
\DoxyCodeLine{4801       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4802     \}}
\DoxyCodeLine{4803     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4804     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{4805     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++)\{}
\DoxyCodeLine{4806       \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second;}
\DoxyCodeLine{4807       tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{4808     \}}
\DoxyCodeLine{4809     binList.push\_back(tmpbin);}
\DoxyCodeLine{4810     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{4811     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{4812     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{4813       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4814     \}}
\DoxyCodeLine{4815 }
\DoxyCodeLine{4816     foutput-\/>cd();}
\DoxyCodeLine{4817 }
\DoxyCodeLine{4818     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{4819     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{4820 }
\DoxyCodeLine{4821     TTree* newtree=0;}
\DoxyCodeLine{4822     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{4823       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{4824       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{4825       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4826     \}}
\DoxyCodeLine{4827 }
\DoxyCodeLine{4828     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{4829 }
\DoxyCodeLine{4830     \textcolor{keywordflow}{if} (ic==1)\{}
\DoxyCodeLine{4831       LepID[0]=11;}
\DoxyCodeLine{4832       LepID[1]=-\/11;}
\DoxyCodeLine{4833     \}}
\DoxyCodeLine{4834     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4835       LepID[0]=13;}
\DoxyCodeLine{4836       LepID[1]=-\/13;}
\DoxyCodeLine{4837     \}}
\DoxyCodeLine{4838     \textcolor{keywordflow}{if} (ic==0)\{}
\DoxyCodeLine{4839       LepID[2]=13;}
\DoxyCodeLine{4840       LepID[3]=-\/13;}
\DoxyCodeLine{4841     \}}
\DoxyCodeLine{4842     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4843       LepID[2]=11;}
\DoxyCodeLine{4844       LepID[3]=-\/11;}
\DoxyCodeLine{4845     \}}
\DoxyCodeLine{4846 }
\DoxyCodeLine{4847     \textcolor{keywordtype}{double} alphasVal=0, mh=0, gah=0, aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{4848     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{4849     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{4850       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{4851       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4852         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4853         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{4854         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{4855 }
\DoxyCodeLine{4856         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{4857 }
\DoxyCodeLine{4858         TLorentzVector pDaughters[4];}
\DoxyCodeLine{4859         std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{4860         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{4861         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{4862         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{4863         mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{4864 }
\DoxyCodeLine{4865         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{4866         \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{4867 }
\DoxyCodeLine{4868         \textcolor{keywordtype}{bool} hasConst = (tree-\/>GetBranchStatus(strConstBranchname)==1);}
\DoxyCodeLine{4869         \textcolor{keywordtype}{bool} doCalc=(!hasConst || ctr==0);}
\DoxyCodeLine{4870         \textcolor{keywordflow}{if} (doCalc)\{}
\DoxyCodeLine{4871           mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{4872           \textcolor{keywordflow}{if} (hasConst) mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{4873 }
\DoxyCodeLine{4874           alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{4875           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{4876           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{4877           mela.getIORecord()-\/>getHiggsMassWidth(mh, gah, 0);}
\DoxyCodeLine{4878         \}}
\DoxyCodeLine{4879         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4880           mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{4881           mh=mzz;}
\DoxyCodeLine{4882           gah = mela.getHiggsWidthAtPoleMass(mh);}
\DoxyCodeLine{4883         \}}
\DoxyCodeLine{4884 }
\DoxyCodeLine{4885         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = 1./(pow(pow(mzz, 2)-\/pow(mh, 2), 2) + pow(mh*gah, 2));}
\DoxyCodeLine{4886         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{4887         mesq\_conserveDifermMass /= pow(alphasVal, 2);}
\DoxyCodeLine{4888         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{4889         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{4890 }
\DoxyCodeLine{4891         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{4892           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{4893           );}
\DoxyCodeLine{4894 }
\DoxyCodeLine{4895         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0);}
\DoxyCodeLine{4896 }
\DoxyCodeLine{4897         mela.resetInputEvent();}
\DoxyCodeLine{4898         ctr++;}
\DoxyCodeLine{4899       \}}
\DoxyCodeLine{4900 }
\DoxyCodeLine{4901       binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{4902 }
\DoxyCodeLine{4903       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4904         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4905         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4906         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{4907         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{4908         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{4909       \}}
\DoxyCodeLine{4910     \}}
\DoxyCodeLine{4911 }
\DoxyCodeLine{4912     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{4913     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{4914     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{4915       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4916       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{4917 }
\DoxyCodeLine{4918       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{4919       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4920       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{4921       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{4922       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{4923     \}}
\DoxyCodeLine{4924 }
\DoxyCodeLine{4925 }
\DoxyCodeLine{4926     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{4927     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{4928     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{4929     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{4930 }
\DoxyCodeLine{4931     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{4932     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{4933     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{4934     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{4935     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{4936     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{4937     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{4938     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{4939   \}}
\DoxyCodeLine{4940   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{4941   foutput-\/>Close();}
\DoxyCodeLine{4942 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a1cd893d1b20a9d957098ed8b0a18508e}\label{calcC__lintolog_8c_a1cd893d1b20a9d957098ed8b0a18508e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs@{get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs}}
\index{get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs@{get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs()}{get\_PAvgProfile\_JHUGen\_ZZINDEPENDENT\_HSMHiggs()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+I\+N\+D\+E\+P\+E\+N\+D\+E\+N\+T\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{bool}]{recalculate = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 4170 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{4170                                                                           \{}
\DoxyCodeLine{4171   \textcolor{keywordtype}{int} erg\_tev=8;}
\DoxyCodeLine{4172   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{4173   TString TREE\_NAME;}
\DoxyCodeLine{4174   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{false};}
\DoxyCodeLine{4175   \textcolor{keyword}{const} TString strMEBranchname = \textcolor{stringliteral}{"p\_ZZINDEPENDENT\_SIG\_ghz1\_1\_JHUGen"};}
\DoxyCodeLine{4176   \textcolor{keyword}{const} TString strConstBranchname = \textcolor{stringliteral}{"pConst\_ZZINDEPENDENT\_SIG\_ghz1\_1\_JHUGen"};}
\DoxyCodeLine{4177 }
\DoxyCodeLine{4178   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{4179   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{4180 }
\DoxyCodeLine{4181   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{4182   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{4183   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cae2cc1a38671c72b7bdf657180d1e16f4}{TVar::ZZINDEPENDENT}};}
\DoxyCodeLine{4184 }
\DoxyCodeLine{4185   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{4186   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{4187   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{4188 }
\DoxyCodeLine{4189   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{4190   std::vector<float>* LepPt=0;}
\DoxyCodeLine{4191   std::vector<float>* LepEta=0;}
\DoxyCodeLine{4192   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{4193 }
\DoxyCodeLine{4194   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{4195   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{4196   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{4197   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{4198   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{4199   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{4200   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{4201   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{4202   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{4203   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{4204   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{4205   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{4206   \textcolor{keywordtype}{int} LepID[4];}
\DoxyCodeLine{4207 }
\DoxyCodeLine{4208   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{4209   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{4210   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{4211 }
\DoxyCodeLine{4212   vector<TString> dumappend;}
\DoxyCodeLine{4213   vector<TString> strSamples\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 13.);}
\DoxyCodeLine{4214   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 13.);}
\DoxyCodeLine{4215   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4216   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 13.);}
\DoxyCodeLine{4217   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4218   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 13.);}
\DoxyCodeLine{4219   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4220   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 13.);}
\DoxyCodeLine{4221   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4222 }
\DoxyCodeLine{4223   vector<TString> strSamples\_8TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 8.);}
\DoxyCodeLine{4224   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 8.);}
\DoxyCodeLine{4225   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4226   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 8.);}
\DoxyCodeLine{4227   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4228   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 8.);}
\DoxyCodeLine{4229   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4230   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 8.);}
\DoxyCodeLine{4231   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{4232 }
\DoxyCodeLine{4233   vector<TString> strSamples\_7TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 7.);}
\DoxyCodeLine{4234   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 7.);}
\DoxyCodeLine{4235   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4236   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 7.);}
\DoxyCodeLine{4237   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4238   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 7.);}
\DoxyCodeLine{4239   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4240   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 7.);}
\DoxyCodeLine{4241   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{4242 }
\DoxyCodeLine{4243   vector<TFile*> finputList;}
\DoxyCodeLine{4244   vector<TTree*> treeList;}
\DoxyCodeLine{4245   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{4246   TString cinput\_main;}
\DoxyCodeLine{4247 }
\DoxyCodeLine{4248   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{4249   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{4250   \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4251   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_13TeV.size(); is++)\{}
\DoxyCodeLine{4252     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_13TeV[is]).Data());}
\DoxyCodeLine{4253     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4254     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4255     TTree* tree=0;}
\DoxyCodeLine{4256     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4257       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4258         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4259         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4260         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4261           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4262 }
\DoxyCodeLine{4263           \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{4264           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{4265           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4266           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4267           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4268           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4269           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4270           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4271           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4272           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4273           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4274           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{4275           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{4276           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{4277             tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{4278             tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{4279           \}}
\DoxyCodeLine{4280           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4281           treeList.push\_back(tree);}
\DoxyCodeLine{4282           finputList.push\_back(finput);}
\DoxyCodeLine{4283         \}}
\DoxyCodeLine{4284         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4285       \}}
\DoxyCodeLine{4286       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4287     \}}
\DoxyCodeLine{4288   \}}
\DoxyCodeLine{4289 }
\DoxyCodeLine{4290   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{4291     TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{4292     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{4293     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4294     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_8TeV.size(); is++)\{}
\DoxyCodeLine{4295       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_8TeV[is]).Data());}
\DoxyCodeLine{4296       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4297       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4298       TTree* tree=0;}
\DoxyCodeLine{4299       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4300         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4301           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4302           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4303           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4304             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4305             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4306             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4307             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4308             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4309             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4310             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4311             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4312             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4313             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4314             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{4315             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{4316             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4317             treeList.push\_back(tree);}
\DoxyCodeLine{4318             finputList.push\_back(finput);}
\DoxyCodeLine{4319           \}}
\DoxyCodeLine{4320           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4321         \}}
\DoxyCodeLine{4322         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4323       \}}
\DoxyCodeLine{4324     \}}
\DoxyCodeLine{4325     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{4326     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{4327     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_7TeV.size(); is++)\{}
\DoxyCodeLine{4328       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_7TeV[is]).Data());}
\DoxyCodeLine{4329       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{4330       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4331       TTree* tree=0;}
\DoxyCodeLine{4332       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{4333         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{4334           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{4335           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{4336           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{4337             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{4338             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{4339             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4340             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{4341             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{4342             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{4343             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{4344             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{4345             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{4346             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{4347             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{4348             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{4349             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{4350             treeList.push\_back(tree);}
\DoxyCodeLine{4351             finputList.push\_back(finput);}
\DoxyCodeLine{4352           \}}
\DoxyCodeLine{4353           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{4354         \}}
\DoxyCodeLine{4355         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{4356       \}}
\DoxyCodeLine{4357     \}}
\DoxyCodeLine{4358   \}}
\DoxyCodeLine{4359 }
\DoxyCodeLine{4360   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{4361 }
\DoxyCodeLine{4362   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{4363   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4364     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4365     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{4366       (}
\DoxyCodeLine{4367       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{4368       ||}
\DoxyCodeLine{4369       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{4370       ||}
\DoxyCodeLine{4371       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{4372       )}
\DoxyCodeLine{4373       ;}
\DoxyCodeLine{4374     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4375     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{4376     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{4377     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4378     ev\_acc++;}
\DoxyCodeLine{4379   \}}
\DoxyCodeLine{4380   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of valid entries: "} << ev\_acc << endl;}
\DoxyCodeLine{4381 }
\DoxyCodeLine{4382   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{4383     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{4384     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{4385     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{4386     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{4387     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{4388 }
\DoxyCodeLine{4389     \textcolor{keywordtype}{float} divisor=95000;}
\DoxyCodeLine{4390     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{4391     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{4392     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{4393       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{4394       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{4395       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{4396       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{4397     \}}
\DoxyCodeLine{4398     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{4399     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{4400     vector<ExtBin> binList;}
\DoxyCodeLine{4401     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{4402     binning[0]=infimum;}
\DoxyCodeLine{4403     binning[nbins]=supremum;}
\DoxyCodeLine{4404     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{4405     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{4406     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{4407     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{4408       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{4409       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4410       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{4411       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++)\{}
\DoxyCodeLine{4412         \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}};}
\DoxyCodeLine{4413         tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{4414       \}}
\DoxyCodeLine{4415       binList.push\_back(tmpbin);}
\DoxyCodeLine{4416       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4417     \}}
\DoxyCodeLine{4418     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4419     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{4420     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++)\{}
\DoxyCodeLine{4421       \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second;}
\DoxyCodeLine{4422       tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{4423     \}}
\DoxyCodeLine{4424     binList.push\_back(tmpbin);}
\DoxyCodeLine{4425     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{4426     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{4427     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{4428       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4429     \}}
\DoxyCodeLine{4430 }
\DoxyCodeLine{4431     foutput-\/>cd();}
\DoxyCodeLine{4432 }
\DoxyCodeLine{4433     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{4434     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{4435 }
\DoxyCodeLine{4436     TTree* newtree=0;}
\DoxyCodeLine{4437     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{4438       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{4439       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{4440       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4441     \}}
\DoxyCodeLine{4442 }
\DoxyCodeLine{4443     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{4444 }
\DoxyCodeLine{4445     \textcolor{keywordflow}{if} (ic==1)\{}
\DoxyCodeLine{4446       LepID[0]=11;}
\DoxyCodeLine{4447       LepID[1]=-\/11;}
\DoxyCodeLine{4448     \}}
\DoxyCodeLine{4449     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4450       LepID[0]=13;}
\DoxyCodeLine{4451       LepID[1]=-\/13;}
\DoxyCodeLine{4452     \}}
\DoxyCodeLine{4453     \textcolor{keywordflow}{if} (ic==0)\{}
\DoxyCodeLine{4454       LepID[2]=13;}
\DoxyCodeLine{4455       LepID[3]=-\/13;}
\DoxyCodeLine{4456     \}}
\DoxyCodeLine{4457     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4458       LepID[2]=11;}
\DoxyCodeLine{4459       LepID[3]=-\/11;}
\DoxyCodeLine{4460     \}}
\DoxyCodeLine{4461 }
\DoxyCodeLine{4462     \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{4463     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{4464     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{4465       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{4466       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4467         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4468         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{4469         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{4470 }
\DoxyCodeLine{4471         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{4472 }
\DoxyCodeLine{4473         TLorentzVector pDaughters[4];}
\DoxyCodeLine{4474         std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{4475         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{4476         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{4477         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{4478         mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{4479 }
\DoxyCodeLine{4480         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{4481         \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{4482 }
\DoxyCodeLine{4483         \textcolor{keywordtype}{bool} hasConst = (tree-\/>GetBranchStatus(strConstBranchname)==1);}
\DoxyCodeLine{4484         \textcolor{keywordtype}{bool} doCalc=(!hasConst || ctr==0);}
\DoxyCodeLine{4485         \textcolor{keywordflow}{if} (doCalc)\{}
\DoxyCodeLine{4486           mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{4487           \textcolor{keywordflow}{if} (hasConst) mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{4488 }
\DoxyCodeLine{4489           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{4490           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{4491         \}}
\DoxyCodeLine{4492         \textcolor{keywordflow}{else} mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{4493 }
\DoxyCodeLine{4494         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{4495         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{4496 }
\DoxyCodeLine{4497         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{4498           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{4499           );}
\DoxyCodeLine{4500 }
\DoxyCodeLine{4501         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0);}
\DoxyCodeLine{4502 }
\DoxyCodeLine{4503         mela.resetInputEvent();}
\DoxyCodeLine{4504         ctr++;}
\DoxyCodeLine{4505       \}}
\DoxyCodeLine{4506 }
\DoxyCodeLine{4507       binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{4508 }
\DoxyCodeLine{4509       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4510         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4511         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4512         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{4513         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{4514         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{4515       \}}
\DoxyCodeLine{4516     \}}
\DoxyCodeLine{4517 }
\DoxyCodeLine{4518     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{4519     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{4520     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{4521       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4522       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{4523 }
\DoxyCodeLine{4524       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{4525       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4526       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{4527       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{4528       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{4529     \}}
\DoxyCodeLine{4530 }
\DoxyCodeLine{4531     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{4532     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{4533     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{4534     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{4535 }
\DoxyCodeLine{4536     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{4537     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{4538     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{4539     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{4540     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{4541     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{4542     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{4543     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{4544   \}}
\DoxyCodeLine{4545   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{4546   foutput-\/>Close();}
\DoxyCodeLine{4547 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_af8f21f7c12750bebdcbb4c34786ac9b5}\label{calcC__lintolog_8c_af8f21f7c12750bebdcbb4c34786ac9b5}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV@{get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV}}
\index{get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV@{get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV()}{get\_PAvgProfile\_MCFM\_JJPROD\_bkgZZ\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+bkg\+Z\+Z\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 3321 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{3321                                                                                                     \{}
\DoxyCodeLine{3322   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH"} || strprod == \textcolor{stringliteral}{"Had\_WH"} || strprod == \textcolor{stringliteral}{"JJVBF"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3323   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{3324   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{3325   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{3326   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{3327   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{3328 }
\DoxyCodeLine{3329   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{3330   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{3331   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{3332   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{3333     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{3334     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{3335   \}}
\DoxyCodeLine{3336   TString strsamples;}
\DoxyCodeLine{3337   \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_ZH"}) strsamples=\textcolor{stringliteral}{"ZH"};}
\DoxyCodeLine{3338   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_WH"}) strsamples=\textcolor{stringliteral}{"WH"};}
\DoxyCodeLine{3339   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"JJVBF"}) strsamples=\textcolor{stringliteral}{"JJVBF"};}
\DoxyCodeLine{3340 }
\DoxyCodeLine{3341   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{3342   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{3343 }
\DoxyCodeLine{3344   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{3345   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{3346 }
\DoxyCodeLine{3347   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{3348   std::vector<float>* LepPt=0;}
\DoxyCodeLine{3349   std::vector<float>* LepEta=0;}
\DoxyCodeLine{3350   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{3351 }
\DoxyCodeLine{3352   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{3353   std::vector<float>* JetPt=0;}
\DoxyCodeLine{3354   std::vector<float>* JetEta=0;}
\DoxyCodeLine{3355   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{3356   std::vector<float>* JetMass=0;}
\DoxyCodeLine{3357   std::vector<float> myJetPt;}
\DoxyCodeLine{3358   std::vector<float> myJetEta;}
\DoxyCodeLine{3359   std::vector<float> myJetPhi;}
\DoxyCodeLine{3360   std::vector<float> myJetMass;}
\DoxyCodeLine{3361 }
\DoxyCodeLine{3362   \textcolor{keywordtype}{float} GenHMass=-\/1;}
\DoxyCodeLine{3363   std::vector<float>* LHEMotherPz=0;}
\DoxyCodeLine{3364   std::vector<float>* LHEMotherE=0;}
\DoxyCodeLine{3365   std::vector<short>* LHEMotherId=0;}
\DoxyCodeLine{3366   std::vector<float>* LHEDaughterPt=0;}
\DoxyCodeLine{3367   std::vector<float>* LHEDaughterEta=0;}
\DoxyCodeLine{3368   std::vector<float>* LHEDaughterPhi=0;}
\DoxyCodeLine{3369   std::vector<float>* LHEDaughterMass=0;}
\DoxyCodeLine{3370   std::vector<short>* LHEDaughterId=0;}
\DoxyCodeLine{3371   std::vector<float>* LHEAssociatedParticlePt=0;}
\DoxyCodeLine{3372   std::vector<float>* LHEAssociatedParticleEta=0;}
\DoxyCodeLine{3373   std::vector<float>* LHEAssociatedParticlePhi=0;}
\DoxyCodeLine{3374   std::vector<float>* LHEAssociatedParticleMass=0;}
\DoxyCodeLine{3375   std::vector<short>* LHEAssociatedParticleId=0;}
\DoxyCodeLine{3376 }
\DoxyCodeLine{3377   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1., pmavjj=1.;}
\DoxyCodeLine{3378   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{3379   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{3380   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{3381   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{3382   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{3383   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{3384   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{3385   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{3386   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{3387   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{3388   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{3389   \textcolor{keywordtype}{float} genxsec=0, genBR=0, ngen=0, genHEPMCweight=0;}
\DoxyCodeLine{3390   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{3391   \textcolor{keywordtype}{float} rewgt=1;}
\DoxyCodeLine{3392   \textcolor{keywordtype}{bool} doRewgt=\textcolor{keyword}{false};}
\DoxyCodeLine{3393   \textcolor{keywordtype}{bool} recomputePmavjj=\textcolor{keyword}{false};}
\DoxyCodeLine{3394   TString strrewgtbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{3395   TString strrecalcbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{3396   TString strrecalcconstbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{3397   TString strpmavjjbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{3398 }
\DoxyCodeLine{3399   TString cinput\_main;}
\DoxyCodeLine{3400   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{3401   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{3402 }
\DoxyCodeLine{3403   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{3404   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(strsamples, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{3405 }
\DoxyCodeLine{3406   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{3407   unordered\_map<TTree*, float> mass\_map;}
\DoxyCodeLine{3408   unordered\_map<float, vector<TTree*>> mass\_sample\_map;}
\DoxyCodeLine{3409 }
\DoxyCodeLine{3410   vector<TFile*> finputList;}
\DoxyCodeLine{3411   vector<TTree*> treeList;}
\DoxyCodeLine{3412   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{3413   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{3414     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{3415     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{3416     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{3417     TTree* tree=0;}
\DoxyCodeLine{3418     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{3419       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{3420         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{3421         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{3422         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{3423           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{3424           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3425             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadZH\_BKG\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{3426               strrecalcbranch = \textcolor{stringliteral}{"p\_HadZH\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3427               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadZH\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3428             \}}
\DoxyCodeLine{3429             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadWH\_BKG\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{3430               strrecalcbranch = \textcolor{stringliteral}{"p\_HadWH\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3431               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadWH\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3432             \}}
\DoxyCodeLine{3433             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JJVBF\_BKG\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{3434               strrecalcbranch = \textcolor{stringliteral}{"p\_JJVBF\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3435               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_JJVBF\_BKG\_MCFM\_JECNominal"};}
\DoxyCodeLine{3436             \}}
\DoxyCodeLine{3437             \textcolor{keywordflow}{else} recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{3438             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"};}
\DoxyCodeLine{3439             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"};}
\DoxyCodeLine{3440             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod!=\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}) recomputePmavjj=\textcolor{keyword}{true};}
\DoxyCodeLine{3441           \}}
\DoxyCodeLine{3442           \textcolor{keywordflow}{if} (tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_Gen\_JJEW\_BKG\_MCFM"})!=0) strrewgtbranch = \textcolor{stringliteral}{"p\_Gen\_JJEW\_BKG\_MCFM"};}
\DoxyCodeLine{3443           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{3444           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genxsec"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genxsec"}, \&genxsec); tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genBR"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genBR"}, \&genBR);}
\DoxyCodeLine{3445           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{3446           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"GenHMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"GenHMass"}, \&GenHMass);}
\DoxyCodeLine{3447           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{3448           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{3449           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{3450           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{3451           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{3452           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{3453           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{3454           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{3455           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{3456           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{3457           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{3458           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{3459           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{3460           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{3461           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{3462           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{3463           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{3464           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{3465           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{3466           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{3467           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{3468           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{3469           \textcolor{comment}{// Do reweight signal to bkg.}}
\DoxyCodeLine{3470           \textcolor{keywordflow}{if} (strrewgtbranch!=\textcolor{stringliteral}{""})\{}
\DoxyCodeLine{3471             tree-\/>SetBranchStatus(strrewgtbranch, 1); tree-\/>SetBranchAddress(strrewgtbranch, \&rewgt);}
\DoxyCodeLine{3472             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Reweighting is read from branch "} << strrewgtbranch << endl;}
\DoxyCodeLine{3473           \}}
\DoxyCodeLine{3474           \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{3475             doRewgt=\textcolor{keyword}{true};}
\DoxyCodeLine{3476             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Reweighting needs to be computed."} << endl;}
\DoxyCodeLine{3477             cerr << \textcolor{stringliteral}{"NOT YET IMPLEMENTED!"} << endl;}
\DoxyCodeLine{3478             assert(0);}
\DoxyCodeLine{3479           \}}
\DoxyCodeLine{3480           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3481             tree-\/>SetBranchStatus(strrecalcbranch, 1); tree-\/>SetBranchAddress(strrecalcbranch, \&mesq\_calc);}
\DoxyCodeLine{3482             tree-\/>SetBranchStatus(strrecalcconstbranch, 1); tree-\/>SetBranchAddress(strrecalcconstbranch, \&cconst\_calc);}
\DoxyCodeLine{3483             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting ME from "} << strrecalcbranch << \textcolor{stringliteral}{" and const from "} << strrecalcconstbranch << endl;}
\DoxyCodeLine{3484           \}}
\DoxyCodeLine{3485           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recalculating the ME"} << endl;}
\DoxyCodeLine{3486           \textcolor{keywordflow}{if} (!recomputePmavjj \&\& strpmavjjbranch!=\textcolor{stringliteral}{""})\{}
\DoxyCodeLine{3487             tree-\/>SetBranchStatus(strpmavjjbranch, 1);}
\DoxyCodeLine{3488             tree-\/>SetBranchAddress(strpmavjjbranch, \&pmavjj);}
\DoxyCodeLine{3489             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting P\_V(mJJ) from "} << strpmavjjbranch << endl;}
\DoxyCodeLine{3490           \}}
\DoxyCodeLine{3491           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (recomputePmavjj) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recomputing P\_V(mJJ)"} << endl;}
\DoxyCodeLine{3492           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"No valid P\_V(mJJ)"} << endl;}
\DoxyCodeLine{3493           \textcolor{keywordflow}{if} (doRewgt)\{}
\DoxyCodeLine{3494             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEMotherPz"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEMotherPz"}, \&LHEMotherPz);}
\DoxyCodeLine{3495             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEMotherE"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEMotherE"}, \&LHEMotherE);}
\DoxyCodeLine{3496             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEMotherId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEMotherId"}, \&LHEMotherId);}
\DoxyCodeLine{3497 }
\DoxyCodeLine{3498             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEDaughterPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEDaughterPt"}, \&LHEDaughterPt);}
\DoxyCodeLine{3499             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEDaughterEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEDaughterEta"}, \&LHEDaughterEta);}
\DoxyCodeLine{3500             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEDaughterPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEDaughterPhi"}, \&LHEDaughterPhi);}
\DoxyCodeLine{3501             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEDaughterMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEDaughterMass"}, \&LHEDaughterMass);}
\DoxyCodeLine{3502             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEDaughterId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEDaughterId"}, \&LHEDaughterId);}
\DoxyCodeLine{3503 }
\DoxyCodeLine{3504             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEAssociatedParticlePt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEAssociatedParticlePt"}, \&LHEAssociatedParticlePt);}
\DoxyCodeLine{3505             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEAssociatedParticleEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEAssociatedParticleEta"}, \&LHEAssociatedParticleEta);}
\DoxyCodeLine{3506             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEAssociatedParticlePhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEAssociatedParticlePhi"}, \&LHEAssociatedParticlePhi);}
\DoxyCodeLine{3507             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEAssociatedParticleMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEAssociatedParticleMass"}, \&LHEAssociatedParticleMass);}
\DoxyCodeLine{3508             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LHEAssociatedParticleId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LHEAssociatedParticleId"}, \&LHEAssociatedParticleId);}
\DoxyCodeLine{3509           \}}
\DoxyCodeLine{3510           tree-\/>GetEntry(0);}
\DoxyCodeLine{3511           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Cross section = "} << genxsec*genBR << endl;}
\DoxyCodeLine{3512 }
\DoxyCodeLine{3513           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{3514           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{3515           nGenMap[tree]=nsum;}
\DoxyCodeLine{3516 }
\DoxyCodeLine{3517           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{3518           treeList.push\_back(tree);}
\DoxyCodeLine{3519           finputList.push\_back(finput);}
\DoxyCodeLine{3520 }
\DoxyCodeLine{3521           \textcolor{keywordtype}{float} polemass = \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{findPoleMass}}(strSamples[is]);}
\DoxyCodeLine{3522           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pole mass = "} << polemass << endl;}
\DoxyCodeLine{3523           mass\_map[tree]=polemass;}
\DoxyCodeLine{3524           \textcolor{keywordflow}{if} (mass\_sample\_map.find(polemass)==mass\_sample\_map.end())\{}
\DoxyCodeLine{3525             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Inserting new pole mass sample array"} << endl;}
\DoxyCodeLine{3526             vector<TTree*> dumarr;}
\DoxyCodeLine{3527             mass\_sample\_map[polemass] = dumarr;}
\DoxyCodeLine{3528           \}}
\DoxyCodeLine{3529           mass\_sample\_map[polemass].push\_back(tree);}
\DoxyCodeLine{3530         \}}
\DoxyCodeLine{3531         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{3532       \}}
\DoxyCodeLine{3533       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{3534     \}}
\DoxyCodeLine{3535   \}}
\DoxyCodeLine{3536   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{3537 }
\DoxyCodeLine{3538   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = mass\_sample\_map.begin(); it != mass\_sample\_map.end(); ++it)\{}
\DoxyCodeLine{3539     \textcolor{keywordtype}{float} sum\_ngen=0;}
\DoxyCodeLine{3540     \textcolor{keywordtype}{float} sum\_xsec=0;}
\DoxyCodeLine{3541     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3542       it-\/>second.at(ix)-\/>GetEntry(0);}
\DoxyCodeLine{3543       sum\_ngen += nGenMap[it-\/>second.at(ix)].first;}
\DoxyCodeLine{3544       sum\_xsec += genxsec*genBR;}
\DoxyCodeLine{3545     \}}
\DoxyCodeLine{3546     \textcolor{keywordtype}{float} overallWeight = sum\_ngen/sum\_xsec;}
\DoxyCodeLine{3547     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3548       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sum Hep MC weights in tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" was "} << nGenMap[it-\/>second.at(ix)].second << \textcolor{stringliteral}{" over "} << nGenMap[it-\/>second.at(ix)].first << \textcolor{stringliteral}{" total gen. events."} << endl;}
\DoxyCodeLine{3549       nGenMap[it-\/>second.at(ix)].first = overallWeight/nGenMap[it-\/>second.at(ix)].second;}
\DoxyCodeLine{3550       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event scale for tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" at pole mass "} << it-\/>first << \textcolor{stringliteral}{" = "} << nGenMap[it-\/>second.at(ix)].first << endl;}
\DoxyCodeLine{3551     \}}
\DoxyCodeLine{3552   \}}
\DoxyCodeLine{3553 }
\DoxyCodeLine{3554   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{3555 }
\DoxyCodeLine{3556   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{3557   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{3558   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3559     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3560     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{3561       NJets30>=2 \&\& (}
\DoxyCodeLine{3562       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{3563       ||}
\DoxyCodeLine{3564       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{3565       ||}
\DoxyCodeLine{3566       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{3567       )}
\DoxyCodeLine{3568       ;}
\DoxyCodeLine{3569     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3570     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{3571     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{3572     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3573     \textcolor{keywordflow}{if} (ic<2) \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[1-\/ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3574     ev\_acc++;}
\DoxyCodeLine{3575   \}}
\DoxyCodeLine{3576 }
\DoxyCodeLine{3577   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{3578     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{3579     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{3580     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{3581     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{3582     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{3583 }
\DoxyCodeLine{3584     \textcolor{keywordtype}{float} divisor=25000*(ic==2)+40000*(ic<2);}
\DoxyCodeLine{3585     \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}}) divisor=15000;}
\DoxyCodeLine{3586     \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}}) divisor=15000;}
\DoxyCodeLine{3587     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3588     \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{3589     \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}}) nbins\_th=8;}
\DoxyCodeLine{3590     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{3591       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{3592       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{3593       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{3594       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3595     \}}
\DoxyCodeLine{3596     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{3597     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{3598     vector<ExtBin> binList;}
\DoxyCodeLine{3599     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{3600     binning[0]=infimum;}
\DoxyCodeLine{3601     binning[nbins]=supremum;}
\DoxyCodeLine{3602     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{3603     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{3604     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{3605     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{3606       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{3607       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{3608       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{3609       tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{3610       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{3611       binList.push\_back(tmpbin);}
\DoxyCodeLine{3612       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{3613     \}}
\DoxyCodeLine{3614     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{3615     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{3616     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{3617     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second);}
\DoxyCodeLine{3618     binList.push\_back(tmpbin);}
\DoxyCodeLine{3619     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{3620     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{3621     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{3622       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{3623     \}}
\DoxyCodeLine{3624 }
\DoxyCodeLine{3625     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{3626     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{3627 }
\DoxyCodeLine{3628     TTree* newtree=0;}
\DoxyCodeLine{3629     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{3630       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{3631       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{3632       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{3633       newtree-\/>Branch(\textcolor{stringliteral}{"weight"}, \&wgt);}
\DoxyCodeLine{3634     \}}
\DoxyCodeLine{3635 }
\DoxyCodeLine{3636     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{3637 }
\DoxyCodeLine{3638     \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{3639     \textcolor{keywordtype}{double} mv=0, gav=0;}
\DoxyCodeLine{3640     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{3641     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{3642       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{3643       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3644         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3645         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{3646         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{3647         \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{3648           cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{3649           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3650         \}}
\DoxyCodeLine{3651         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{3652 }
\DoxyCodeLine{3653         \textcolor{comment}{// Divide out the signal H propagator in the reweighting denominator = Multiply with the H BW}}
\DoxyCodeLine{3654         \textcolor{comment}{// Why? So that reweighting is not affected by the reweighting out of the BW}}
\DoxyCodeLine{3655         \{}
\DoxyCodeLine{3656           \textcolor{keywordtype}{float}\& samplePoleMass = mass\_map[tree];}
\DoxyCodeLine{3657           \textcolor{keywordtype}{float} samplePoleWidth = 0;}
\DoxyCodeLine{3658           \textcolor{keywordflow}{if} (samplePoleMass>0.)\{}
\DoxyCodeLine{3659             samplePoleWidth = mela.getHiggsWidthAtPoleMass(samplePoleMass);}
\DoxyCodeLine{3660             rewgt /= pow(pow(GenHMass, 2)-\/pow(samplePoleMass, 2), 2) + pow(samplePoleMass*samplePoleWidth, 2);}
\DoxyCodeLine{3661           \}}
\DoxyCodeLine{3662         \}}
\DoxyCodeLine{3663         wgt = fabs(genxsec*genBR*genHEPMCweight*nGenMap[tree].first*rewgt);}
\DoxyCodeLine{3664 }
\DoxyCodeLine{3665         TLorentzVector jet[2], higgs;}
\DoxyCodeLine{3666         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{3667         higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{3668         TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{3669 }
\DoxyCodeLine{3670         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{3671         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{3672         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{3673 }
\DoxyCodeLine{3674         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{3675         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{3676           \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{3677           \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{3678           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{3679           TLorentzVector pDaughter;}
\DoxyCodeLine{3680           pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{3681           daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{3682         \}}
\DoxyCodeLine{3683         mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{3684 }
\DoxyCodeLine{3685         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{3686 }
\DoxyCodeLine{3687         \textcolor{keywordtype}{double} propagatorV=1;}
\DoxyCodeLine{3688         \textcolor{keywordflow}{if} (recalculate || ev\_acc==0)\{}
\DoxyCodeLine{3689           \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{3690           mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{3691           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3692             mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{3693             mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{3694           \}}
\DoxyCodeLine{3695           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{3696           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{3697           \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}})\{}
\DoxyCodeLine{3698             mv = mela.getPrimaryMass(23);}
\DoxyCodeLine{3699             gav = mela.getPrimaryWidth(23);}
\DoxyCodeLine{3700           \}}
\DoxyCodeLine{3701           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}})\{}
\DoxyCodeLine{3702             mv = mela.getPrimaryMass(24);}
\DoxyCodeLine{3703             gav = mela.getPrimaryWidth(24);}
\DoxyCodeLine{3704           \}}
\DoxyCodeLine{3705         \}}
\DoxyCodeLine{3706         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{3707           mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{3708           mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{3709         \}}
\DoxyCodeLine{3710         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{3711         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{3712         \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}})\{}
\DoxyCodeLine{3713           \textcolor{keywordtype}{double} mjj = (jet[0] + jet[1]).M();}
\DoxyCodeLine{3714           propagatorV = 1./(pow(pow(mjj, 2)-\/pow(mv, 2), 2) + pow(mv*gav, 2));}
\DoxyCodeLine{3715           mesq\_conserveDifermMass /= propagatorV;}
\DoxyCodeLine{3716           \textcolor{keywordflow}{if} (recomputePmavjj)\{}
\DoxyCodeLine{3717             mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, ((prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}}) ? \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} : \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}}));}
\DoxyCodeLine{3718             mela.computeDijetConvBW(pmavjj, \textcolor{keyword}{false});}
\DoxyCodeLine{3719           \}}
\DoxyCodeLine{3720           mesq\_conserveDifermMass *= pmavjj;}
\DoxyCodeLine{3721         \}}
\DoxyCodeLine{3722 }
\DoxyCodeLine{3723         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, gaz, \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{3724         \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}} = mela.getPrimaryMass(23);}
\DoxyCodeLine{3725         gaz = mela.getPrimaryWidth(23);}
\DoxyCodeLine{3726         \textcolor{keywordflow}{if} (fabs(mzz-\/\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}})<=4.*gaz)\{}
\DoxyCodeLine{3727           \textcolor{keywordtype}{double} sh = pow(mzz, 2);}
\DoxyCodeLine{3728           \textcolor{keywordtype}{double} shdn = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}-\/4.*gaz, 2);}
\DoxyCodeLine{3729           \textcolor{keywordtype}{double} shup = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}+4.*gaz, 2);}
\DoxyCodeLine{3730           \textcolor{keywordtype}{double} prop\_sh = 1./(pow(sh-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{3731           \textcolor{keywordtype}{double} prop\_shdn = 1./(pow(shdn-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{3732           \textcolor{keywordtype}{double} prop\_shup = 1./(pow(shup-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{3733           \textcolor{keywordtype}{double} fsh = (sh-\/shdn)/(shup-\/shdn);}
\DoxyCodeLine{3734           \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = prop\_sh / (prop\_shdn*(1.-\/fsh) + prop\_shup*fsh);}
\DoxyCodeLine{3735         \}}
\DoxyCodeLine{3736         \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}}=1.;}
\DoxyCodeLine{3737         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{3738 }
\DoxyCodeLine{3739         mela.resetInputEvent();}
\DoxyCodeLine{3740         \textcolor{keywordflow}{if} (doRewgt)\{}
\DoxyCodeLine{3741           \textcolor{comment}{// Reweighting of NLO is too complex to implement here}}
\DoxyCodeLine{3742           exit(1);}
\DoxyCodeLine{3743         \}}
\DoxyCodeLine{3744 }
\DoxyCodeLine{3745         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{3746           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{3747           );}
\DoxyCodeLine{3748 }
\DoxyCodeLine{3749         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, wgt);}
\DoxyCodeLine{3750 }
\DoxyCodeLine{3751         mela.resetInputEvent();}
\DoxyCodeLine{3752         ev\_acc++;}
\DoxyCodeLine{3753       \}}
\DoxyCodeLine{3754 }
\DoxyCodeLine{3755       binList.at(bin).sift(); binList.at(bin).adjustWeights(10);}
\DoxyCodeLine{3756 }
\DoxyCodeLine{3757       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3758         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3759         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3760         wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3761         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{3762         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{3763         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{3764       \}}
\DoxyCodeLine{3765     \}}
\DoxyCodeLine{3766     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Total events accumulated: "} << ev\_acc << endl;}
\DoxyCodeLine{3767 }
\DoxyCodeLine{3768     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{3769     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{3770     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{3771       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{3772       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{3773 }
\DoxyCodeLine{3774       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{3775 }
\DoxyCodeLine{3776       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{3777       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{3778       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{3779       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{3780     \}}
\DoxyCodeLine{3781 }
\DoxyCodeLine{3782     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{3783     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{3784     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{3785     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{3786 }
\DoxyCodeLine{3787     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{3788 }
\DoxyCodeLine{3789     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{3790     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{3791     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{3792     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{3793     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{3794     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{3795     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{3796   \}}
\DoxyCodeLine{3797   foutput-\/>Close();}
\DoxyCodeLine{3798   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{3799 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a4e0460ddc9f959523dd24fcdd51147e5}\label{calcC__lintolog_8c_a4e0460ddc9f959523dd24fcdd51147e5}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV@{get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV}}
\index{get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV@{get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV()}{get\_PAvgProfile\_MCFM\_JJPROD\_S\_HSMHiggs\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+\+S\+\_\+\+H\+S\+M\+Higgs\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 2903 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2903                                                                                                          \{}
\DoxyCodeLine{2904   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH\_S"} || strprod == \textcolor{stringliteral}{"Had\_WH\_S"} || strprod == \textcolor{stringliteral}{"JJVBF\_S"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2905   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{2906   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{2907   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{2908   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{2909   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{2910 }
\DoxyCodeLine{2911   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{2912   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{2913   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{2914   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{2915     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{2916     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{2917   \}}
\DoxyCodeLine{2918   TString strsamples;}
\DoxyCodeLine{2919   \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_ZH\_S"}) strsamples=\textcolor{stringliteral}{"ZH"};}
\DoxyCodeLine{2920   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"Had\_WH\_S"}) strsamples=\textcolor{stringliteral}{"WH"};}
\DoxyCodeLine{2921   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strprod == \textcolor{stringliteral}{"JJVBF\_S"}) strsamples=\textcolor{stringliteral}{"JJVBF"};}
\DoxyCodeLine{2922 }
\DoxyCodeLine{2923   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{2924   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{2925 }
\DoxyCodeLine{2926   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{2927   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{2928 }
\DoxyCodeLine{2929   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{2930   std::vector<float>* LepPt=0;}
\DoxyCodeLine{2931   std::vector<float>* LepEta=0;}
\DoxyCodeLine{2932   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{2933 }
\DoxyCodeLine{2934   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{2935   std::vector<float>* JetPt=0;}
\DoxyCodeLine{2936   std::vector<float>* JetEta=0;}
\DoxyCodeLine{2937   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{2938   std::vector<float>* JetMass=0;}
\DoxyCodeLine{2939   std::vector<float> myJetPt;}
\DoxyCodeLine{2940   std::vector<float> myJetEta;}
\DoxyCodeLine{2941   std::vector<float> myJetPhi;}
\DoxyCodeLine{2942   std::vector<float> myJetMass;}
\DoxyCodeLine{2943 }
\DoxyCodeLine{2944   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1., pmavjj=1.;}
\DoxyCodeLine{2945   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{2946   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{2947   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{2948   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{2949   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{2950   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{2951   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{2952   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{2953   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{2954   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{2955   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{2956   \textcolor{keywordtype}{float} genxsec=0, genBR=0, ngen=0, genHEPMCweight=0;}
\DoxyCodeLine{2957   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{2958   \textcolor{keywordtype}{float} rewgt=1;}
\DoxyCodeLine{2959   \textcolor{keywordtype}{bool} doRewgt=\textcolor{keyword}{false};}
\DoxyCodeLine{2960   \textcolor{keywordtype}{bool} recomputePmavjj=\textcolor{keyword}{false};}
\DoxyCodeLine{2961   TString strrewgtbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2962   TString strrecalcbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2963   TString strrecalcconstbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2964   TString strpmavjjbranch=\textcolor{stringliteral}{""};}
\DoxyCodeLine{2965 }
\DoxyCodeLine{2966   TString cinput\_main;}
\DoxyCodeLine{2967   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{2968   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{2969 }
\DoxyCodeLine{2970   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{2971   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(strsamples, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{2972 }
\DoxyCodeLine{2973   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{2974   unordered\_map<TTree*, float> mass\_map;}
\DoxyCodeLine{2975   unordered\_map<float, vector<TTree*>> mass\_sample\_map;}
\DoxyCodeLine{2976 }
\DoxyCodeLine{2977   vector<TFile*> finputList;}
\DoxyCodeLine{2978   vector<TTree*> treeList;}
\DoxyCodeLine{2979   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{2980   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{2981     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{2982     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{2983     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2984     TTree* tree=0;}
\DoxyCodeLine{2985     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{2986       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{2987         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{2988         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{2989         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{2990           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{2991           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{2992             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadZH\_S\_SIG\_ghz1\_1\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{2993               strrecalcbranch = \textcolor{stringliteral}{"p\_HadZH\_S\_SIG\_ghz1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{2994               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadZH\_S\_SIG\_ghz1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{2995             \}}
\DoxyCodeLine{2996             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_HadWH\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{2997               strrecalcbranch = \textcolor{stringliteral}{"p\_HadWH\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{2998               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_HadWH\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{2999             \}}
\DoxyCodeLine{3000             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca902db21776e8b4069184189a3d35976a}{TVar::JJVBF\_S}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JJVBF\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"})!=0)\{}
\DoxyCodeLine{3001               strrecalcbranch = \textcolor{stringliteral}{"p\_JJVBF\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{3002               strrecalcconstbranch = \textcolor{stringliteral}{"pConst\_JJVBF\_S\_SIG\_ghv1\_1\_MCFM\_JECNominal"};}
\DoxyCodeLine{3003             \}}
\DoxyCodeLine{3004             \textcolor{keywordflow}{else} recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{3005             \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadZH\_mavjj\_JECNominal"};}
\DoxyCodeLine{3006             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}} \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"})!=0) strpmavjjbranch=\textcolor{stringliteral}{"p\_HadWH\_mavjj\_JECNominal"};}
\DoxyCodeLine{3007             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod!=\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca902db21776e8b4069184189a3d35976a}{TVar::JJVBF\_S}}) recomputePmavjj=\textcolor{keyword}{true};}
\DoxyCodeLine{3008           \}}
\DoxyCodeLine{3009           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{3010           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genxsec"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genxsec"}, \&genxsec); tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genBR"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genBR"}, \&genBR);}
\DoxyCodeLine{3011           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{3012           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{3013           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{3014           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{3015           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{3016           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{3017           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{3018           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{3019           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{3020           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{3021           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{3022           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{3023           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{3024           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{3025           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{3026           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{3027           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{3028           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{3029           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{3030           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{3031           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{3032           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{3033           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{3034           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3035             tree-\/>SetBranchStatus(strrecalcbranch, 1); tree-\/>SetBranchAddress(strrecalcbranch, \&mesq\_calc);}
\DoxyCodeLine{3036             tree-\/>SetBranchStatus(strrecalcconstbranch, 1); tree-\/>SetBranchAddress(strrecalcconstbranch, \&cconst\_calc);}
\DoxyCodeLine{3037             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting ME from "} << strrecalcbranch << \textcolor{stringliteral}{" and const from "} << strrecalcconstbranch << endl;}
\DoxyCodeLine{3038           \}}
\DoxyCodeLine{3039           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recalculating the ME"} << endl;}
\DoxyCodeLine{3040           \textcolor{keywordflow}{if} (!recomputePmavjj \&\& strpmavjjbranch!=\textcolor{stringliteral}{""})\{}
\DoxyCodeLine{3041             tree-\/>SetBranchStatus(strpmavjjbranch, 1);}
\DoxyCodeLine{3042             tree-\/>SetBranchAddress(strpmavjjbranch, \&pmavjj);}
\DoxyCodeLine{3043             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Extracting P\_V(mJJ) from "} << strpmavjjbranch << endl;}
\DoxyCodeLine{3044           \}}
\DoxyCodeLine{3045           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (recomputePmavjj) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Recomputing P\_V(mJJ)"} << endl;}
\DoxyCodeLine{3046           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"No valid P\_V(mJJ)"} << endl;}
\DoxyCodeLine{3047 }
\DoxyCodeLine{3048           tree-\/>GetEntry(0);}
\DoxyCodeLine{3049           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Cross section = "} << genxsec*genBR << endl;}
\DoxyCodeLine{3050 }
\DoxyCodeLine{3051           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{3052           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{3053           nGenMap[tree]=nsum;}
\DoxyCodeLine{3054 }
\DoxyCodeLine{3055           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{3056           treeList.push\_back(tree);}
\DoxyCodeLine{3057           finputList.push\_back(finput);}
\DoxyCodeLine{3058 }
\DoxyCodeLine{3059           \textcolor{keywordtype}{float} polemass = \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{findPoleMass}}(strSamples[is]);}
\DoxyCodeLine{3060           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pole mass = "} << polemass << endl;}
\DoxyCodeLine{3061           mass\_map[tree]=polemass;}
\DoxyCodeLine{3062           \textcolor{keywordflow}{if} (mass\_sample\_map.find(polemass)==mass\_sample\_map.end())\{}
\DoxyCodeLine{3063             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Inserting new pole mass sample array"} << endl;}
\DoxyCodeLine{3064             vector<TTree*> dumarr;}
\DoxyCodeLine{3065             mass\_sample\_map[polemass] = dumarr;}
\DoxyCodeLine{3066           \}}
\DoxyCodeLine{3067           mass\_sample\_map[polemass].push\_back(tree);}
\DoxyCodeLine{3068         \}}
\DoxyCodeLine{3069         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{3070       \}}
\DoxyCodeLine{3071       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{3072     \}}
\DoxyCodeLine{3073   \}}
\DoxyCodeLine{3074   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{3075 }
\DoxyCodeLine{3076   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = mass\_sample\_map.begin(); it != mass\_sample\_map.end(); ++it)\{}
\DoxyCodeLine{3077     \textcolor{keywordtype}{float} sum\_ngen=0;}
\DoxyCodeLine{3078     \textcolor{keywordtype}{float} sum\_xsec=0;}
\DoxyCodeLine{3079     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3080       it-\/>second.at(ix)-\/>GetEntry(0);}
\DoxyCodeLine{3081       sum\_ngen += nGenMap[it-\/>second.at(ix)].first;}
\DoxyCodeLine{3082       sum\_xsec += genxsec*genBR;}
\DoxyCodeLine{3083     \}}
\DoxyCodeLine{3084     \textcolor{keywordtype}{float} overallWeight = sum\_ngen/sum\_xsec;}
\DoxyCodeLine{3085     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3086       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sum Hep MC weights in tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" was "} << nGenMap[it-\/>second.at(ix)].second << \textcolor{stringliteral}{" over "} << nGenMap[it-\/>second.at(ix)].first << \textcolor{stringliteral}{" total gen. events."} << endl;}
\DoxyCodeLine{3087       nGenMap[it-\/>second.at(ix)].first = overallWeight/nGenMap[it-\/>second.at(ix)].second;}
\DoxyCodeLine{3088       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event scale for tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" at pole mass "} << it-\/>first << \textcolor{stringliteral}{" = "} << nGenMap[it-\/>second.at(ix)].first << endl;}
\DoxyCodeLine{3089     \}}
\DoxyCodeLine{3090   \}}
\DoxyCodeLine{3091 }
\DoxyCodeLine{3092   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{3093 }
\DoxyCodeLine{3094   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{3095   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{3096   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3097     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3098     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{3099       NJets30>=2 \&\& (}
\DoxyCodeLine{3100       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{3101       ||}
\DoxyCodeLine{3102       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{3103       ||}
\DoxyCodeLine{3104       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{3105       )}
\DoxyCodeLine{3106       ;}
\DoxyCodeLine{3107     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3108     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{3109     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{3110     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3111     \textcolor{keywordflow}{if} (ic<2) \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[1-\/ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3112     ev\_acc++;}
\DoxyCodeLine{3113   \}}
\DoxyCodeLine{3114 }
\DoxyCodeLine{3115   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{3116     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{3117     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{3118     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{3119     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{3120     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{3121 }
\DoxyCodeLine{3122     \textcolor{keywordtype}{float} divisor=15000;}
\DoxyCodeLine{3123     \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}}) divisor=12000;}
\DoxyCodeLine{3124     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3125     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{3126     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{3127       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{3128       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{3129       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{3130       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3131     \}}
\DoxyCodeLine{3132     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{3133     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{3134     vector<ExtBin> binList;}
\DoxyCodeLine{3135     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{3136     binning[0]=infimum;}
\DoxyCodeLine{3137     binning[nbins]=supremum;}
\DoxyCodeLine{3138     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{3139     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{3140     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{3141     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{3142       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{3143       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{3144       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{3145       tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{3146       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{3147       binList.push\_back(tmpbin);}
\DoxyCodeLine{3148       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{3149     \}}
\DoxyCodeLine{3150     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{3151     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{3152     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{3153     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second);}
\DoxyCodeLine{3154     binList.push\_back(tmpbin);}
\DoxyCodeLine{3155     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{3156     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{3157     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{3158       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{3159     \}}
\DoxyCodeLine{3160 }
\DoxyCodeLine{3161     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{3162     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{3163 }
\DoxyCodeLine{3164     TTree* newtree=0;}
\DoxyCodeLine{3165     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{3166       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{3167       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{3168       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{3169       newtree-\/>Branch(\textcolor{stringliteral}{"weight"}, \&wgt);}
\DoxyCodeLine{3170     \}}
\DoxyCodeLine{3171 }
\DoxyCodeLine{3172     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{3173 }
\DoxyCodeLine{3174     \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{3175     \textcolor{keywordtype}{double} mh=0, gah=0;}
\DoxyCodeLine{3176     \textcolor{keywordtype}{double} mv=0, gav=0;}
\DoxyCodeLine{3177     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{3178     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{3179       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{3180       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3181         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3182         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{3183         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{3184         \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{3185           cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{3186           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3187         \}}
\DoxyCodeLine{3188         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{3189         wgt = fabs(genxsec*genBR*genHEPMCweight*nGenMap[tree].first*rewgt);}
\DoxyCodeLine{3190 }
\DoxyCodeLine{3191         TLorentzVector jet[2], higgs;}
\DoxyCodeLine{3192         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{3193         higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{3194         TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{3195 }
\DoxyCodeLine{3196         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{3197         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{3198         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{3199 }
\DoxyCodeLine{3200         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{3201         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{3202           \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{3203           \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{3204           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{3205           TLorentzVector pDaughter;}
\DoxyCodeLine{3206           pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{3207           daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{3208         \}}
\DoxyCodeLine{3209         mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{3210 }
\DoxyCodeLine{3211         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{3212 }
\DoxyCodeLine{3213         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}}=1;}
\DoxyCodeLine{3214         \textcolor{keywordtype}{double} propagatorV=1;}
\DoxyCodeLine{3215         \textcolor{keywordflow}{if} (recalculate || ev\_acc==0)\{}
\DoxyCodeLine{3216           \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{3217           mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{3218           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3219             mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{3220             mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{3221 }
\DoxyCodeLine{3222             mh = mPOLE;}
\DoxyCodeLine{3223             gah = mela.getHiggsWidthAtPoleMass(mh);}
\DoxyCodeLine{3224           \}}
\DoxyCodeLine{3225           \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{3226             mela.getIORecord()-\/>getHiggsMassWidth(mh, gah, 0);}
\DoxyCodeLine{3227           \}}
\DoxyCodeLine{3228           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{3229           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{3230           \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}})\{}
\DoxyCodeLine{3231             mv = mela.getPrimaryMass(23);}
\DoxyCodeLine{3232             gav = mela.getPrimaryWidth(23);}
\DoxyCodeLine{3233           \}}
\DoxyCodeLine{3234           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}})\{}
\DoxyCodeLine{3235             mv = mela.getPrimaryMass(24);}
\DoxyCodeLine{3236             gav = mela.getPrimaryWidth(24);}
\DoxyCodeLine{3237           \}}
\DoxyCodeLine{3238         \}}
\DoxyCodeLine{3239         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{3240           mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{3241           mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{3242         \}}
\DoxyCodeLine{3243         \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = 1./(pow(pow(mzz, 2)-\/pow(mh, 2), 2) + pow(mh*gah, 2));}
\DoxyCodeLine{3244         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{3245         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{3246         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{3247         \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}})\{}
\DoxyCodeLine{3248           \textcolor{keywordtype}{double} mjj = (jet[0] + jet[1]).M();}
\DoxyCodeLine{3249           propagatorV = 1./(pow(pow(mjj, 2)-\/pow(mv, 2), 2) + pow(mv*gav, 2));}
\DoxyCodeLine{3250           mesq\_conserveDifermMass /= propagatorV;}
\DoxyCodeLine{3251           \textcolor{keywordflow}{if} (recomputePmavjj)\{}
\DoxyCodeLine{3252             mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}}, (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} ? \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}} : \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca97ce0d58eebcc5155081864c77b0a19a}{TVar::Had\_WH}}));}
\DoxyCodeLine{3253             mela.computeDijetConvBW(pmavjj, \textcolor{keyword}{false});}
\DoxyCodeLine{3254           \}}
\DoxyCodeLine{3255           mesq\_conserveDifermMass *= pmavjj;}
\DoxyCodeLine{3256         \}}
\DoxyCodeLine{3257 }
\DoxyCodeLine{3258         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{3259           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{3260           );}
\DoxyCodeLine{3261 }
\DoxyCodeLine{3262         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, wgt);}
\DoxyCodeLine{3263 }
\DoxyCodeLine{3264         mela.resetInputEvent();}
\DoxyCodeLine{3265         ev\_acc++;}
\DoxyCodeLine{3266       \}}
\DoxyCodeLine{3267 }
\DoxyCodeLine{3268       binList.at(bin).sift(); binList.at(bin).adjustWeights(10);}
\DoxyCodeLine{3269 }
\DoxyCodeLine{3270       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3271         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3272         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3273         wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3274         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{3275         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{3276         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{3277       \}}
\DoxyCodeLine{3278     \}}
\DoxyCodeLine{3279     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Total events accumulated: "} << ev\_acc << endl;}
\DoxyCodeLine{3280 }
\DoxyCodeLine{3281     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{3282     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{3283     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{3284       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{3285       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{3286 }
\DoxyCodeLine{3287       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{3288 }
\DoxyCodeLine{3289       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{3290       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{3291       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{3292       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{3293     \}}
\DoxyCodeLine{3294 }
\DoxyCodeLine{3295     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{3296     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{3297     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{3298     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{3299 }
\DoxyCodeLine{3300     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{3301 }
\DoxyCodeLine{3302     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{3303     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{3304     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{3305     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{3306     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{3307     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{3308     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{3309   \}}
\DoxyCodeLine{3310   foutput-\/>Close();}
\DoxyCodeLine{3311   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{3312 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ab1be664873e412656b70371b0d96f2ee}\label{calcC__lintolog_8c_ab1be664873e412656b70371b0d96f2ee}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q@{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q}}
\index{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q@{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q()}{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Jets\+\_\+13\+Te\+V\+\_\+2l2q (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 6517 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6517                                                      \{}
\DoxyCodeLine{6518   \textcolor{keywordtype}{int} erg\_tev=13;}
\DoxyCodeLine{6519   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{6520   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{6521   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{false};}
\DoxyCodeLine{6522 }
\DoxyCodeLine{6523   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{6524   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{6525 }
\DoxyCodeLine{6526   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{6527   \textcolor{keywordtype}{float} mzz;}
\DoxyCodeLine{6528   \textcolor{keywordtype}{float} m1;}
\DoxyCodeLine{6529   \textcolor{keywordtype}{float} m2;}
\DoxyCodeLine{6530   \textcolor{keywordtype}{float} h1;}
\DoxyCodeLine{6531   \textcolor{keywordtype}{float} h2;}
\DoxyCodeLine{6532   \textcolor{keywordtype}{float} phi;}
\DoxyCodeLine{6533   \textcolor{keywordtype}{float} hs;}
\DoxyCodeLine{6534   \textcolor{keywordtype}{float} phi1;}
\DoxyCodeLine{6535   vector<float>* mzz\_array=0;}
\DoxyCodeLine{6536   vector<float>* m1\_array=0;}
\DoxyCodeLine{6537   vector<float>* m2\_array=0;}
\DoxyCodeLine{6538   vector<float>* h1\_array=0;}
\DoxyCodeLine{6539   vector<float>* h2\_array=0;}
\DoxyCodeLine{6540   vector<float>* phi\_array=0;}
\DoxyCodeLine{6541   vector<float>* hs\_array=0;}
\DoxyCodeLine{6542   vector<float>* phi1\_array=0;}
\DoxyCodeLine{6543   vector<short>* ZZsel=0;}
\DoxyCodeLine{6544   vector<short>* ZZCandType=0;}
\DoxyCodeLine{6545   \textcolor{keywordtype}{int} LepID[4]=\{ 0, 0, 11, -\/11 \};}
\DoxyCodeLine{6546 }
\DoxyCodeLine{6547   TString cinput\_main = \textcolor{stringliteral}{"/scratch0/hep/usarical/CJLST/LHC\_13TeV/2l2q/"};}
\DoxyCodeLine{6548   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nSamples = 2;}
\DoxyCodeLine{6549   TString strSamples[nSamples]=\{}
\DoxyCodeLine{6550     \textcolor{stringliteral}{"ZZ2l2qAnalysis\_DY2JetsToLL.root"},}
\DoxyCodeLine{6551     \textcolor{stringliteral}{"ZZ2l2qAnalysis\_DYJetsToLL.root"}}
\DoxyCodeLine{6552   \};}
\DoxyCodeLine{6553 }
\DoxyCodeLine{6554   TFile* foutput = \textcolor{keyword}{new} TFile(\textcolor{stringliteral}{"pAvgLinToLog\_MCFM\_JJQCD\_bkgZJets\_13TeV\_2l2q.root"}, \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{6555 }
\DoxyCodeLine{6556   gROOT-\/>cd();}
\DoxyCodeLine{6557   TChain* tree = \textcolor{keyword}{new} TChain(TREE\_NAME, \textcolor{stringliteral}{""});}
\DoxyCodeLine{6558   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<nSamples; is++) tree-\/>Add(Form(\textcolor{stringliteral}{"\%s/\%s"}, cinput\_main.Data(), (strSamples[is]).Data()));}
\DoxyCodeLine{6559   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZCandType"}, \&ZZCandType);}
\DoxyCodeLine{6560   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZsel"}, \&ZZsel);}
\DoxyCodeLine{6561   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz\_array);}
\DoxyCodeLine{6562   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1\_array);}
\DoxyCodeLine{6563   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2\_array);}
\DoxyCodeLine{6564   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1\_array);}
\DoxyCodeLine{6565   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2\_array);}
\DoxyCodeLine{6566   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi\_array);}
\DoxyCodeLine{6567   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs\_array);}
\DoxyCodeLine{6568   tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1\_array);}
\DoxyCodeLine{6569 }
\DoxyCodeLine{6570   \textcolor{keywordtype}{int} nTotalEntries = tree-\/>GetEntries();}
\DoxyCodeLine{6571 }
\DoxyCodeLine{6572   TTree* tmptree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"IntermediateTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{6573   tmptree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{6574   tmptree-\/>Branch(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{6575   tmptree-\/>Branch(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{6576   tmptree-\/>Branch(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{6577   tmptree-\/>Branch(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{6578   tmptree-\/>Branch(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{6579   tmptree-\/>Branch(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{6580   tmptree-\/>Branch(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{6581 }
\DoxyCodeLine{6582   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{6583   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nrawentries = "} << nTotalEntries << endl;}
\DoxyCodeLine{6584   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{6585     tree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6586     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j=0; j < ZZsel-\/>size(); j++)\{}
\DoxyCodeLine{6587       \textcolor{keywordflow}{if} (ZZsel-\/>at(j)>=90 \&\& (ZZCandType-\/>at(j)==2 || ZZCandType-\/>at(j)==1))\{}
\DoxyCodeLine{6588         \textcolor{keywordflow}{if} (ctr\%100==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event "} << ctr << \textcolor{stringliteral}{" being recorded at actual event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << \textcolor{stringliteral}{"."} << endl;}
\DoxyCodeLine{6589         mzz=mzz\_array-\/>at(j);}
\DoxyCodeLine{6590         m1=m1\_array-\/>at(j);}
\DoxyCodeLine{6591         h1=h1\_array-\/>at(j);}
\DoxyCodeLine{6592         m2=m2\_array-\/>at(j);}
\DoxyCodeLine{6593         h2=h2\_array-\/>at(j);}
\DoxyCodeLine{6594         hs=hs\_array-\/>at(j);}
\DoxyCodeLine{6595         phi=phi\_array-\/>at(j);}
\DoxyCodeLine{6596         phi1=phi1\_array-\/>at(j);}
\DoxyCodeLine{6597         tmptree-\/>Fill();}
\DoxyCodeLine{6598         ctr++;}
\DoxyCodeLine{6599       \}}
\DoxyCodeLine{6600     \}}
\DoxyCodeLine{6601   \}}
\DoxyCodeLine{6602 }
\DoxyCodeLine{6603   nTotalEntries=tmptree-\/>GetEntries();}
\DoxyCodeLine{6604   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Ntotalentries = "} << nTotalEntries << endl;}
\DoxyCodeLine{6605 }
\DoxyCodeLine{6606   TTree* tmptree2 = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"IntermediateTree2"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{6607   tmptree2-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{6608   tmptree2-\/>Branch(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{6609   tmptree2-\/>Branch(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{6610   tmptree2-\/>Branch(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{6611   tmptree2-\/>Branch(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{6612   tmptree2-\/>Branch(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{6613   tmptree2-\/>Branch(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{6614   tmptree2-\/>Branch(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{6615 }
\DoxyCodeLine{6616   TRandom3 randomthrow(1234567);}
\DoxyCodeLine{6617   \textcolor{keywordtype}{double} portion\_to\_keep = 1;}
\DoxyCodeLine{6618   \textcolor{keywordflow}{if} (nTotalEntries>1000000) portion\_to\_keep = 9.95e5/nTotalEntries;}
\DoxyCodeLine{6619   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nTotalEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{6620     tmptree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6621     \textcolor{keywordtype}{double} rndnum = randomthrow.Uniform();}
\DoxyCodeLine{6622     \textcolor{keywordflow}{if} (rndnum<=portion\_to\_keep) tmptree2-\/>Fill();}
\DoxyCodeLine{6623   \}}
\DoxyCodeLine{6624   \textcolor{keyword}{delete} tmptree;}
\DoxyCodeLine{6625   tmptree=tmptree2;}
\DoxyCodeLine{6626 }
\DoxyCodeLine{6627   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nEntries = tmptree-\/>GetEntries();}
\DoxyCodeLine{6628   \textcolor{keywordflow}{if} (nEntries>=1000000)\{}
\DoxyCodeLine{6629     cerr << \textcolor{stringliteral}{"TMath::Sort will experience problems. Aborting!"} << endl;}
\DoxyCodeLine{6630     \textcolor{keyword}{delete} tmptree;}
\DoxyCodeLine{6631     \textcolor{keyword}{delete} tree;}
\DoxyCodeLine{6632     assert(0);}
\DoxyCodeLine{6633   \}}
\DoxyCodeLine{6634   \textcolor{keywordtype}{int}* \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}} = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[nEntries];}
\DoxyCodeLine{6635   tmptree-\/>Draw(\textcolor{stringliteral}{"ZZMass"}, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"goff"});}
\DoxyCodeLine{6636   TMath::Sort(nEntries, tmptree-\/>GetV1(), \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}, \textcolor{keyword}{false});}
\DoxyCodeLine{6637 }
\DoxyCodeLine{6638   tmptree-\/>GetEntry(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[0]);}
\DoxyCodeLine{6639   \textcolor{keywordtype}{float} firstVal=mzz;}
\DoxyCodeLine{6640   tmptree-\/>GetEntry(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[nEntries-\/1]);}
\DoxyCodeLine{6641   \textcolor{keywordtype}{float} lastVal=mzz;}
\DoxyCodeLine{6642   \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{6643   \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{6644   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{6645 }
\DoxyCodeLine{6646   \textcolor{keywordtype}{int} nbins=0;}
\DoxyCodeLine{6647   \textcolor{keywordtype}{int} divisor=11000;}
\DoxyCodeLine{6648   \textcolor{keywordflow}{while} (nbins<50)\{}
\DoxyCodeLine{6649     \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{6650     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{6651     \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{6652     nbins=nEntries/divisor+1;}
\DoxyCodeLine{6653   \}}
\DoxyCodeLine{6654   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{6655   \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{6656   \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{6657   binning[0]=infimum;}
\DoxyCodeLine{6658   binning[nbins]=supremum;}
\DoxyCodeLine{6659   \textcolor{keywordtype}{int} ev\_stepsize = nEntries/nbins;}
\DoxyCodeLine{6660   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{6661   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{6662   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{6663     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize];}
\DoxyCodeLine{6664     tmptree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6665     \textcolor{keywordtype}{float} bhigh = mzz;}
\DoxyCodeLine{6666     \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ix*ev\_stepsize-\/1];}
\DoxyCodeLine{6667     \textcolor{keywordtype}{float} blow = mzz;}
\DoxyCodeLine{6668     binning[ix]=(bhigh+blow)*0.5;}
\DoxyCodeLine{6669     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{6670   \}}
\DoxyCodeLine{6671   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{6672   \textcolor{keyword}{delete}[] \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}};}
\DoxyCodeLine{6673 }
\DoxyCodeLine{6674   foutput-\/>cd();}
\DoxyCodeLine{6675   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"candMass"}, \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{6676   TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"P\_ConserveDifermionMass"}, \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{6677 }
\DoxyCodeLine{6678   TTree* newtree=0;}
\DoxyCodeLine{6679   \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{6680     newtree = \textcolor{keyword}{new} TTree(\textcolor{stringliteral}{"FinalTree"}, \textcolor{stringliteral}{""});}
\DoxyCodeLine{6681     newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{6682     newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{6683   \}}
\DoxyCodeLine{6684 }
\DoxyCodeLine{6685   mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{6686 }
\DoxyCodeLine{6687   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{6688     tmptree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}); \textcolor{comment}{// No need for ordering anymore}}
\DoxyCodeLine{6689     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{6690 }
\DoxyCodeLine{6691     TLorentzVector pDaughters[4];}
\DoxyCodeLine{6692     std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{6693     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{6694     \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{6695     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{6696     mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{6697 }
\DoxyCodeLine{6698     \textcolor{comment}{//double alphasVal;}}
\DoxyCodeLine{6699     \textcolor{keywordtype}{bool} doFill=\textcolor{keyword}{true};}
\DoxyCodeLine{6700     mela.setProcess(\mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1ad2933b84082d269af9a836d4646aeefd}{TVar::bkgZJets}}, \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}}, \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}});}
\DoxyCodeLine{6701 }
\DoxyCodeLine{6702     \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{6703     mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{6704     \textcolor{keywordtype}{double} aL1, aR1, aL2, aR2;}
\DoxyCodeLine{6705     mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{6706     mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{6707     \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{6708     \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{6709     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"aL1: "} << aL1 << \textcolor{charliteral}{'\(\backslash\)t'};}
\DoxyCodeLine{6710     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"aR1: "} << aR1 << \textcolor{charliteral}{'\(\backslash\)t'};}
\DoxyCodeLine{6711     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"aL2: "} << aL2 << \textcolor{charliteral}{'\(\backslash\)t'};}
\DoxyCodeLine{6712     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"aR2: "} << aR2 << endl;}
\DoxyCodeLine{6713     \textcolor{comment}{//mesq\_conserveDifermMass = log10(mesq\_conserveDifermMass);}}
\DoxyCodeLine{6714     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)) doFill=\textcolor{keyword}{false};}
\DoxyCodeLine{6715 }
\DoxyCodeLine{6716     \textcolor{keywordflow}{if} (doFill)\{}
\DoxyCodeLine{6717       hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{6718       hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{6719     \}}
\DoxyCodeLine{6720 }
\DoxyCodeLine{6721     \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{6722     mela.resetInputEvent();}
\DoxyCodeLine{6723   \}}
\DoxyCodeLine{6724 }
\DoxyCodeLine{6725   \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{6726   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{6727   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{6728     xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{6729     xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{6730 }
\DoxyCodeLine{6731     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{6732     xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{6733     xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{6734     xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{6735     xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{6736   \}}
\DoxyCodeLine{6737 }
\DoxyCodeLine{6738 }
\DoxyCodeLine{6739   TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{6740   tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{6741   foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{6742   \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{6743 }
\DoxyCodeLine{6744   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{6745   foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{6746   foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{6747   \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{6748   \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{6749   \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{6750   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{6751   \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{6752   \textcolor{keyword}{delete} tmptree;}
\DoxyCodeLine{6753   \textcolor{keyword}{delete} tree;}
\DoxyCodeLine{6754 }
\DoxyCodeLine{6755   foutput-\/>Close();}
\DoxyCodeLine{6756 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a77f5dab7573e5de04ed9635eae68524d}\label{calcC__lintolog_8c_a77f5dab7573e5de04ed9635eae68524d}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV@{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV}}
\index{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV@{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV()}{get\_PAvgProfile\_MCFM\_JJQCD\_bkgZZ\_13TeV()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Z\+\_\+13\+TeV (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13},  }\item[{bool}]{recalculate = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 3807 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{3807                                                                                   \{}
\DoxyCodeLine{3808   \textcolor{keywordtype}{int} erg\_tev=\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}};}
\DoxyCodeLine{3809   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{3810   TString TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{3811   TString COUNTERS\_NAME = \textcolor{stringliteral}{"ZZTree/Counters"};}
\DoxyCodeLine{3812   \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{3813 }
\DoxyCodeLine{3814   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{3815   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{3816   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}};}
\DoxyCodeLine{3817 }
\DoxyCodeLine{3818   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{3819   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{3820   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{3821 }
\DoxyCodeLine{3822   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{3823   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{3824 }
\DoxyCodeLine{3825   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{3826   std::vector<float>* LepPt=0;}
\DoxyCodeLine{3827   std::vector<float>* LepEta=0;}
\DoxyCodeLine{3828   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{3829 }
\DoxyCodeLine{3830   \textcolor{keywordtype}{short} NJets30;}
\DoxyCodeLine{3831   std::vector<float>* JetPt=0;}
\DoxyCodeLine{3832   std::vector<float>* JetEta=0;}
\DoxyCodeLine{3833   std::vector<float>* JetPhi=0;}
\DoxyCodeLine{3834   std::vector<float>* JetMass=0;}
\DoxyCodeLine{3835   std::vector<float> myJetPt;}
\DoxyCodeLine{3836   std::vector<float> myJetEta;}
\DoxyCodeLine{3837   std::vector<float> myJetPhi;}
\DoxyCodeLine{3838   std::vector<float> myJetMass;}
\DoxyCodeLine{3839 }
\DoxyCodeLine{3840   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{3841   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{3842   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{3843   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{3844   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{3845   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{3846   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{3847   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{3848   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{3849   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{3850   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{3851   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{3852   \textcolor{keywordtype}{float} genxsec=0, genBR=0, ngen=0, genHEPMCweight=0;}
\DoxyCodeLine{3853   \textcolor{keywordtype}{float} wgt=1;}
\DoxyCodeLine{3854 }
\DoxyCodeLine{3855   TString cinput\_main;}
\DoxyCodeLine{3856   \textcolor{keywordflow}{if} (\mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}==13) cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{3857   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return};}
\DoxyCodeLine{3858 }
\DoxyCodeLine{3859   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{3860 }
\DoxyCodeLine{3861   vector<TString> strSamples = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"qq\_Bkg"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}});}
\DoxyCodeLine{3862 }
\DoxyCodeLine{3863   unordered\_map<TTree*, pair<float, float>> nGenMap;}
\DoxyCodeLine{3864   unordered\_map<float, vector<TTree*>> mass\_sample\_map;}
\DoxyCodeLine{3865 }
\DoxyCodeLine{3866   vector<TFile*> finputList;}
\DoxyCodeLine{3867   vector<TTree*> treeList;}
\DoxyCodeLine{3868   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{3869   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} is=0; is<strSamples.size(); is++)\{}
\DoxyCodeLine{3870     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples[is]).Data());}
\DoxyCodeLine{3871     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{3872     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{3873     TTree* tree=0;}
\DoxyCodeLine{3874     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{3875       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{3876         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{3877         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{3878         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{3879           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{3880           \textcolor{keywordflow}{if} (!recalculate \&\& tree-\/>GetBranchStatus(\textcolor{stringliteral}{"pConst\_JJQCD\_BKG\_MCFM\_JECNominal"})==0) recalculate=\textcolor{keyword}{true};}
\DoxyCodeLine{3881           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{3882           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genxsec"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genxsec"}, \&genxsec); tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genBR"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genBR"}, \&genBR);}
\DoxyCodeLine{3883           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"genHEPMCweight"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"genHEPMCweight"}, \&genHEPMCweight);}
\DoxyCodeLine{3884           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"nCleanedJetsPt30"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"nCleanedJetsPt30"}, \&NJets30);}
\DoxyCodeLine{3885           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPt"}, \&JetPt);}
\DoxyCodeLine{3886           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetEta"}, \&JetEta);}
\DoxyCodeLine{3887           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetPhi"}, \&JetPhi);}
\DoxyCodeLine{3888           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"JetMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"JetMass"}, \&JetMass);}
\DoxyCodeLine{3889           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{3890           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPt"}, \&ZZPt);}
\DoxyCodeLine{3891           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZEta"}, \&ZZEta);}
\DoxyCodeLine{3892           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZPhi"}, \&ZZPhi);}
\DoxyCodeLine{3893           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{3894           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{3895           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{3896           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{3897           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{3898           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{3899           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{3900           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepLepId"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepLepId"}, \&LepLepId);}
\DoxyCodeLine{3901           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPt"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPt"}, \&LepPt);}
\DoxyCodeLine{3902           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepEta"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepEta"}, \&LepEta);}
\DoxyCodeLine{3903           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"LepPhi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"LepPhi"}, \&LepPhi);}
\DoxyCodeLine{3904           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{3905           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{3906           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{3907             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"p\_JJQCD\_BKG\_MCFM\_JECNominal"}, 1);}
\DoxyCodeLine{3908             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"p\_JJQCD\_BKG\_MCFM\_JECNominal"}, \&mesq\_calc);}
\DoxyCodeLine{3909             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"pConst\_JJQCD\_BKG\_MCFM\_JECNominal"}, 1);}
\DoxyCodeLine{3910             tree-\/>SetBranchAddress(\textcolor{stringliteral}{"pConst\_JJQCD\_BKG\_MCFM\_JECNominal"}, \&cconst\_calc);}
\DoxyCodeLine{3911           \}}
\DoxyCodeLine{3912           \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"ME needs to be recalculated!"} << endl;}
\DoxyCodeLine{3913           tree-\/>GetEntry(0);}
\DoxyCodeLine{3914           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Cross section = "} << genxsec*genBR << endl;}
\DoxyCodeLine{3915 }
\DoxyCodeLine{3916           TH1F* htmp = (TH1F*)finput-\/>Get(COUNTERS\_NAME);}
\DoxyCodeLine{3917           pair<float, float> nsum(htmp-\/>GetBinContent(1), htmp-\/>GetBinContent(41)); \textcolor{comment}{// No PU reweighting}}
\DoxyCodeLine{3918           nGenMap[tree]=nsum;}
\DoxyCodeLine{3919 }
\DoxyCodeLine{3920           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{3921           treeList.push\_back(tree);}
\DoxyCodeLine{3922           finputList.push\_back(finput);}
\DoxyCodeLine{3923 }
\DoxyCodeLine{3924           \textcolor{keywordtype}{float} polemass = \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{findPoleMass}}(strSamples[is]);}
\DoxyCodeLine{3925           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pole mass = "} << polemass << endl;}
\DoxyCodeLine{3926           \textcolor{keywordflow}{if} (mass\_sample\_map.find(polemass)==mass\_sample\_map.end())\{}
\DoxyCodeLine{3927             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Inserting new pole mass sample array"} << endl;}
\DoxyCodeLine{3928             vector<TTree*> dumarr;}
\DoxyCodeLine{3929             mass\_sample\_map[polemass] = dumarr;}
\DoxyCodeLine{3930           \}}
\DoxyCodeLine{3931           mass\_sample\_map[polemass].push\_back(tree);}
\DoxyCodeLine{3932         \}}
\DoxyCodeLine{3933         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{3934       \}}
\DoxyCodeLine{3935     \}}
\DoxyCodeLine{3936   \}}
\DoxyCodeLine{3937   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << endl;}
\DoxyCodeLine{3938 }
\DoxyCodeLine{3939   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = mass\_sample\_map.begin(); it != mass\_sample\_map.end(); ++it)\{}
\DoxyCodeLine{3940     \textcolor{keywordtype}{float} sum\_ngen=0;}
\DoxyCodeLine{3941     \textcolor{keywordtype}{float} sum\_xsec=0;}
\DoxyCodeLine{3942     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3943       it-\/>second.at(ix)-\/>GetEntry(0);}
\DoxyCodeLine{3944       sum\_ngen += nGenMap[it-\/>second.at(ix)].first;}
\DoxyCodeLine{3945       sum\_xsec += genxsec*genBR;}
\DoxyCodeLine{3946     \}}
\DoxyCodeLine{3947     \textcolor{keywordtype}{float} overallWeight = sum\_ngen/sum\_xsec;}
\DoxyCodeLine{3948     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<it-\/>second.size(); ix++)\{}
\DoxyCodeLine{3949       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sum Hep MC weights in tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" was "} << nGenMap[it-\/>second.at(ix)].second << \textcolor{stringliteral}{" over "} << nGenMap[it-\/>second.at(ix)].first << \textcolor{stringliteral}{" total gen. events."} << endl;}
\DoxyCodeLine{3950       nGenMap[it-\/>second.at(ix)].first = overallWeight/nGenMap[it-\/>second.at(ix)].second;}
\DoxyCodeLine{3951       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event scale for tree "} << ix << \textcolor{stringliteral}{" / "} << it-\/>second.size() << \textcolor{stringliteral}{" at pole mass "} << it-\/>first << \textcolor{stringliteral}{" = "} << nGenMap[it-\/>second.at(ix)].first << endl;}
\DoxyCodeLine{3952     \}}
\DoxyCodeLine{3953   \}}
\DoxyCodeLine{3954 }
\DoxyCodeLine{3955   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s\_\%iTeV.root"}, strme.Data(), strprod.Data(), strproc.Data(), \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{3956 }
\DoxyCodeLine{3957   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{3958   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{3959   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{3960     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3961     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{3962       NJets30>=2 \&\& (}
\DoxyCodeLine{3963       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{3964       ||}
\DoxyCodeLine{3965       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{3966       ||}
\DoxyCodeLine{3967       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{3968       )}
\DoxyCodeLine{3969       ;}
\DoxyCodeLine{3970     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{3971     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{3972     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{3973     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3974     \textcolor{keywordflow}{if} (ic<2) \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[1-\/ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{3975     ev\_acc++;}
\DoxyCodeLine{3976   \}}
\DoxyCodeLine{3977 }
\DoxyCodeLine{3978   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{3979     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{3980     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{3981     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{3982     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{3983     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{3984 }
\DoxyCodeLine{3985     \textcolor{keywordtype}{float} divisor=10000;}
\DoxyCodeLine{3986     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3987     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=8\textcolor{comment}{/*50*/};}
\DoxyCodeLine{3988     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{3989       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{3990       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{3991       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{3992       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{3993     \}}
\DoxyCodeLine{3994     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{3995     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{3996     vector<ExtBin> binList;}
\DoxyCodeLine{3997     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{3998     binning[0]=infimum;}
\DoxyCodeLine{3999     binning[nbins]=supremum;}
\DoxyCodeLine{4000     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{4001     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{4002     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{4003     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{4004       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{4005       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4006       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1];}
\DoxyCodeLine{4007       tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{4008       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].second);}
\DoxyCodeLine{4009       binList.push\_back(tmpbin);}
\DoxyCodeLine{4010       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4011     \}}
\DoxyCodeLine{4012     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{4013     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1];}
\DoxyCodeLine{4014     tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{4015     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++) tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second);}
\DoxyCodeLine{4016     binList.push\_back(tmpbin);}
\DoxyCodeLine{4017     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{4018     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{4019     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{4020       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{4021     \}}
\DoxyCodeLine{4022 }
\DoxyCodeLine{4023     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{4024     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{4025 }
\DoxyCodeLine{4026     TTree* newtree=0;}
\DoxyCodeLine{4027     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{4028       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{4029       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{4030       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{4031       newtree-\/>Branch(\textcolor{stringliteral}{"weight"}, \&wgt);}
\DoxyCodeLine{4032     \}}
\DoxyCodeLine{4033 }
\DoxyCodeLine{4034     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{4035 }
\DoxyCodeLine{4036     \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{4037     \textcolor{keywordtype}{double} alphasVal=0;}
\DoxyCodeLine{4038     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{4039     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{4040       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{4041       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4042         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4043         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{4044         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{4045         \textcolor{keywordflow}{if} (JetPt-\/>size()<2 || JetEta-\/>size()<2 || JetPhi-\/>size()<2 || JetMass-\/>size()<2)\{}
\DoxyCodeLine{4046           cerr << \textcolor{stringliteral}{"Jet array sizes are less than Njets!"} << endl;}
\DoxyCodeLine{4047           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{4048         \}}
\DoxyCodeLine{4049         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{4050         wgt = fabs(genxsec*genBR*genHEPMCweight*nGenMap[tree].first);}
\DoxyCodeLine{4051 }
\DoxyCodeLine{4052         TLorentzVector jet[2], higgs;}
\DoxyCodeLine{4053         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ij=0; ij<2; ij++) jet[ij].SetPtEtaPhiM(JetPt-\/>at(ij), JetEta-\/>at(ij), JetPhi-\/>at(ij), JetMass-\/>at(ij));}
\DoxyCodeLine{4054         higgs.SetPtEtaPhiM(ZZPt, ZZEta, ZZPhi, mzz);}
\DoxyCodeLine{4055         TVector3 boostH = higgs.BoostVector();}
\DoxyCodeLine{4056 }
\DoxyCodeLine{4057         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} associated;}
\DoxyCodeLine{4058         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[0]));}
\DoxyCodeLine{4059         associated.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(0, jet[1]));}
\DoxyCodeLine{4060 }
\DoxyCodeLine{4061         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{4062         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}=0; \textcolor{keywordtype}{id}<4; \textcolor{keywordtype}{id}++)\{}
\DoxyCodeLine{4063           \textcolor{keywordtype}{double} mass=0;}
\DoxyCodeLine{4064           \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==13) mass = 0.105658;}
\DoxyCodeLine{4065           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (abs(LepLepId-\/>at(\textcolor{keywordtype}{id}))==11) mass = 0.000511;}
\DoxyCodeLine{4066           TLorentzVector pDaughter;}
\DoxyCodeLine{4067           pDaughter.SetPtEtaPhiM(LepPt-\/>at(\textcolor{keywordtype}{id}), LepEta-\/>at(\textcolor{keywordtype}{id}), LepPhi-\/>at(\textcolor{keywordtype}{id}), mass);}
\DoxyCodeLine{4068           daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepLepId-\/>at(\textcolor{keywordtype}{id}), pDaughter));}
\DoxyCodeLine{4069         \}}
\DoxyCodeLine{4070         mela.setInputEvent(\&daughters, \&associated, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{4071 }
\DoxyCodeLine{4072         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{4073 }
\DoxyCodeLine{4074         \textcolor{keywordflow}{if} (recalculate || ev\_acc==0)\{}
\DoxyCodeLine{4075           \mbox{\hyperlink{namespaceTUtil_a4f9532dc2110d5229def322ed98d61bc}{TUtil::setJetMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{4076           mela.computeProdP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{4077           \textcolor{keywordflow}{if} (!recalculate)\{}
\DoxyCodeLine{4078             mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{4079             mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{4080           \}}
\DoxyCodeLine{4081           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{4082           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{4083           alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{4084           \textcolor{keywordflow}{if} (ev\_acc==0 \&\& !recalculate)\{}
\DoxyCodeLine{4085             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"\(\backslash\)taL1, aR1, aL2, aR2 = "} << aL1 << \textcolor{stringliteral}{" , "} << aR1 << \textcolor{stringliteral}{" , "} << aL2 << \textcolor{stringliteral}{" , "} << aR2 << endl;}
\DoxyCodeLine{4086             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"\(\backslash\)talphaS(mZ) = "} << alphasVal << endl;}
\DoxyCodeLine{4087           \}}
\DoxyCodeLine{4088         \}}
\DoxyCodeLine{4089         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{4090           mesq\_calc /= cconst\_calc;}
\DoxyCodeLine{4091           mesq\_conserveDifermMass=mesq\_calc;}
\DoxyCodeLine{4092         \}}
\DoxyCodeLine{4093         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{4094         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{4095         mesq\_conserveDifermMass /= pow(alphasVal, 2);}
\DoxyCodeLine{4096 }
\DoxyCodeLine{4097         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, gaz, \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{4098         \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}} = mela.getPrimaryMass(23);}
\DoxyCodeLine{4099         gaz = mela.getPrimaryWidth(23);}
\DoxyCodeLine{4100         \textcolor{keywordflow}{if} (fabs(mzz-\/\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}})<=4.*gaz)\{}
\DoxyCodeLine{4101           \textcolor{keywordtype}{double} sh = pow(mzz, 2);}
\DoxyCodeLine{4102           \textcolor{keywordtype}{double} shdn = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}-\/4.*gaz, 2);}
\DoxyCodeLine{4103           \textcolor{keywordtype}{double} shup = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}+4.*gaz, 2);}
\DoxyCodeLine{4104           \textcolor{keywordtype}{double} prop\_sh = 1./(pow(sh-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{4105           \textcolor{keywordtype}{double} prop\_shdn = 1./(pow(shdn-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{4106           \textcolor{keywordtype}{double} prop\_shup = 1./(pow(shup-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{4107           \textcolor{keywordtype}{double} fsh = (sh-\/shdn)/(shup-\/shdn);}
\DoxyCodeLine{4108           \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = prop\_sh / (prop\_shdn*(1.-\/fsh) + prop\_shup*fsh);}
\DoxyCodeLine{4109         \}}
\DoxyCodeLine{4110         \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}}=1.;}
\DoxyCodeLine{4111         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{4112 }
\DoxyCodeLine{4113         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{4114           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{4115           );}
\DoxyCodeLine{4116 }
\DoxyCodeLine{4117         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, wgt);}
\DoxyCodeLine{4118 }
\DoxyCodeLine{4119         mela.resetInputEvent();}
\DoxyCodeLine{4120         ev\_acc++;}
\DoxyCodeLine{4121       \}}
\DoxyCodeLine{4122 }
\DoxyCodeLine{4123       binList.at(bin).sift(); binList.at(bin).adjustWeights(-\/1);}
\DoxyCodeLine{4124 }
\DoxyCodeLine{4125       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{4126         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4127         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4128         wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{4129         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{4130         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{4131         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{4132       \}}
\DoxyCodeLine{4133     \}}
\DoxyCodeLine{4134 }
\DoxyCodeLine{4135     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{4136     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{4137     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{4138       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4139       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{4140 }
\DoxyCodeLine{4141       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{4142 }
\DoxyCodeLine{4143       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{4144       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{4145       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{4146       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{4147     \}}
\DoxyCodeLine{4148 }
\DoxyCodeLine{4149     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{4150     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{4151     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{4152     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{4153 }
\DoxyCodeLine{4154     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{4155 }
\DoxyCodeLine{4156     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{4157     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{4158     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{4159     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{4160     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{4161     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{4162     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{4163   \}}
\DoxyCodeLine{4164   foutput-\/>Close();}
\DoxyCodeLine{4165   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{4166 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a99e74d0c63266c4ab31c36d19016a3fa}\label{calcC__lintolog_8c_a99e74d0c63266c4ab31c36d19016a3fa}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ@{get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ}}
\index{get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ@{get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ()}{get\_PAvgProfile\_MCFM\_ZZGG\_bkgZZ()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}\item[{bool}]{recalculate = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 5340 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{5340                                                             \{}
\DoxyCodeLine{5341   \textcolor{keywordtype}{int} erg\_tev=8;}
\DoxyCodeLine{5342   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{5343   TString TREE\_NAME;}
\DoxyCodeLine{5344   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{5345   \textcolor{keyword}{const} TString strMEBranchname = \textcolor{stringliteral}{"p\_GG\_BKG\_MCFM"};}
\DoxyCodeLine{5346   \textcolor{keyword}{const} TString strConstBranchname = \textcolor{stringliteral}{"pConst\_GG\_BKG\_MCFM"};}
\DoxyCodeLine{5347 }
\DoxyCodeLine{5348   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{5349   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{5350 }
\DoxyCodeLine{5351   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{5352   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{5353   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{5354 }
\DoxyCodeLine{5355   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{5356   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{5357   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{5358 }
\DoxyCodeLine{5359   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{5360   std::vector<float>* LepPt=0;}
\DoxyCodeLine{5361   std::vector<float>* LepEta=0;}
\DoxyCodeLine{5362   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{5363 }
\DoxyCodeLine{5364   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{5365   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{5366   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{5367   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{5368   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{5369   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{5370   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{5371   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{5372   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{5373   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{5374   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{5375   \textcolor{keywordtype}{float} wgt=1.;}
\DoxyCodeLine{5376   \textcolor{keywordtype}{float} GenHMass;}
\DoxyCodeLine{5377   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{5378   \textcolor{keywordtype}{int} LepID[4];}
\DoxyCodeLine{5379   \textcolor{keywordtype}{short} useWeighted;}
\DoxyCodeLine{5380 }
\DoxyCodeLine{5381   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{5382   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{5383   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{5384 }
\DoxyCodeLine{5385   vector<TString> dumappend;}
\DoxyCodeLine{5386   vector<TString> strSamples\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_MCFM"}, 13.);}
\DoxyCodeLine{5387   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_ggVV"}, 13.);}
\DoxyCodeLine{5388   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{5389 }
\DoxyCodeLine{5390   vector<TString> strSamples\_8TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_MCFM"}, 8.);}
\DoxyCodeLine{5391   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_ggVV"}, 8.);}
\DoxyCodeLine{5392   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{5393 }
\DoxyCodeLine{5394   vector<TString> strSamples\_7TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_MCFM"}, 7.);}
\DoxyCodeLine{5395   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Bkg\_ggVV"}, 7.);}
\DoxyCodeLine{5396   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{5397 }
\DoxyCodeLine{5398   \textcolor{comment}{// Consider if weights exist}}
\DoxyCodeLine{5399   unordered\_map<TTree*, pair<float, float>> samplePoleMasses;}
\DoxyCodeLine{5400 }
\DoxyCodeLine{5401   vector<TString> strSamples\_weighted\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 13.);}
\DoxyCodeLine{5402   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 13.);}
\DoxyCodeLine{5403   appendVector<TString>(strSamples\_weighted\_13TeV, dumappend);}
\DoxyCodeLine{5404   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 13.);}
\DoxyCodeLine{5405   appendVector<TString>(strSamples\_weighted\_13TeV, dumappend);}
\DoxyCodeLine{5406   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 13.);}
\DoxyCodeLine{5407   appendVector<TString>(strSamples\_weighted\_13TeV, dumappend);}
\DoxyCodeLine{5408 }
\DoxyCodeLine{5409   vector<TFile*> finputList;}
\DoxyCodeLine{5410   vector<TTree*> treeList;}
\DoxyCodeLine{5411   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{5412   TString cinput\_main;}
\DoxyCodeLine{5413 }
\DoxyCodeLine{5414   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{5415   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{5416   \textcolor{comment}{//for (int is=0; is<1; is++)\{}}
\DoxyCodeLine{5417   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_weighted\_13TeV.size(); is++)\{}
\DoxyCodeLine{5418     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_weighted\_13TeV[is]).Data());}
\DoxyCodeLine{5419     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5420     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5421     TTree* tree=0;}
\DoxyCodeLine{5422     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5423       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5424         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5425         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5426         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5427           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5428           \textcolor{keywordflow}{if} (tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_Gen\_GG\_BKG\_MCFM"})==1)\{}
\DoxyCodeLine{5429             \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{5430             \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{5431             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5432             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5433             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5434             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5435             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5436             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5437             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5438             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5439             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5440             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{5441             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{5442             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"p\_Gen\_GG\_BKG\_MCFM"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"p\_Gen\_GG\_BKG\_MCFM"}, \&wgt);}
\DoxyCodeLine{5443             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"GenHMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"GenHMass"}, \&GenHMass);}
\DoxyCodeLine{5444             \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{5445               tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{5446               tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{5447             \}}
\DoxyCodeLine{5448             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5449             treeList.push\_back(tree);}
\DoxyCodeLine{5450             finputList.push\_back(finput);}
\DoxyCodeLine{5451 }
\DoxyCodeLine{5452             \textcolor{keywordtype}{float} polemass = \mbox{\hyperlink{calcC__lintolog_8c_a87af69d74e1712db02417cb1bd6f7541}{findPoleMass}}(strSamples\_weighted\_13TeV[is]);}
\DoxyCodeLine{5453             \textcolor{keywordtype}{float} polewidth = mela.getHiggsWidthAtPoleMass(polemass);}
\DoxyCodeLine{5454             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << strSamples\_weighted\_13TeV[is] << \textcolor{stringliteral}{" pole mass = "} << polemass << \textcolor{stringliteral}{", pole width = "} << polewidth << endl;}
\DoxyCodeLine{5455             samplePoleMasses[tree] = pair<float, float>(polemass, polewidth);}
\DoxyCodeLine{5456           \}}
\DoxyCodeLine{5457           \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{5458             cerr << TREE\_NAME << \textcolor{stringliteral}{" in "} << cinput << \textcolor{stringliteral}{" does not have weight p\_Gen\_GG\_BKG\_MCFM."} << endl;}
\DoxyCodeLine{5459             finput-\/>Close();}
\DoxyCodeLine{5460           \}}
\DoxyCodeLine{5461         \}}
\DoxyCodeLine{5462         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5463       \}}
\DoxyCodeLine{5464       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5465     \}}
\DoxyCodeLine{5466   \}}
\DoxyCodeLine{5467 }
\DoxyCodeLine{5468   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{5469   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{5470   \textcolor{comment}{//for (int is=0; is<1; is++)\{}}
\DoxyCodeLine{5471   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_13TeV.size(); is++)\{}
\DoxyCodeLine{5472     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_13TeV[is]).Data());}
\DoxyCodeLine{5473     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5474     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5475     TTree* tree=0;}
\DoxyCodeLine{5476     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5477       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5478         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5479         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5480         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5481           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5482           \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{5483           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{5484           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5485           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5486           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5487           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5488           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5489           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5490           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5491           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5492           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5493           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{5494           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{5495           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{5496             tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{5497             tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{5498           \}}
\DoxyCodeLine{5499           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5500           treeList.push\_back(tree);}
\DoxyCodeLine{5501           finputList.push\_back(finput);}
\DoxyCodeLine{5502         \}}
\DoxyCodeLine{5503         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5504       \}}
\DoxyCodeLine{5505       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5506     \}}
\DoxyCodeLine{5507   \}}
\DoxyCodeLine{5508 }
\DoxyCodeLine{5509   TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{5510   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5511     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{5512     \textcolor{comment}{//for (int is=0; is<0; is++)\{}}
\DoxyCodeLine{5513     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_8TeV.size(); is++)\{}
\DoxyCodeLine{5514       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_8TeV[is]).Data());}
\DoxyCodeLine{5515       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5516       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5517       TTree* tree=0;}
\DoxyCodeLine{5518       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5519         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5520           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5521           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5522           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5523             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5524             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5525             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5526             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5527             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5528             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5529             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5530             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5531             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5532             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5533             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5534             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5535             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5536             treeList.push\_back(tree);}
\DoxyCodeLine{5537             finputList.push\_back(finput);}
\DoxyCodeLine{5538           \}}
\DoxyCodeLine{5539           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5540         \}}
\DoxyCodeLine{5541         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5542       \}}
\DoxyCodeLine{5543     \}}
\DoxyCodeLine{5544     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{5545     \textcolor{comment}{//for (int is=0; is<0; is++)\{}}
\DoxyCodeLine{5546     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_7TeV.size(); is++)\{}
\DoxyCodeLine{5547       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_7TeV[is]).Data());}
\DoxyCodeLine{5548       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5549       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5550       TTree* tree=0;}
\DoxyCodeLine{5551       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5552         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5553           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5554           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5555           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5556             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5557             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5558             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5559             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5560             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5561             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5562             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5563             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5564             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5565             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5566             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5567             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5568             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5569             treeList.push\_back(tree);}
\DoxyCodeLine{5570             finputList.push\_back(finput);}
\DoxyCodeLine{5571           \}}
\DoxyCodeLine{5572           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5573         \}}
\DoxyCodeLine{5574         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5575       \}}
\DoxyCodeLine{5576     \}}
\DoxyCodeLine{5577   \}}
\DoxyCodeLine{5578 }
\DoxyCodeLine{5579   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{5580 }
\DoxyCodeLine{5581   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{5582   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5583     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5584     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{5585       (}
\DoxyCodeLine{5586       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{5587       ||}
\DoxyCodeLine{5588       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{5589       ||}
\DoxyCodeLine{5590       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{5591       )}
\DoxyCodeLine{5592       ;}
\DoxyCodeLine{5593     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5594     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{5595     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{5596     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5597     ev\_acc++;}
\DoxyCodeLine{5598   \}}
\DoxyCodeLine{5599   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of valid entries: "} << ev\_acc << endl;}
\DoxyCodeLine{5600 }
\DoxyCodeLine{5601   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5602     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{5603     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{5604     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{5605     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{5606     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{5607 }
\DoxyCodeLine{5608     \textcolor{keywordtype}{float} divisor=100000;}
\DoxyCodeLine{5609     \textcolor{keywordflow}{if} (ic!=2) divisor=130000;}
\DoxyCodeLine{5610     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{5611     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{5612     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{5613       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{5614       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{5615       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{5616       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{5617     \}}
\DoxyCodeLine{5618     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{5619     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{5620     vector<ExtBin> binList;}
\DoxyCodeLine{5621     vector<ExtBin> weightedBinList;}
\DoxyCodeLine{5622     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{5623     binning[0]=infimum;}
\DoxyCodeLine{5624     binning[nbins]=supremum;}
\DoxyCodeLine{5625     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{5626     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{5627     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{5628     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{5629       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{5630       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin, tmpbin\_weighted;}
\DoxyCodeLine{5631       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{5632       tmpbin\_weighted.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin\_weighted.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{5633       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++)\{}
\DoxyCodeLine{5634         \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}};}
\DoxyCodeLine{5635         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, evid);}
\DoxyCodeLine{5636         \textcolor{keywordflow}{if} (tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_Gen\_GG\_BKG\_MCFM"})==1) tmpbin\_weighted.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5637         \textcolor{keywordflow}{else} tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5638       \}}
\DoxyCodeLine{5639       binList.push\_back(tmpbin);}
\DoxyCodeLine{5640       weightedBinList.push\_back(tmpbin\_weighted);}
\DoxyCodeLine{5641       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{5642     \}}
\DoxyCodeLine{5643     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin, tmpbin\_weighted;}
\DoxyCodeLine{5644     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{5645     tmpbin\_weighted.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin\_weighted.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{5646     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++)\{}
\DoxyCodeLine{5647       \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second;}
\DoxyCodeLine{5648       TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, evid);}
\DoxyCodeLine{5649       \textcolor{keywordflow}{if} (tree-\/>GetBranchStatus(\textcolor{stringliteral}{"p\_Gen\_GG\_BKG\_MCFM"})==1) tmpbin\_weighted.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5650       \textcolor{keywordflow}{else} tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5651     \}}
\DoxyCodeLine{5652     binList.push\_back(tmpbin);}
\DoxyCodeLine{5653     weightedBinList.push\_back(tmpbin\_weighted);}
\DoxyCodeLine{5654     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{5655     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{5656     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{5657       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{5658     \}}
\DoxyCodeLine{5659 }
\DoxyCodeLine{5660     foutput-\/>cd();}
\DoxyCodeLine{5661     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{5662     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{5663 }
\DoxyCodeLine{5664     TTree* newtree=0;}
\DoxyCodeLine{5665     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{5666       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{5667       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{5668       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5669       newtree-\/>Branch(\textcolor{stringliteral}{"weight"}, \&wgt);}
\DoxyCodeLine{5670       newtree-\/>Branch(\textcolor{stringliteral}{"isWeighted"}, \&useWeighted);}
\DoxyCodeLine{5671     \}}
\DoxyCodeLine{5672 }
\DoxyCodeLine{5673     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{5674 }
\DoxyCodeLine{5675     \textcolor{keywordflow}{if} (ic==1)\{}
\DoxyCodeLine{5676       LepID[0]=11;}
\DoxyCodeLine{5677       LepID[1]=-\/11;}
\DoxyCodeLine{5678     \}}
\DoxyCodeLine{5679     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{5680       LepID[0]=13;}
\DoxyCodeLine{5681       LepID[1]=-\/13;}
\DoxyCodeLine{5682     \}}
\DoxyCodeLine{5683     \textcolor{keywordflow}{if} (ic==0)\{}
\DoxyCodeLine{5684       LepID[2]=13;}
\DoxyCodeLine{5685       LepID[3]=-\/13;}
\DoxyCodeLine{5686     \}}
\DoxyCodeLine{5687     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{5688       LepID[2]=11;}
\DoxyCodeLine{5689       LepID[3]=-\/11;}
\DoxyCodeLine{5690     \}}
\DoxyCodeLine{5691 }
\DoxyCodeLine{5692     \textcolor{keywordtype}{double} alphasVal=0, aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{5693     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{5694     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{5695       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{5696       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nweighted = weightedBinList.at(bin).events.size();}
\DoxyCodeLine{5697       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nunweighted = binList.at(bin).events.size();}
\DoxyCodeLine{5698       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ntotal = nweighted + nunweighted;}
\DoxyCodeLine{5699       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < ntotal; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5700         \textcolor{keywordtype}{int} getEv;}
\DoxyCodeLine{5701         \textcolor{keywordtype}{bool} isweighted = (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nweighted);}
\DoxyCodeLine{5702         \textcolor{keywordflow}{if} (isweighted) getEv = weightedBinList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5703         \textcolor{keywordflow}{else} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}-\/nweighted);}
\DoxyCodeLine{5704         wgt=1;}
\DoxyCodeLine{5705         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{5706         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{5707 }
\DoxyCodeLine{5708         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{5709 }
\DoxyCodeLine{5710         TLorentzVector pDaughters[4];}
\DoxyCodeLine{5711         std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{5712         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{5713         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{5714         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{5715         mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{5716 }
\DoxyCodeLine{5717         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{5718         \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{5719 }
\DoxyCodeLine{5720         \textcolor{keywordtype}{bool} hasConst = (tree-\/>GetBranchStatus(strConstBranchname)==1);}
\DoxyCodeLine{5721         \textcolor{keywordtype}{bool} doCalc=(!hasConst || ctr==0);}
\DoxyCodeLine{5722         \textcolor{keywordflow}{if} (doCalc)\{}
\DoxyCodeLine{5723           mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{5724           \textcolor{keywordflow}{if} (hasConst) mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{5725 }
\DoxyCodeLine{5726           alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{5727           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{5728           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{5729         \}}
\DoxyCodeLine{5730         \textcolor{keywordflow}{else} mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{5731 }
\DoxyCodeLine{5732         mesq\_conserveDifermMass /= pow(alphasVal, 2);}
\DoxyCodeLine{5733         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{5734         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{5735 }
\DoxyCodeLine{5736         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{5737           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{5738           );}
\DoxyCodeLine{5739 }
\DoxyCodeLine{5740         \textcolor{keywordflow}{if} (doFill)\{}
\DoxyCodeLine{5741           \textcolor{keywordflow}{if} (isweighted)\{}
\DoxyCodeLine{5742             \textcolor{keywordtype}{float} mh = samplePoleMasses[tree].first;}
\DoxyCodeLine{5743             \textcolor{keywordtype}{float} gh = samplePoleMasses[tree].second;}
\DoxyCodeLine{5744             \textcolor{keywordtype}{float} prop = 1./(pow(pow(GenHMass, 2) -\/ pow(mh, 2), 2) + pow(mh*gh, 2));}
\DoxyCodeLine{5745             wgt *= prop;}
\DoxyCodeLine{5746             weightedBinList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, wgt);}
\DoxyCodeLine{5747           \}}
\DoxyCodeLine{5748           \textcolor{keywordflow}{else} binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0, 1.);}
\DoxyCodeLine{5749         \}}
\DoxyCodeLine{5750 }
\DoxyCodeLine{5751         mela.resetInputEvent();}
\DoxyCodeLine{5752         ctr++;}
\DoxyCodeLine{5753       \}}
\DoxyCodeLine{5754 }
\DoxyCodeLine{5755       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Adjusting weights in weighted samples"} << endl;}
\DoxyCodeLine{5756       weightedBinList.at(bin).adjustWeights();}
\DoxyCodeLine{5757       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Merging event info. from weighted samples"} << endl;}
\DoxyCodeLine{5758       binList.at(bin).mergeBin(weightedBinList.at(bin));}
\DoxyCodeLine{5759       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sifting"} << endl;}
\DoxyCodeLine{5760       binList.at(bin).sift();}
\DoxyCodeLine{5761 }
\DoxyCodeLine{5762       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5763         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5764         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5765         wgt = binList.at(bin).weights.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5766         useWeighted = (wgt!=1.);}
\DoxyCodeLine{5767         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass, wgt);}
\DoxyCodeLine{5768         hvar-\/>Fill(mzz, mzz, wgt);}
\DoxyCodeLine{5769         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{5770       \}}
\DoxyCodeLine{5771     \}}
\DoxyCodeLine{5772 }
\DoxyCodeLine{5773     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{5774     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{5775     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{5776       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{5777       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{5778 }
\DoxyCodeLine{5779       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{5780       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{5781       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{5782       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{5783       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{5784     \}}
\DoxyCodeLine{5785 }
\DoxyCodeLine{5786 }
\DoxyCodeLine{5787     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{5788     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{5789     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{5790     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{5791 }
\DoxyCodeLine{5792     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{5793     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{5794     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{5795     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{5796     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{5797     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{5798     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{5799     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{5800   \}}
\DoxyCodeLine{5801   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{5802   foutput-\/>Close();}
\DoxyCodeLine{5803 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aab79622f08c976cf7a30638f17e065c2}\label{calcC__lintolog_8c_aab79622f08c976cf7a30638f17e065c2}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs}}
\index{get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs@{get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs()}{get\_PAvgProfile\_MCFM\_ZZGG\_HSMHiggs()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{bool}]{recalculate = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 4950 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{4950                                                                \{}
\DoxyCodeLine{4951   \textcolor{keywordtype}{int} erg\_tev=8;}
\DoxyCodeLine{4952   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{4953   TString TREE\_NAME;}
\DoxyCodeLine{4954   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{false};}
\DoxyCodeLine{4955   \textcolor{keyword}{const} TString strMEBranchname = \textcolor{stringliteral}{"p\_GG\_SIG\_kappaTopBot\_1\_ghz1\_1\_MCFM"};}
\DoxyCodeLine{4956   \textcolor{keyword}{const} TString strConstBranchname = \textcolor{stringliteral}{"pConst\_GG\_SIG\_kappaTopBot\_1\_ghz1\_1\_MCFM"};}
\DoxyCodeLine{4957 }
\DoxyCodeLine{4958   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{4959   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{4960 }
\DoxyCodeLine{4961   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{4962   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{4963   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{4964 }
\DoxyCodeLine{4965   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{4966   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{4967   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{4968 }
\DoxyCodeLine{4969   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{4970   std::vector<float>* LepPt=0;}
\DoxyCodeLine{4971   std::vector<float>* LepEta=0;}
\DoxyCodeLine{4972   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{4973 }
\DoxyCodeLine{4974   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{4975   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{4976   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{4977   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{4978   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{4979   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{4980   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{4981   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{4982   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{4983   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{4984   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{4985   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{4986   \textcolor{keywordtype}{int} LepID[4];}
\DoxyCodeLine{4987 }
\DoxyCodeLine{4988   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{4989   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{4990   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{4991 }
\DoxyCodeLine{4992   vector<TString> dumappend;}
\DoxyCodeLine{4993   vector<TString> strSamples\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 13.);}
\DoxyCodeLine{4994   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 13.);}
\DoxyCodeLine{4995   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4996   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 13.);}
\DoxyCodeLine{4997   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{4998   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 13.);}
\DoxyCodeLine{4999   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{5000   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 13.);}
\DoxyCodeLine{5001   appendVector<TString>(strSamples\_13TeV, dumappend);}
\DoxyCodeLine{5002 }
\DoxyCodeLine{5003   vector<TString> strSamples\_8TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 8.);}
\DoxyCodeLine{5004   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 8.);}
\DoxyCodeLine{5005   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{5006   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 8.);}
\DoxyCodeLine{5007   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{5008   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 8.);}
\DoxyCodeLine{5009   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{5010   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 8.);}
\DoxyCodeLine{5011   appendVector<TString>(strSamples\_8TeV, dumappend);}
\DoxyCodeLine{5012 }
\DoxyCodeLine{5013   vector<TString> strSamples\_7TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJQCD"}, 7.);}
\DoxyCodeLine{5014   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"JJVBF"}, 7.);}
\DoxyCodeLine{5015   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{5016   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_JHUGen"}, 7.);}
\DoxyCodeLine{5017   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{5018   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_MCFM"}, 7.);}
\DoxyCodeLine{5019   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{5020   dumappend = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"gg\_Sig\_ggVV"}, 7.);}
\DoxyCodeLine{5021   appendVector<TString>(strSamples\_7TeV, dumappend);}
\DoxyCodeLine{5022 }
\DoxyCodeLine{5023   vector<TFile*> finputList;}
\DoxyCodeLine{5024   vector<TTree*> treeList;}
\DoxyCodeLine{5025   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{5026   TString cinput\_main;}
\DoxyCodeLine{5027 }
\DoxyCodeLine{5028   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{5029   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{5030   \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{5031   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_13TeV.size(); is++)\{}
\DoxyCodeLine{5032     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_13TeV[is]).Data());}
\DoxyCodeLine{5033     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5034     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5035     TTree* tree=0;}
\DoxyCodeLine{5036     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5037       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5038         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5039         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5040         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5041           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5042 }
\DoxyCodeLine{5043           \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{5044           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{5045           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5046           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5047           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5048           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5049           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5050           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5051           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5052           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5053           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5054           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{5055           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{5056           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{5057             tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{5058             tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{5059           \}}
\DoxyCodeLine{5060           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5061           treeList.push\_back(tree);}
\DoxyCodeLine{5062           finputList.push\_back(finput);}
\DoxyCodeLine{5063         \}}
\DoxyCodeLine{5064         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5065       \}}
\DoxyCodeLine{5066       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5067     \}}
\DoxyCodeLine{5068   \}}
\DoxyCodeLine{5069 }
\DoxyCodeLine{5070   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5071     TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{5072     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{5073     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{5074     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_8TeV.size(); is++)\{}
\DoxyCodeLine{5075       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_8TeV[is]).Data());}
\DoxyCodeLine{5076       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5077       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5078       TTree* tree=0;}
\DoxyCodeLine{5079       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5080         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5081           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5082           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5083           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5084             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5085             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5086             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5087             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5088             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5089             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5090             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5091             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5092             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5093             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5094             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5095             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5096             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5097             treeList.push\_back(tree);}
\DoxyCodeLine{5098             finputList.push\_back(finput);}
\DoxyCodeLine{5099           \}}
\DoxyCodeLine{5100           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5101         \}}
\DoxyCodeLine{5102         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5103       \}}
\DoxyCodeLine{5104     \}}
\DoxyCodeLine{5105     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{5106     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{5107     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_7TeV.size(); is++)\{}
\DoxyCodeLine{5108       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_7TeV[is]).Data());}
\DoxyCodeLine{5109       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5110       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5111       TTree* tree=0;}
\DoxyCodeLine{5112       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5113         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5114           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5115           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5116           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5117             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found."} << endl;}
\DoxyCodeLine{5118             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5119             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5120             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5121             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5122             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5123             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5124             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5125             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5126             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5127             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5128             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5129             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5130             treeList.push\_back(tree);}
\DoxyCodeLine{5131             finputList.push\_back(finput);}
\DoxyCodeLine{5132           \}}
\DoxyCodeLine{5133           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5134         \}}
\DoxyCodeLine{5135         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5136       \}}
\DoxyCodeLine{5137     \}}
\DoxyCodeLine{5138   \}}
\DoxyCodeLine{5139 }
\DoxyCodeLine{5140   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{5141 }
\DoxyCodeLine{5142   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{5143   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5144     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5145     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{5146       (}
\DoxyCodeLine{5147       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{5148       ||}
\DoxyCodeLine{5149       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{5150       ||}
\DoxyCodeLine{5151       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{5152       )}
\DoxyCodeLine{5153       ;}
\DoxyCodeLine{5154     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5155     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{5156     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{5157     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5158     ev\_acc++;}
\DoxyCodeLine{5159   \}}
\DoxyCodeLine{5160   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of valid entries: "} << ev\_acc << endl;}
\DoxyCodeLine{5161 }
\DoxyCodeLine{5162   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5163     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{5164     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{5165     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{5166     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{5167     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{5168 }
\DoxyCodeLine{5169     \textcolor{keywordtype}{float} divisor=95000;}
\DoxyCodeLine{5170     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{5171     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{5172     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{5173       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{5174       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{5175       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{5176       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{5177     \}}
\DoxyCodeLine{5178     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{5179     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{5180     vector<ExtBin> binList;}
\DoxyCodeLine{5181     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{5182     binning[0]=infimum;}
\DoxyCodeLine{5183     binning[nbins]=supremum;}
\DoxyCodeLine{5184     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{5185     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{5186     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{5187     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{5188       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{5189       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{5190       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{5191       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++)\{}
\DoxyCodeLine{5192         \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}};}
\DoxyCodeLine{5193         tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5194       \}}
\DoxyCodeLine{5195       binList.push\_back(tmpbin);}
\DoxyCodeLine{5196       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{5197     \}}
\DoxyCodeLine{5198     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{5199     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{5200     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++)\{}
\DoxyCodeLine{5201       \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second;}
\DoxyCodeLine{5202       tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{5203     \}}
\DoxyCodeLine{5204     binList.push\_back(tmpbin);}
\DoxyCodeLine{5205     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{5206     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{5207     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{5208       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{5209     \}}
\DoxyCodeLine{5210 }
\DoxyCodeLine{5211     foutput-\/>cd();}
\DoxyCodeLine{5212 }
\DoxyCodeLine{5213     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{5214     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{5215 }
\DoxyCodeLine{5216     TTree* newtree=0;}
\DoxyCodeLine{5217     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{5218       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{5219       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{5220       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5221     \}}
\DoxyCodeLine{5222 }
\DoxyCodeLine{5223     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{5224 }
\DoxyCodeLine{5225     \textcolor{keywordflow}{if} (ic==1)\{}
\DoxyCodeLine{5226       LepID[0]=11;}
\DoxyCodeLine{5227       LepID[1]=-\/11;}
\DoxyCodeLine{5228     \}}
\DoxyCodeLine{5229     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{5230       LepID[0]=13;}
\DoxyCodeLine{5231       LepID[1]=-\/13;}
\DoxyCodeLine{5232     \}}
\DoxyCodeLine{5233     \textcolor{keywordflow}{if} (ic==0)\{}
\DoxyCodeLine{5234       LepID[2]=13;}
\DoxyCodeLine{5235       LepID[3]=-\/13;}
\DoxyCodeLine{5236     \}}
\DoxyCodeLine{5237     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{5238       LepID[2]=11;}
\DoxyCodeLine{5239       LepID[3]=-\/11;}
\DoxyCodeLine{5240     \}}
\DoxyCodeLine{5241 }
\DoxyCodeLine{5242     \textcolor{keywordtype}{double} alphasVal=0, mh=0, gah=0, aL1=0, aR1=0, aL2=0, aR2=0;}
\DoxyCodeLine{5243     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{5244     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{5245       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{5246       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5247         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5248         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{5249         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{5250 }
\DoxyCodeLine{5251         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{5252 }
\DoxyCodeLine{5253         TLorentzVector pDaughters[4];}
\DoxyCodeLine{5254         std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{5255         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{5256         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{5257         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{5258         mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{5259 }
\DoxyCodeLine{5260         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{5261         \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{5262 }
\DoxyCodeLine{5263         \textcolor{keywordtype}{bool} hasConst = (tree-\/>GetBranchStatus(strConstBranchname)==1);}
\DoxyCodeLine{5264         \textcolor{keywordtype}{bool} doCalc=(!hasConst || ctr==0);}
\DoxyCodeLine{5265         \textcolor{keywordflow}{if} (doCalc)\{}
\DoxyCodeLine{5266           mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{5267           \textcolor{keywordflow}{if} (hasConst) mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{5268 }
\DoxyCodeLine{5269           alphasVal = mela.getIORecord()-\/>getAlphaSatMZ();}
\DoxyCodeLine{5270           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{5271           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{5272           mela.getIORecord()-\/>getHiggsMassWidth(mh, gah, 0);}
\DoxyCodeLine{5273         \}}
\DoxyCodeLine{5274         \textcolor{keywordflow}{else} mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{5275 }
\DoxyCodeLine{5276         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = 1./(pow(pow(mzz, 2)-\/pow(mh, 2), 2) + pow(mh*gah, 2));}
\DoxyCodeLine{5277         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{5278         mesq\_conserveDifermMass /= pow(alphasVal, 2);}
\DoxyCodeLine{5279         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{5280         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{5281 }
\DoxyCodeLine{5282         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{5283           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{5284           );}
\DoxyCodeLine{5285 }
\DoxyCodeLine{5286         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0);}
\DoxyCodeLine{5287 }
\DoxyCodeLine{5288         mela.resetInputEvent();}
\DoxyCodeLine{5289         ctr++;}
\DoxyCodeLine{5290       \}}
\DoxyCodeLine{5291 }
\DoxyCodeLine{5292       binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{5293 }
\DoxyCodeLine{5294       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5295         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5296         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5297         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{5298         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{5299         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{5300       \}}
\DoxyCodeLine{5301     \}}
\DoxyCodeLine{5302 }
\DoxyCodeLine{5303     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{5304     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{5305     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{5306       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{5307       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{5308 }
\DoxyCodeLine{5309       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{5310       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{5311       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{5312       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{5313       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{5314     \}}
\DoxyCodeLine{5315 }
\DoxyCodeLine{5316 }
\DoxyCodeLine{5317     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{5318     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{5319     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{5320     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{5321 }
\DoxyCodeLine{5322     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{5323     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{5324     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{5325     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{5326     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{5327     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{5328     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{5329     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{5330   \}}
\DoxyCodeLine{5331   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{5332   foutput-\/>Close();}
\DoxyCodeLine{5333 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a9a9d4c132284051fd2c4c901628bf514}\label{calcC__lintolog_8c_a9a9d4c132284051fd2c4c901628bf514}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ@{get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ}}
\index{get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ@{get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ()}{get\_PAvgProfile\_MCFM\_ZZQQB\_bkgZZ()}}
{\footnotesize\ttfamily void get\+\_\+\+P\+Avg\+Profile\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}\item[{bool}]{recalculate = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 5809 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{5809                                                              \{}
\DoxyCodeLine{5810   \textcolor{keywordtype}{int} erg\_tev=8;}
\DoxyCodeLine{5811   \textcolor{keywordtype}{float} mPOLE=125.;}
\DoxyCodeLine{5812   TString TREE\_NAME;}
\DoxyCodeLine{5813   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} writeFinalTree=\textcolor{keyword}{true};}
\DoxyCodeLine{5814   \textcolor{keyword}{const} TString strMEBranchname = \textcolor{stringliteral}{"p\_QQB\_BKG\_MCFM"};}
\DoxyCodeLine{5815   \textcolor{keyword}{const} TString strConstBranchname = \textcolor{stringliteral}{"pConst\_QQB\_BKG\_MCFM"};}
\DoxyCodeLine{5816 }
\DoxyCodeLine{5817   \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049}{TVar::VerbosityLevel}} verbosity = \mbox{\hyperlink{namespaceTVar_a159a43323e3b4e8a2dcfdc2ac09e2049af5804d7b9529b89da002d2092242cc48}{TVar::ERROR}};}
\DoxyCodeLine{5818   Mela mela(erg\_tev, mPOLE, verbosity);}
\DoxyCodeLine{5819 }
\DoxyCodeLine{5820   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{5821   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{5822   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caadcf7f0a83b7115068947fc704e41aea}{TVar::ZZQQB}};}
\DoxyCodeLine{5823 }
\DoxyCodeLine{5824   TString strproc = \mbox{\hyperlink{namespaceTVar_a77f3e2ffaa541eb39f8540eaf69dd8ad}{ProcessName}}(proc);}
\DoxyCodeLine{5825   TString strme = \mbox{\hyperlink{namespaceTVar_a170954e4cd60cc3756fafa22aa1c7d05}{MatrixElementName}}(\mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}});}
\DoxyCodeLine{5826   TString strprod = \mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{ProductionName}}(prod);}
\DoxyCodeLine{5827 }
\DoxyCodeLine{5828   std::vector<short>* LepLepId=0;}
\DoxyCodeLine{5829   std::vector<float>* LepPt=0;}
\DoxyCodeLine{5830   std::vector<float>* LepEta=0;}
\DoxyCodeLine{5831   std::vector<float>* LepPhi=0;}
\DoxyCodeLine{5832 }
\DoxyCodeLine{5833   \textcolor{keywordtype}{float} mesq\_calc=0., cconst\_calc=1.;}
\DoxyCodeLine{5834   \textcolor{keywordtype}{float} mesq\_conserveDifermMass=0;}
\DoxyCodeLine{5835   \textcolor{keywordtype}{float} mzz = 126.;}
\DoxyCodeLine{5836   \textcolor{keywordtype}{float} m1 = 91.471450;}
\DoxyCodeLine{5837   \textcolor{keywordtype}{float} m2 = 12.139782;}
\DoxyCodeLine{5838   \textcolor{keywordtype}{float} h1 = 0.2682896;}
\DoxyCodeLine{5839   \textcolor{keywordtype}{float} h2 = 0.1679779;}
\DoxyCodeLine{5840   \textcolor{keywordtype}{float} phi = 1.5969792;}
\DoxyCodeLine{5841   \textcolor{keywordtype}{float} hs = -\/0.727181;}
\DoxyCodeLine{5842   \textcolor{keywordtype}{float} phi1 = 1.8828257;}
\DoxyCodeLine{5843   \textcolor{keywordtype}{float} ZZPt, ZZPhi, ZZEta;}
\DoxyCodeLine{5844   \textcolor{keywordtype}{short} Z1Flav, Z2Flav;}
\DoxyCodeLine{5845   \textcolor{keywordtype}{int} LepID[4];}
\DoxyCodeLine{5846 }
\DoxyCodeLine{5847   vector<pair<float, int>> \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[3];}
\DoxyCodeLine{5848   TString strchannel[3]=\{ \textcolor{stringliteral}{"4mu"}, \textcolor{stringliteral}{"4e"}, \textcolor{stringliteral}{"2mu2e"} \};}
\DoxyCodeLine{5849   TFile* foutput = TFile::Open(Form(\textcolor{stringliteral}{"pAvgLinToLog\_\%s\_\%s\_\%s.root"}, strme.Data(), strprod.Data(), strproc.Data()), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{5850 }
\DoxyCodeLine{5851   vector<TString> strSamples\_13TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"qq\_Bkg"}, 13.);}
\DoxyCodeLine{5852   vector<TString> strSamples\_8TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"qq\_Bkg"}, 8.);}
\DoxyCodeLine{5853   vector<TString> strSamples\_7TeV = \mbox{\hyperlink{calcC__lintolog_8c_a7fe540203f22526a878986af5c17757d}{constructSamplesList}}(\textcolor{stringliteral}{"qq\_Bkg"}, 7.);}
\DoxyCodeLine{5854 }
\DoxyCodeLine{5855   vector<TFile*> finputList;}
\DoxyCodeLine{5856   vector<TTree*> treeList;}
\DoxyCodeLine{5857   \textcolor{keywordtype}{int} nEntries=0;}
\DoxyCodeLine{5858   TString cinput\_main;}
\DoxyCodeLine{5859 }
\DoxyCodeLine{5860   TREE\_NAME = \textcolor{stringliteral}{"ZZTree/candTree"};}
\DoxyCodeLine{5861   cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}{inputdir\_13TeV}};}
\DoxyCodeLine{5862   \textcolor{comment}{//for (int is=0; is<1; is++)\{}}
\DoxyCodeLine{5863   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_13TeV.size(); is++)\{}
\DoxyCodeLine{5864     TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/ZZ4lAnalysis.root"}, cinput\_main.Data(), (strSamples\_13TeV[is]).Data());}
\DoxyCodeLine{5865     TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5866     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5867     TTree* tree=0;}
\DoxyCodeLine{5868     \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5869       \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5870         \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5871         tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5872         \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5873           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found with "} << tree-\/>GetEntries() << \textcolor{stringliteral}{" events."} << endl;}
\DoxyCodeLine{5874           \textcolor{keywordtype}{bool} doRecalculate = recalculate;}
\DoxyCodeLine{5875           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0) doRecalculate = \textcolor{keyword}{true};}
\DoxyCodeLine{5876           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5877           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5878           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5879           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5880           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5881           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5882           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5883           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5884           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5885           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Flav"}, \&Z1Flav);}
\DoxyCodeLine{5886           tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Flav"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Flav"}, \&Z2Flav);}
\DoxyCodeLine{5887           \textcolor{keywordflow}{if} (!doRecalculate \&\& tree-\/>GetBranchStatus(strConstBranchname)==0)\{}
\DoxyCodeLine{5888             tree-\/>SetBranchStatus(strMEBranchname, 1); tree-\/>SetBranchAddress(strMEBranchname, \&mesq\_calc);}
\DoxyCodeLine{5889             tree-\/>SetBranchStatus(strConstBranchname, 1); tree-\/>SetBranchAddress(strConstBranchname, \&cconst\_calc);}
\DoxyCodeLine{5890           \}}
\DoxyCodeLine{5891           nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5892           treeList.push\_back(tree);}
\DoxyCodeLine{5893           finputList.push\_back(finput);}
\DoxyCodeLine{5894         \}}
\DoxyCodeLine{5895         \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5896       \}}
\DoxyCodeLine{5897       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5898     \}}
\DoxyCodeLine{5899   \}}
\DoxyCodeLine{5900 }
\DoxyCodeLine{5901   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5902     TREE\_NAME = \textcolor{stringliteral}{"SelectedTree"};}
\DoxyCodeLine{5903     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}{inputdir\_8TeV}};}
\DoxyCodeLine{5904     \textcolor{comment}{//for (int is=0; is<2; is++)\{}}
\DoxyCodeLine{5905     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_8TeV.size(); is++)\{}
\DoxyCodeLine{5906       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_8TeV[is]).Data());}
\DoxyCodeLine{5907       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5908       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5909       TTree* tree=0;}
\DoxyCodeLine{5910       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5911         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5912           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5913           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5914           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5915             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found with "} << tree-\/>GetEntries() << \textcolor{stringliteral}{" events."} << endl;}
\DoxyCodeLine{5916             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5917             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5918             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5919             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5920             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5921             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5922             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5923             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5924             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5925             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5926             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5927             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5928             treeList.push\_back(tree);}
\DoxyCodeLine{5929             finputList.push\_back(finput);}
\DoxyCodeLine{5930           \}}
\DoxyCodeLine{5931           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5932         \}}
\DoxyCodeLine{5933         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5934       \}}
\DoxyCodeLine{5935     \}}
\DoxyCodeLine{5936     cinput\_main = \mbox{\hyperlink{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}{inputdir\_7TeV}};}
\DoxyCodeLine{5937     \textcolor{comment}{//for (int is=0; is<0; is++)\{}}
\DoxyCodeLine{5938     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} is=0; is<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})strSamples\_7TeV.size(); is++)\{}
\DoxyCodeLine{5939       TString cinput = Form(\textcolor{stringliteral}{"\%s/\%s/\%s"}, cinput\_main.Data(), strchannel[ic].Data(), (strSamples\_7TeV[is]).Data());}
\DoxyCodeLine{5940       TFile* finput = TFile::Open(cinput, \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{5941       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Opening file "} << cinput << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5942       TTree* tree=0;}
\DoxyCodeLine{5943       \textcolor{keywordflow}{if} (finput!=0)\{}
\DoxyCodeLine{5944         \textcolor{keywordflow}{if} (finput-\/>IsOpen() \&\& !finput-\/>IsZombie())\{}
\DoxyCodeLine{5945           \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << cinput << \textcolor{stringliteral}{" opened. Extracting tree "} << TREE\_NAME << \textcolor{stringliteral}{"..."} << endl;}
\DoxyCodeLine{5946           tree = (TTree*)finput-\/>Get(TREE\_NAME);}
\DoxyCodeLine{5947           \textcolor{keywordflow}{if} (tree!=0)\{}
\DoxyCodeLine{5948             \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << TREE\_NAME << \textcolor{stringliteral}{" is found with "} << tree-\/>GetEntries() << \textcolor{stringliteral}{" events."} << endl;}
\DoxyCodeLine{5949             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"*"}, 0);}
\DoxyCodeLine{5950             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"ZZMass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{5951             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1Mass"}, \&m1);}
\DoxyCodeLine{5952             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2Mass"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2Mass"}, \&m2);}
\DoxyCodeLine{5953             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ1"}, \&h1);}
\DoxyCodeLine{5954             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helcosthetaZ2"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helcosthetaZ2"}, \&h2);}
\DoxyCodeLine{5955             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"helphi"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"helphi"}, \&phi);}
\DoxyCodeLine{5956             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"costhetastar"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"costhetastar"}, \&hs);}
\DoxyCodeLine{5957             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"phistarZ1"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"phistarZ1"}, \&phi1);}
\DoxyCodeLine{5958             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z1ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z1ids"}, \&Z1Flav);}
\DoxyCodeLine{5959             tree-\/>SetBranchStatus(\textcolor{stringliteral}{"Z2ids"}, 1); tree-\/>SetBranchAddress(\textcolor{stringliteral}{"Z2ids"}, \&Z2Flav);}
\DoxyCodeLine{5960             nEntries += tree-\/>GetEntries();}
\DoxyCodeLine{5961             treeList.push\_back(tree);}
\DoxyCodeLine{5962             finputList.push\_back(finput);}
\DoxyCodeLine{5963           \}}
\DoxyCodeLine{5964           \textcolor{keywordflow}{else} finput-\/>Close();}
\DoxyCodeLine{5965         \}}
\DoxyCodeLine{5966         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (finput-\/>IsOpen()) finput-\/>Close();}
\DoxyCodeLine{5967       \}}
\DoxyCodeLine{5968     \}}
\DoxyCodeLine{5969   \}}
\DoxyCodeLine{5970 }
\DoxyCodeLine{5971   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"NEntries = "} << nEntries << \textcolor{stringliteral}{" over "} << treeList.size() << \textcolor{stringliteral}{" trees."} << endl;}
\DoxyCodeLine{5972 }
\DoxyCodeLine{5973   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ev\_acc=0;}
\DoxyCodeLine{5974   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nEntries; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{5975     \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5976     \textcolor{keywordtype}{bool} doProcess=}
\DoxyCodeLine{5977       (}
\DoxyCodeLine{5978       Z1Flav*Z2Flav==pow(13, 4)}
\DoxyCodeLine{5979       ||}
\DoxyCodeLine{5980       Z1Flav*Z2Flav==pow(11, 4)}
\DoxyCodeLine{5981       ||}
\DoxyCodeLine{5982       Z1Flav*Z2Flav==pow(11*13, 2)}
\DoxyCodeLine{5983       )}
\DoxyCodeLine{5984       ;}
\DoxyCodeLine{5985     \textcolor{keywordflow}{if} (!doProcess) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{5986     \textcolor{keywordflow}{if} (ev\_acc\%10000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Pre-\/processing event "} << \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} << endl;}
\DoxyCodeLine{5987     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic = (Z1Flav*Z2Flav==pow(13, 4))*0 + (Z1Flav*Z2Flav==pow(11, 4))*1 + (Z1Flav*Z2Flav==pow(11*13, 2))*2;}
\DoxyCodeLine{5988     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic], mzz, \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{5989     ev\_acc++;}
\DoxyCodeLine{5990   \}}
\DoxyCodeLine{5991   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Number of valid entries: "} << ev\_acc << endl;}
\DoxyCodeLine{5992 }
\DoxyCodeLine{5993   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ic=0; ic<3; ic++)\{}
\DoxyCodeLine{5994     \textcolor{keywordtype}{float} firstVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(0).first;}
\DoxyCodeLine{5995     \textcolor{keywordtype}{float} lastVal=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].at(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()-\/1).first;}
\DoxyCodeLine{5996     \textcolor{keywordtype}{float} infimum = (float)((\textcolor{keywordtype}{int})firstVal); infimum -\/= (float)(((\textcolor{keywordtype}{int})infimum)\%10);}
\DoxyCodeLine{5997     \textcolor{keywordtype}{float} supremum = (float)((\textcolor{keywordtype}{int})(lastVal+0.5)); supremum += (float)(10-\/((\textcolor{keywordtype}{int})supremum)\%10);}
\DoxyCodeLine{5998     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Nentries = "} << nEntries << \textcolor{stringliteral}{" | mzz = "} << firstVal << \textcolor{stringliteral}{" -\/ "} << lastVal << \textcolor{stringliteral}{"("} << infimum << \textcolor{stringliteral}{", "} << supremum << \textcolor{stringliteral}{")"} << endl;}
\DoxyCodeLine{5999 }
\DoxyCodeLine{6000     \textcolor{keywordtype}{float} divisor=55000;}
\DoxyCodeLine{6001     \textcolor{keywordtype}{int} nbins = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{6002     \textcolor{keyword}{const} \textcolor{keywordtype}{int} nbins\_th=10\textcolor{comment}{/*50*/};}
\DoxyCodeLine{6003     \textcolor{keywordflow}{while} (nbins<nbins\_th)\{}
\DoxyCodeLine{6004       \textcolor{keywordflow}{if} (divisor>1000) divisor -\/= 1000;}
\DoxyCodeLine{6005       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (divisor>100) divisor -\/= 100;}
\DoxyCodeLine{6006       \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};}
\DoxyCodeLine{6007       nbins=\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/divisor;}
\DoxyCodeLine{6008     \}}
\DoxyCodeLine{6009     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"nbins="} << nbins << endl;}
\DoxyCodeLine{6010     \textcolor{keywordflow}{if} (nbins<3) cerr << \textcolor{stringliteral}{"Not enough bins!"} << endl;}
\DoxyCodeLine{6011     vector<ExtBin> binList;}
\DoxyCodeLine{6012     \textcolor{keywordtype}{float}* binning = \textcolor{keyword}{new} \textcolor{keywordtype}{float}[nbins+1];}
\DoxyCodeLine{6013     binning[0]=infimum;}
\DoxyCodeLine{6014     binning[nbins]=supremum;}
\DoxyCodeLine{6015     \textcolor{keywordtype}{int} ev\_stepsize = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size()/nbins;}
\DoxyCodeLine{6016     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Event step size: "} << ev\_stepsize << endl;}
\DoxyCodeLine{6017     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << 0 << \textcolor{stringliteral}{") = "} << binning[0] << endl;}
\DoxyCodeLine{6018     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=1; ix<nbins; ix++)\{}
\DoxyCodeLine{6019       binning[ix]=(\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize-\/1].first+\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].first)*0.5;}
\DoxyCodeLine{6020       \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{6021       tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[ix-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[ix];}
\DoxyCodeLine{6022       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<ev\_stepsize; bin++)\{}
\DoxyCodeLine{6023         \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][(ix-\/1)*ev\_stepsize+bin].\mbox{\hyperlink{namespacemodparameters_ab25730bf36fa1669616bd6fbf66f8614}{second}};}
\DoxyCodeLine{6024         tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{6025       \}}
\DoxyCodeLine{6026       binList.push\_back(tmpbin);}
\DoxyCodeLine{6027       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << ix << \textcolor{stringliteral}{")= "} << binning[ix] << \textcolor{stringliteral}{" [event "} << \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][ix*ev\_stepsize].second << \textcolor{stringliteral}{", step "} << ix*ev\_stepsize << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{6028     \}}
\DoxyCodeLine{6029     \mbox{\hyperlink{structExtBin}{ExtBin}} tmpbin;}
\DoxyCodeLine{6030     tmpbin.\mbox{\hyperlink{structExtBin_a114648d1cd50630afd465203ba9470c5}{binlow}} = binning[nbins-\/1]; tmpbin.\mbox{\hyperlink{structExtBin_ad40f196ee57d9420a30c2b7c886589f7}{binhigh}} = binning[nbins];}
\DoxyCodeLine{6031     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=(nbins-\/1)*ev\_stepsize; bin<\mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic].size(); bin++)\{}
\DoxyCodeLine{6032       \textcolor{keywordtype}{int} evid = \mbox{\hyperlink{namespacewrite__bindings_a6097550d400b802e021a756ad56fc125}{index}}[ic][bin].second;}
\DoxyCodeLine{6033       tmpbin.\mbox{\hyperlink{structExtBin_a9237950b87849087a3aebb840b0927be}{events}}.push\_back(evid);}
\DoxyCodeLine{6034     \}}
\DoxyCodeLine{6035     binList.push\_back(tmpbin);}
\DoxyCodeLine{6036     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Boundary ("} << nbins << \textcolor{stringliteral}{") = "} << binning[nbins] << endl;}
\DoxyCodeLine{6037     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin list has the following bins:"} << endl;}
\DoxyCodeLine{6038     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ib=0; ib<binList.size(); ib++)\{}
\DoxyCodeLine{6039       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << ib << \textcolor{stringliteral}{" / "} << binList.size() << \textcolor{stringliteral}{": ["} << binList.at(ib).binlow << \textcolor{stringliteral}{","} << binList.at(ib).binhigh << \textcolor{stringliteral}{"]"} << endl;}
\DoxyCodeLine{6040     \}}
\DoxyCodeLine{6041 }
\DoxyCodeLine{6042     foutput-\/>cd();}
\DoxyCodeLine{6043 }
\DoxyCodeLine{6044     TProfile* hvar = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"candMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hvar-\/>Sumw2();}
\DoxyCodeLine{6045     TProfile* hmesq\_conserveDifermMass = \textcolor{keyword}{new} TProfile(Form(\textcolor{stringliteral}{"P\_ConserveDifermionMass\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""}, nbins, binning); hmesq\_conserveDifermMass-\/>Sumw2();}
\DoxyCodeLine{6046 }
\DoxyCodeLine{6047     TTree* newtree=0;}
\DoxyCodeLine{6048     \textcolor{keywordflow}{if} (writeFinalTree)\{}
\DoxyCodeLine{6049       newtree = \textcolor{keyword}{new} TTree(Form(\textcolor{stringliteral}{"FinalTree\_\%s"}, strchannel[ic].Data()), \textcolor{stringliteral}{""});}
\DoxyCodeLine{6050       newtree-\/>Branch(\textcolor{stringliteral}{"mesq\_conserveDifermMass"}, \&mesq\_conserveDifermMass);}
\DoxyCodeLine{6051       newtree-\/>Branch(\textcolor{stringliteral}{"ZZMass"}, \&mzz);}
\DoxyCodeLine{6052     \}}
\DoxyCodeLine{6053 }
\DoxyCodeLine{6054     mela.setCandidateDecayMode(\mbox{\hyperlink{namespaceTVar_a71a2597822d7f2646209498585c4bbc4ac0c27bc9239fab096f3b6efefd813036}{TVar::CandidateDecay\_ZZ}});}
\DoxyCodeLine{6055 }
\DoxyCodeLine{6056     \textcolor{keywordflow}{if} (ic==1)\{}
\DoxyCodeLine{6057       LepID[0]=11;}
\DoxyCodeLine{6058       LepID[1]=-\/11;}
\DoxyCodeLine{6059     \}}
\DoxyCodeLine{6060     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{6061       LepID[0]=13;}
\DoxyCodeLine{6062       LepID[1]=-\/13;}
\DoxyCodeLine{6063     \}}
\DoxyCodeLine{6064     \textcolor{keywordflow}{if} (ic==0)\{}
\DoxyCodeLine{6065       LepID[2]=13;}
\DoxyCodeLine{6066       LepID[3]=-\/13;}
\DoxyCodeLine{6067     \}}
\DoxyCodeLine{6068     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{6069       LepID[2]=11;}
\DoxyCodeLine{6070       LepID[3]=-\/11;}
\DoxyCodeLine{6071     \}}
\DoxyCodeLine{6072 }
\DoxyCodeLine{6073     \textcolor{keywordtype}{double} aL1=0, aR1=0, aL2=0, aR2=0, \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}=0, gaz=0;}
\DoxyCodeLine{6074     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{6075     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<binList.size(); bin++)\{}
\DoxyCodeLine{6076       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" is now being scrutinized..."} << endl;}
\DoxyCodeLine{6077       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = 0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} < binList.at(bin).events.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{6078         \textcolor{keywordtype}{int} getEv = binList.at(bin).events.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6079         \mbox{\hyperlink{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}{getEntry}}(treeList, getEv);}
\DoxyCodeLine{6080         TTree* tree = \mbox{\hyperlink{calcC__lintolog_8c_a6a59230d55de0e008c2dde1b807f002e}{findTree}}(treeList, getEv);}
\DoxyCodeLine{6081 }
\DoxyCodeLine{6082         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}\%1000==0) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Doing event "} << getEv << endl;}
\DoxyCodeLine{6083 }
\DoxyCodeLine{6084         TLorentzVector pDaughters[4];}
\DoxyCodeLine{6085         std::vector<TLorentzVector> daus = mela.calculate4Momentum(mzz, m1, m2, acos(hs), acos(h1), acos(h2), phi1, phi);}
\DoxyCodeLine{6086         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<min(4, (\textcolor{keywordtype}{int})daus.size()); ip++)\{ pDaughters[ip]=daus.at(ip); \}}
\DoxyCodeLine{6087         \mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}} daughters;}
\DoxyCodeLine{6088         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} idau=0; idau<4; idau++) daughters.push\_back(\mbox{\hyperlink{TVar_8hh_a2bc0c1a02f5152697e55ab2bbda40aff}{SimpleParticle\_t}}(LepID[idau], pDaughters[idau]));}
\DoxyCodeLine{6089         mela.setInputEvent(\&daughters, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, (\mbox{\hyperlink{TVar_8hh_ac8ad3b9b9fb4621a213e219ad7289d76}{SimpleParticleCollection\_t}}*)0, \textcolor{keyword}{false});}
\DoxyCodeLine{6090 }
\DoxyCodeLine{6091         mela.setProcess(proc, \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod);}
\DoxyCodeLine{6092         \mbox{\hyperlink{namespaceTUtil_a8a1a325f3bb025d57fa9b649a31c93d2}{TUtil::setLeptonMassScheme}}(\mbox{\hyperlink{namespaceTVar_a9725014132a3701b15e4b3b0ae454288a170700978feec9d94d7fadfdbf36161d}{TVar::ConserveDifermionMass}});}
\DoxyCodeLine{6093 }
\DoxyCodeLine{6094         \textcolor{keywordtype}{bool} hasConst = (tree-\/>GetBranchStatus(strConstBranchname)==1);}
\DoxyCodeLine{6095         \textcolor{keywordtype}{bool} doCalc=(!hasConst || ctr==0);}
\DoxyCodeLine{6096         \textcolor{keywordflow}{if} (doCalc)\{}
\DoxyCodeLine{6097           mela.computeP(mesq\_conserveDifermMass, \textcolor{keyword}{false});}
\DoxyCodeLine{6098           \textcolor{keywordflow}{if} (hasConst) mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{6099 }
\DoxyCodeLine{6100           mela.getIORecord()-\/>getVDaughterCouplings(aL1, aR1, 0);}
\DoxyCodeLine{6101           mela.getIORecord()-\/>getVDaughterCouplings(aL2, aR2, 1);}
\DoxyCodeLine{6102           \mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}} = mela.getPrimaryMass(23);}
\DoxyCodeLine{6103           gaz = mela.getPrimaryWidth(23);}
\DoxyCodeLine{6104         \}}
\DoxyCodeLine{6105         \textcolor{keywordflow}{else} mesq\_conserveDifermMass = mesq\_calc / cconst\_calc;}
\DoxyCodeLine{6106 }
\DoxyCodeLine{6107         \textcolor{keywordtype}{double} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{6108         \textcolor{keywordflow}{if} (fabs(aL1)>0. || fabs(aR1)>0.) mesq\_conserveDifermMass /= pow(aL1, 2)+pow(aR1, 2);}
\DoxyCodeLine{6109         \textcolor{keywordflow}{if} (fabs(aL2)>0. || fabs(aR2)>0.) mesq\_conserveDifermMass /= pow(aL2, 2)+pow(aR2, 2);}
\DoxyCodeLine{6110         \textcolor{keywordflow}{if} (fabs(mzz-\/\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}})<=4.*gaz)\{}
\DoxyCodeLine{6111           \textcolor{keywordtype}{double} sh = pow(mzz, 2);}
\DoxyCodeLine{6112           \textcolor{keywordtype}{double} shdn = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}-\/4.*gaz, 2);}
\DoxyCodeLine{6113           \textcolor{keywordtype}{double} shup = pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}+4.*gaz, 2);}
\DoxyCodeLine{6114           \textcolor{keywordtype}{double} prop\_sh = 1./(pow(sh-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{6115           \textcolor{keywordtype}{double} prop\_shdn = 1./(pow(shdn-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{6116           \textcolor{keywordtype}{double} prop\_shup = 1./(pow(shup-\/pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}, 2), 2) + pow(\mbox{\hyperlink{namespacehto__masses_aa9e6764720e3ea1122ab5a2f0490504b}{mz}}*gaz, 2));}
\DoxyCodeLine{6117           \textcolor{keywordtype}{double} fsh = (sh-\/shdn)/(shup-\/shdn);}
\DoxyCodeLine{6118           \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}} = prop\_sh / (prop\_shdn*(1.-\/fsh) + prop\_shup*fsh);}
\DoxyCodeLine{6119         \}}
\DoxyCodeLine{6120         \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}}=1.;}
\DoxyCodeLine{6121         mesq\_conserveDifermMass /= \mbox{\hyperlink{namespacemodvhiggs_aad4645be763f9042bf4bc2ea215a5846}{propagator}};}
\DoxyCodeLine{6122 }
\DoxyCodeLine{6123         \textcolor{keywordtype}{bool} doFill = !(}
\DoxyCodeLine{6124           \mbox{\hyperlink{namespacemodmisc_aec88f7154cdc627bd8c823597a684073}{isnan}}(mesq\_conserveDifermMass) || isinf(mesq\_conserveDifermMass)}
\DoxyCodeLine{6125           );}
\DoxyCodeLine{6126 }
\DoxyCodeLine{6127         \textcolor{keywordflow}{if} (doFill) binList.at(bin).addEvent(mzz, mesq\_conserveDifermMass, 0);}
\DoxyCodeLine{6128 }
\DoxyCodeLine{6129         mela.resetInputEvent();}
\DoxyCodeLine{6130         ctr++;}
\DoxyCodeLine{6131       \}}
\DoxyCodeLine{6132 }
\DoxyCodeLine{6133       binList.at(bin).sift(); binList.at(bin).adjustWeights();}
\DoxyCodeLine{6134 }
\DoxyCodeLine{6135       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<binList.at(bin).masses.size(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{6136         mzz = binList.at(bin).masses.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6137         mesq\_conserveDifermMass = binList.at(bin).mevals.at(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{6138         hmesq\_conserveDifermMass-\/>Fill(mzz, mesq\_conserveDifermMass);}
\DoxyCodeLine{6139         hvar-\/>Fill(mzz, mzz);}
\DoxyCodeLine{6140         \textcolor{keywordflow}{if} (writeFinalTree) newtree-\/>Fill();}
\DoxyCodeLine{6141       \}}
\DoxyCodeLine{6142     \}}
\DoxyCodeLine{6143 }
\DoxyCodeLine{6144     \textcolor{keywordtype}{double}* xexyey[4];}
\DoxyCodeLine{6145     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins];}
\DoxyCodeLine{6146     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} bin=0; bin<nbins; bin++)\{}
\DoxyCodeLine{6147       xexyey[0][bin] = hvar-\/>GetBinContent(bin+1);}
\DoxyCodeLine{6148       xexyey[1][bin] = hvar-\/>GetBinError(bin+1);}
\DoxyCodeLine{6149 }
\DoxyCodeLine{6150       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Bin "} << bin << \textcolor{stringliteral}{" x-\/center: "} << xexyey[0][bin] << \textcolor{stringliteral}{" +-\/ "} << xexyey[1][bin] << endl;}
\DoxyCodeLine{6151       xexyey[2][bin] = hmesq\_conserveDifermMass-\/>GetBinContent(bin+1);}
\DoxyCodeLine{6152       xexyey[3][bin] = hmesq\_conserveDifermMass-\/>GetBinError(bin+1);}
\DoxyCodeLine{6153       xexyey[3][bin] = log10(xexyey[3][bin])/xexyey[2][bin];}
\DoxyCodeLine{6154       xexyey[2][bin] = log10(xexyey[2][bin]);}
\DoxyCodeLine{6155     \}}
\DoxyCodeLine{6156 }
\DoxyCodeLine{6157 }
\DoxyCodeLine{6158     TGraphErrors* tg = \textcolor{keyword}{new} TGraphErrors(nbins, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{6159     tg-\/>SetName(Form(\textcolor{stringliteral}{"tg\_\%s"}, hmesq\_conserveDifermMass-\/>GetName()));}
\DoxyCodeLine{6160     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{6161     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{6162 }
\DoxyCodeLine{6163     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey[ix];}
\DoxyCodeLine{6164     foutput-\/>WriteTObject(hmesq\_conserveDifermMass);}
\DoxyCodeLine{6165     foutput-\/>WriteTObject(hvar);}
\DoxyCodeLine{6166     \textcolor{keywordflow}{if} (writeFinalTree) foutput-\/>WriteTObject(newtree);}
\DoxyCodeLine{6167     \textcolor{keywordflow}{if} (writeFinalTree) \textcolor{keyword}{delete} newtree;}
\DoxyCodeLine{6168     \textcolor{keyword}{delete} hmesq\_conserveDifermMass;}
\DoxyCodeLine{6169     \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{6170     \textcolor{keyword}{delete}[] binning;}
\DoxyCodeLine{6171   \}}
\DoxyCodeLine{6172   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}=0; \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}<finputList.size(); \mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}}++) finputList.at(\mbox{\hyperlink{namespaceglobalc_acd9b06e29f792896407a5295fe52de7a}{f}})-\/>Close();}
\DoxyCodeLine{6173   foutput-\/>Close();}
\DoxyCodeLine{6174 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}\label{calcC__lintolog_8c_ad02f8aac427884f95d9cfd7014636b98}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getEntry@{getEntry}}
\index{getEntry@{getEntry}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getEntry()}{getEntry()}}
{\footnotesize\ttfamily void get\+Entry (\begin{DoxyParamCaption}\item[{vector$<$ T\+Tree $\ast$ $>$}]{tree\+List,  }\item[{int}]{evid }\end{DoxyParamCaption})}



Definition at line 241 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{241                                                 \{}
\DoxyCodeLine{242   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} = evid;}
\DoxyCodeLine{243   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} t=0; t<treeList.size(); t++)\{}
\DoxyCodeLine{244     TTree* tree = treeList.at(t);}
\DoxyCodeLine{245     \textcolor{keywordflow}{if} (tree==0) cerr << \textcolor{stringliteral}{"Something went wrong in getEntry. Tree = "} << tree << endl;}
\DoxyCodeLine{246     \textcolor{keywordtype}{int} nevts = tree-\/>GetEntries();}
\DoxyCodeLine{247     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<nevts)\{ tree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}); \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{248     \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}} -\/= nevts;}
\DoxyCodeLine{249     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<0) cerr << \textcolor{stringliteral}{"findTree::ERROR: Could not find the event "} << evid << endl;}
\DoxyCodeLine{250   \}}
\DoxyCodeLine{251 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ac60163de274b558ad0ffaea560fc18ba}\label{calcC__lintolog_8c_ac60163de274b558ad0ffaea560fc18ba}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0@{getFcn\_a0}}
\index{getFcn\_a0@{getFcn\_a0}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0()}{getFcn\_a0()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0 (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6828 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6828                                                                         \{}
\DoxyCodeLine{6829   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6830   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6831   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6832   y = sp-\/>Eval(x);}
\DoxyCodeLine{6833 }
\DoxyCodeLine{6834   \textcolor{keywordtype}{double} a0;}
\DoxyCodeLine{6835   a0 = y;}
\DoxyCodeLine{6836 }
\DoxyCodeLine{6837   TString fcnName;}
\DoxyCodeLine{6838   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6839   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6840   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6841   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6842 }
\DoxyCodeLine{6843   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6844 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ae3ef6ebb7012fdb8ed5bbc0970926bd3}\label{calcC__lintolog_8c_ae3ef6ebb7012fdb8ed5bbc0970926bd3}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0overX2minusa1overX@{getFcn\_a0overX2minusa1overX}}
\index{getFcn\_a0overX2minusa1overX@{getFcn\_a0overX2minusa1overX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0overX2minusa1overX()}{getFcn\_a0overX2minusa1overX()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0over\+X2minusa1overX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6891 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6891                                                                                           \{}
\DoxyCodeLine{6892   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6893   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6894   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6895   y = sp-\/>Eval(x);}
\DoxyCodeLine{6896   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6897 }
\DoxyCodeLine{6898   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{6899   a0 = -\/y*pow(x, 2)-\/s*pow(x, 3);}
\DoxyCodeLine{6900   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = -\/2.*y*x-\/s*pow(x, 2);}
\DoxyCodeLine{6901 }
\DoxyCodeLine{6902   TString fcnName;}
\DoxyCodeLine{6903   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6904   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6905   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]/x/x-\/[1]/x"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6906   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6907   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6908 }
\DoxyCodeLine{6909   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6910 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a70195c1e0b5bbeae27e40a15a36c0d6e}\label{calcC__lintolog_8c_a70195c1e0b5bbeae27e40a15a36c0d6e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusa1expX@{getFcn\_a0plusa1expX}}
\index{getFcn\_a0plusa1expX@{getFcn\_a0plusa1expX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusa1expX()}{getFcn\_a0plusa1expX()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plusa1expX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6847 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6847                                                                                   \{}
\DoxyCodeLine{6848   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6849   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6850   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6851   y = sp-\/>Eval(x);}
\DoxyCodeLine{6852   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6853 }
\DoxyCodeLine{6854   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{6855   a0 = y-\/s;}
\DoxyCodeLine{6856   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s*exp(-\/x);}
\DoxyCodeLine{6857 }
\DoxyCodeLine{6858   TString fcnName;}
\DoxyCodeLine{6859   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6860   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6861   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]*exp(x)"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6862   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6863   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6864 }
\DoxyCodeLine{6865   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6866 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}\label{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusa1overX@{getFcn\_a0plusa1overX}}
\index{getFcn\_a0plusa1overX@{getFcn\_a0plusa1overX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusa1overX()}{getFcn\_a0plusa1overX()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plusa1overX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6869 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6869                                                                                    \{}
\DoxyCodeLine{6870   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6871   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6872   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6873   y = sp-\/>Eval(x);}
\DoxyCodeLine{6874   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6875 }
\DoxyCodeLine{6876   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{6877   a0 = y+s*x;}
\DoxyCodeLine{6878   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = -\/s*pow(x, 2);}
\DoxyCodeLine{6879 }
\DoxyCodeLine{6880   TString fcnName;}
\DoxyCodeLine{6881   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6882   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6883   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]/x"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6884   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6885   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6886 }
\DoxyCodeLine{6887   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6888 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}\label{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusa1timesX@{getFcn\_a0plusa1timesX}}
\index{getFcn\_a0plusa1timesX@{getFcn\_a0plusa1timesX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusa1timesX()}{getFcn\_a0plusa1timesX()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plusa1timesX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6939 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6939                                                                                     \{}
\DoxyCodeLine{6940   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6941   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6942   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6943   y = sp-\/>Eval(x);}
\DoxyCodeLine{6944   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6945 }
\DoxyCodeLine{6946   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{6947   a0 = y-\/s*x;}
\DoxyCodeLine{6948   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s;}
\DoxyCodeLine{6949 }
\DoxyCodeLine{6950   TString fcnName;}
\DoxyCodeLine{6951   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6952   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6953   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]*x"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6954   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6955   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6956 }
\DoxyCodeLine{6957   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6958 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad9413873fd5ae6a0f6254c3f49e3ceea}\label{calcC__lintolog_8c_ad9413873fd5ae6a0f6254c3f49e3ceea}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusa1timesXplusa2overX2@{getFcn\_a0plusa1timesXplusa2overX2}}
\index{getFcn\_a0plusa1timesXplusa2overX2@{getFcn\_a0plusa1timesXplusa2overX2}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusa1timesXplusa2overX2()}{getFcn\_a0plusa1timesXplusa2overX2()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plusa1times\+Xplusa2over\+X2 (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6961 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6961                                                                                                 \{}
\DoxyCodeLine{6962   \textcolor{keywordtype}{double} x, y, s, d;}
\DoxyCodeLine{6963   \textcolor{keywordtype}{double} xh, sh;}
\DoxyCodeLine{6964   \textcolor{keywordflow}{if} (useLowBound)\{}
\DoxyCodeLine{6965     x = sp-\/>GetXmin();}
\DoxyCodeLine{6966     xh = x+0.001;}
\DoxyCodeLine{6967   \}}
\DoxyCodeLine{6968   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{6969     x = sp-\/>GetXmax();}
\DoxyCodeLine{6970     xh = x-\/0.001;}
\DoxyCodeLine{6971   \}}
\DoxyCodeLine{6972   y = sp-\/>Eval(x);}
\DoxyCodeLine{6973   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6974   sh = sp-\/>Derivative(xh);}
\DoxyCodeLine{6975   d = (sh-\/s)/(xh-\/x);}
\DoxyCodeLine{6976 }
\DoxyCodeLine{6977   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}, \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}};}
\DoxyCodeLine{6978   \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}} = d*pow(x, 4)/6.;}
\DoxyCodeLine{6979   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s+2.*\mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}}/pow(x, 3);}
\DoxyCodeLine{6980   a0 = y-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*x-\/\mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}}/pow(x, 2);}
\DoxyCodeLine{6981 }
\DoxyCodeLine{6982   TString fcnName;}
\DoxyCodeLine{6983   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6984   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6985   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]*x+[2]/pow(x, 2)"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6986   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6987   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6988   fcn-\/>SetParameter(2, \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}});}
\DoxyCodeLine{6989 }
\DoxyCodeLine{6990   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6991 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a797c2f34081dcab551229e0c33134599}\label{calcC__lintolog_8c_a797c2f34081dcab551229e0c33134599}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusa1timesXplusa2timesX2@{getFcn\_a0plusa1timesXplusa2timesX2}}
\index{getFcn\_a0plusa1timesXplusa2timesX2@{getFcn\_a0plusa1timesXplusa2timesX2}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusa1timesXplusa2timesX2()}{getFcn\_a0plusa1timesXplusa2timesX2()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plusa1times\+Xplusa2times\+X2 (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6994 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6994                                                                                                  \{}
\DoxyCodeLine{6995   \textcolor{keywordtype}{double} x, y, s, d;}
\DoxyCodeLine{6996   \textcolor{keywordtype}{double} xh, sh;}
\DoxyCodeLine{6997   \textcolor{keywordflow}{if} (useLowBound)\{}
\DoxyCodeLine{6998     x = sp-\/>GetXmin();}
\DoxyCodeLine{6999     xh = x+0.001;}
\DoxyCodeLine{7000   \}}
\DoxyCodeLine{7001   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{7002     x = sp-\/>GetXmax();}
\DoxyCodeLine{7003     xh = x-\/0.001;}
\DoxyCodeLine{7004   \}}
\DoxyCodeLine{7005   y = sp-\/>Eval(x);}
\DoxyCodeLine{7006   s = sp-\/>Derivative(x);}
\DoxyCodeLine{7007   sh = sp-\/>Derivative(xh);}
\DoxyCodeLine{7008   d = (sh-\/s)/(xh-\/x);}
\DoxyCodeLine{7009 }
\DoxyCodeLine{7010   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}, \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}};}
\DoxyCodeLine{7011   \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}} = d/2.;}
\DoxyCodeLine{7012   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s-\/2.*\mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}}*x;}
\DoxyCodeLine{7013   a0 = y-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*x-\/\mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}}*pow(x, 2);}
\DoxyCodeLine{7014 }
\DoxyCodeLine{7015   TString fcnName;}
\DoxyCodeLine{7016   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7017   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7018   TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]*x+[2]*pow(x, 2)"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{7019   fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{7020   fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{7021   fcn-\/>SetParameter(2, \mbox{\hyperlink{namespacemodparameters_a19b3fcf36a03e1426e4f17b15bcb5525}{a2}});}
\DoxyCodeLine{7022 }
\DoxyCodeLine{7023   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{7024 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a574246155eeaecebeff28c86bb4854e1}\label{calcC__lintolog_8c_a574246155eeaecebeff28c86bb4854e1}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getFcn\_a0plusXPinvminusXpsqinv@{getFcn\_a0plusXPinvminusXpsqinv}}
\index{getFcn\_a0plusXPinvminusXpsqinv@{getFcn\_a0plusXPinvminusXpsqinv}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getFcn\_a0plusXPinvminusXpsqinv()}{getFcn\_a0plusXPinvminusXpsqinv()}}
{\footnotesize\ttfamily T\+F1$\ast$ get\+Fcn\+\_\+a0plus\+X\+Pinvminus\+Xpsqinv (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 6913 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6913                                                                                              \{}
\DoxyCodeLine{6914   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{6915   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{6916   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{6917   y = sp-\/>Eval(x);}
\DoxyCodeLine{6918   s = sp-\/>Derivative(x);}
\DoxyCodeLine{6919 }
\DoxyCodeLine{6920   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{6921   \textcolor{keywordtype}{double} disc = 1.+8.*x*s;}
\DoxyCodeLine{6922   \textcolor{keywordflow}{if} (disc>0.)\{}
\DoxyCodeLine{6923     \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = x/4.*(1.+sqrt(disc));}
\DoxyCodeLine{6924     a0 = y-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}/x+pow(\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}/x, 2);}
\DoxyCodeLine{6925     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << x << \textcolor{charliteral}{'\(\backslash\)t'} << a0 << \textcolor{charliteral}{'\(\backslash\)t'} << \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} << \textcolor{charliteral}{'\(\backslash\)t'} << s << \textcolor{charliteral}{'\(\backslash\)t'} << y << endl;}
\DoxyCodeLine{6926 }
\DoxyCodeLine{6927     TString fcnName;}
\DoxyCodeLine{6928     \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6929     \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{6930     TF1* fcn = \textcolor{keyword}{new} TF1(fcnName, \textcolor{stringliteral}{"[0]+[1]/x-\/pow([1]/x, 2)"}, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax);}
\DoxyCodeLine{6931     fcn-\/>SetParameter(0, a0);}
\DoxyCodeLine{6932     fcn-\/>SetParameter(1, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}});}
\DoxyCodeLine{6933     \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{6934   \}}
\DoxyCodeLine{6935   \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} \mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}}(sp, \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}, xmax, useLowBound);}
\DoxyCodeLine{6936 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa12795571583bfb827e6be250484e508}\label{calcC__lintolog_8c_aa12795571583bfb827e6be250484e508}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getPatch\_a0a1@{getPatch\_a0a1}}
\index{getPatch\_a0a1@{getPatch\_a0a1}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getPatch\_a0a1()}{getPatch\_a0a1()}}
{\footnotesize\ttfamily T\+Graph$\ast$ get\+Patch\+\_\+a0a1 (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{T\+Spline3 $\ast$}]{sppatch,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound,  }\item[{bool}]{force\+Output = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 7027 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7027                                                                                                                          \{}
\DoxyCodeLine{7028   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{7029   \textcolor{keywordtype}{double} y\_patch, s\_patch;}
\DoxyCodeLine{7030   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{7031   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{7032   y = sp-\/>Eval(x);}
\DoxyCodeLine{7033   s = sp-\/>Derivative(x);}
\DoxyCodeLine{7034   y\_patch = sppatch-\/>Eval(x);}
\DoxyCodeLine{7035   s\_patch = sppatch-\/>Derivative(x);}
\DoxyCodeLine{7036 }
\DoxyCodeLine{7037   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{7038   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s/s\_patch;}
\DoxyCodeLine{7039   a0 = y-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*y\_patch;}
\DoxyCodeLine{7040 }
\DoxyCodeLine{7041   \textcolor{keywordtype}{int} n = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+0.5);}
\DoxyCodeLine{7042   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Patcher n: "} << n << endl;}
\DoxyCodeLine{7043   \textcolor{keywordtype}{double} xwidth = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})/n;}
\DoxyCodeLine{7044   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{7045   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy[i]=\textcolor{keyword}{new} \textcolor{keywordtype}{double}[n+1];}
\DoxyCodeLine{7046   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<=n; ip++)\{}
\DoxyCodeLine{7047     \textcolor{keywordtype}{double} xval = \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+xwidth*ip;}
\DoxyCodeLine{7048     \textcolor{keywordtype}{double} yval = sppatch-\/>Eval(xval);}
\DoxyCodeLine{7049     yval = a0+\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*yval;}
\DoxyCodeLine{7050     xy[0][ip]=xval;}
\DoxyCodeLine{7051     xy[1][ip]=yval;}
\DoxyCodeLine{7052   \}}
\DoxyCodeLine{7053   TString fcnName;}
\DoxyCodeLine{7054   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7055   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7056   TGraph* fcn = \textcolor{keyword}{new} TGraph(n+1, xy[0], xy[1]);}
\DoxyCodeLine{7057   fcn-\/>SetName(fcnName);}
\DoxyCodeLine{7058 }
\DoxyCodeLine{7059   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{7060   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{7061 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a0cfe36570dba9b00260af61079d7b8c9}\label{calcC__lintolog_8c_a0cfe36570dba9b00260af61079d7b8c9}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getPatch\_a0expa1timesX@{getPatch\_a0expa1timesX}}
\index{getPatch\_a0expa1timesX@{getPatch\_a0expa1timesX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getPatch\_a0expa1timesX()}{getPatch\_a0expa1timesX()}}
{\footnotesize\ttfamily T\+Graph$\ast$ get\+Patch\+\_\+a0expa1timesX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{T\+Spline3 $\ast$}]{sppatch,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound }\end{DoxyParamCaption})}



Definition at line 7157 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7157                                                                                                            \{}
\DoxyCodeLine{7158   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{7159   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{7160   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{7161   y = sp-\/>Eval(x);}
\DoxyCodeLine{7162   s = sp-\/>Derivative(x);}
\DoxyCodeLine{7163   y -\/= sppatch-\/>Eval(x);}
\DoxyCodeLine{7164   s -\/= sppatch-\/>Derivative(x);}
\DoxyCodeLine{7165 }
\DoxyCodeLine{7166   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{7167   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s/y;}
\DoxyCodeLine{7168   a0 = y/exp(\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*x);}
\DoxyCodeLine{7169 }
\DoxyCodeLine{7170   \textcolor{keywordtype}{int} n = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+0.5);}
\DoxyCodeLine{7171   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Patcher n: "} << n << endl;}
\DoxyCodeLine{7172   \textcolor{keywordtype}{double} xwidth = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})/n;}
\DoxyCodeLine{7173   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{7174   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy[i]=\textcolor{keyword}{new} \textcolor{keywordtype}{double}[n+1];}
\DoxyCodeLine{7175   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<=n; ip++)\{}
\DoxyCodeLine{7176     \textcolor{keywordtype}{double} xval = \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+xwidth*ip;}
\DoxyCodeLine{7177     \textcolor{keywordtype}{double} yval = sppatch-\/>Eval(xval);}
\DoxyCodeLine{7178     yval += (a0*exp(\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*xval));}
\DoxyCodeLine{7179     xy[0][ip]=xval;}
\DoxyCodeLine{7180     xy[1][ip]=yval;}
\DoxyCodeLine{7181   \}}
\DoxyCodeLine{7182   TString fcnName;}
\DoxyCodeLine{7183   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7184   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7185   TGraph* fcn = \textcolor{keyword}{new} TGraph(n+1, xy[0], xy[1]);}
\DoxyCodeLine{7186   fcn-\/>SetName(fcnName);}
\DoxyCodeLine{7187 }
\DoxyCodeLine{7188   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{7189   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{7190 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}\label{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getPatch\_a0plusa1overX@{getPatch\_a0plusa1overX}}
\index{getPatch\_a0plusa1overX@{getPatch\_a0plusa1overX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getPatch\_a0plusa1overX()}{getPatch\_a0plusa1overX()}}
{\footnotesize\ttfamily T\+Graph$\ast$ get\+Patch\+\_\+a0plusa1overX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{T\+Spline3 $\ast$}]{sppatch,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound,  }\item[{bool}]{force\+Output = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 7064 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7064                                                                                                                                   \{}
\DoxyCodeLine{7065   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{7066   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{7067   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{7068   y = sp-\/>Eval(x);}
\DoxyCodeLine{7069   s = sp-\/>Derivative(x);}
\DoxyCodeLine{7070   y -\/= sppatch-\/>Eval(x);}
\DoxyCodeLine{7071   s -\/= sppatch-\/>Derivative(x);}
\DoxyCodeLine{7072 }
\DoxyCodeLine{7073   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{7074   a0 = y+s*x;}
\DoxyCodeLine{7075   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = -\/s*pow(x, 2);}
\DoxyCodeLine{7076 }
\DoxyCodeLine{7077   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"getPatch\_a0plusa1overX: Checking if patch will flip: "} << endl;}
\DoxyCodeLine{7078   \textcolor{keywordtype}{double} xext;}
\DoxyCodeLine{7079   \textcolor{keywordflow}{if} (useLowBound) xext = x;}
\DoxyCodeLine{7080   \textcolor{keywordflow}{else} xext = x;}
\DoxyCodeLine{7081   \textcolor{keywordflow}{if} (1.-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}/pow(xext, 2)/sppatch-\/>Derivative(xext)<0.)\{}
\DoxyCodeLine{7082     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sign flips at "} << xext << endl;}
\DoxyCodeLine{7083     \textcolor{keywordflow}{if} (!forceOutput) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{7084   \}}
\DoxyCodeLine{7085   \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sign does not flip at "} << xext << endl;}
\DoxyCodeLine{7086 }
\DoxyCodeLine{7087   \textcolor{keywordtype}{int} n = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+0.5);}
\DoxyCodeLine{7088   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Patcher n: "} << n << endl;}
\DoxyCodeLine{7089   \textcolor{keywordtype}{double} xwidth = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})/n;}
\DoxyCodeLine{7090   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{7091   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy[i]=\textcolor{keyword}{new} \textcolor{keywordtype}{double}[n+1];}
\DoxyCodeLine{7092   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<=n; ip++)\{}
\DoxyCodeLine{7093     \textcolor{keywordtype}{double} xval = \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+xwidth*ip;}
\DoxyCodeLine{7094     \textcolor{keywordflow}{if} (xval==0.) xval += xwidth*0.5;}
\DoxyCodeLine{7095     \textcolor{keywordtype}{double} yval = sppatch-\/>Eval(xval);}
\DoxyCodeLine{7096     yval += (a0+\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}/xval);}
\DoxyCodeLine{7097     xy[0][ip]=xval;}
\DoxyCodeLine{7098     xy[1][ip]=yval;}
\DoxyCodeLine{7099   \}}
\DoxyCodeLine{7100   TString fcnName;}
\DoxyCodeLine{7101   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7102   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7103   TGraph* fcn = \textcolor{keyword}{new} TGraph(n+1, xy[0], xy[1]);}
\DoxyCodeLine{7104   fcn-\/>SetName(fcnName);}
\DoxyCodeLine{7105 }
\DoxyCodeLine{7106   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{7107   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{7108 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}\label{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!getPatch\_a0plusa1timesX@{getPatch\_a0plusa1timesX}}
\index{getPatch\_a0plusa1timesX@{getPatch\_a0plusa1timesX}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{getPatch\_a0plusa1timesX()}{getPatch\_a0plusa1timesX()}}
{\footnotesize\ttfamily T\+Graph$\ast$ get\+Patch\+\_\+a0plusa1timesX (\begin{DoxyParamCaption}\item[{T\+Spline3 $\ast$}]{sp,  }\item[{T\+Spline3 $\ast$}]{sppatch,  }\item[{double}]{xmin,  }\item[{double}]{xmax,  }\item[{bool}]{use\+Low\+Bound,  }\item[{bool}]{force\+Output = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 7111 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7111                                                                                                                                    \{}
\DoxyCodeLine{7112   \textcolor{keywordtype}{double} x, y, s;}
\DoxyCodeLine{7113   \textcolor{keywordflow}{if} (useLowBound) x = sp-\/>GetXmin();}
\DoxyCodeLine{7114   \textcolor{keywordflow}{else} x = sp-\/>GetXmax();}
\DoxyCodeLine{7115   y = sp-\/>Eval(x);}
\DoxyCodeLine{7116   s = sp-\/>Derivative(x);}
\DoxyCodeLine{7117   y -\/= sppatch-\/>Eval(x);}
\DoxyCodeLine{7118   s -\/= sppatch-\/>Derivative(x);}
\DoxyCodeLine{7119 }
\DoxyCodeLine{7120   \textcolor{keywordtype}{double} a0, \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}};}
\DoxyCodeLine{7121   \mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}} = s;}
\DoxyCodeLine{7122   a0 = y-\/\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*x;}
\DoxyCodeLine{7123 }
\DoxyCodeLine{7124   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"getPatch\_a0plusa1timesX: Checking if patch will flip: "} << endl;}
\DoxyCodeLine{7125   \textcolor{keywordtype}{double} xext;}
\DoxyCodeLine{7126   \textcolor{keywordflow}{if} (useLowBound) xext = x;}
\DoxyCodeLine{7127   \textcolor{keywordflow}{else} xext = x;}
\DoxyCodeLine{7128   \textcolor{keywordflow}{if} (1.+\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}/sppatch-\/>Derivative(xext)<0.)\{}
\DoxyCodeLine{7129     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sign flips at "} << xext << endl;}
\DoxyCodeLine{7130     \textcolor{keywordflow}{if} (!forceOutput) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{7131   \}}
\DoxyCodeLine{7132   \textcolor{keywordflow}{else} \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Sign does not flip at "} << xext << endl;}
\DoxyCodeLine{7133 }
\DoxyCodeLine{7134   \textcolor{keywordtype}{int} n = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+0.5);}
\DoxyCodeLine{7135   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Patcher n: "} << n << endl;}
\DoxyCodeLine{7136   \textcolor{keywordtype}{double} xwidth = (xmax-\/\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})/n;}
\DoxyCodeLine{7137   \textcolor{keywordtype}{double}* xy[2];}
\DoxyCodeLine{7138   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) xy[i]=\textcolor{keyword}{new} \textcolor{keywordtype}{double}[n+1];}
\DoxyCodeLine{7139   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ip=0; ip<=n; ip++)\{}
\DoxyCodeLine{7140     \textcolor{keywordtype}{double} xval = \mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}+xwidth*ip;}
\DoxyCodeLine{7141     \textcolor{keywordtype}{double} yval = sppatch-\/>Eval(xval);}
\DoxyCodeLine{7142     yval += (a0+\mbox{\hyperlink{namespacemodparameters_aeb7b9de951b7104471ba5afd08afb18c}{a1}}*xval);}
\DoxyCodeLine{7143     xy[0][ip]=xval;}
\DoxyCodeLine{7144     xy[1][ip]=yval;}
\DoxyCodeLine{7145   \}}
\DoxyCodeLine{7146   TString fcnName;}
\DoxyCodeLine{7147   \textcolor{keywordflow}{if} (useLowBound) fcnName = Form(\textcolor{stringliteral}{"lowFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7148   \textcolor{keywordflow}{else} fcnName = Form(\textcolor{stringliteral}{"highFcn\_\%s"}, sp-\/>GetName());}
\DoxyCodeLine{7149   TGraph* fcn = \textcolor{keyword}{new} TGraph(n+1, xy[0], xy[1]);}
\DoxyCodeLine{7150   fcn-\/>SetName(fcnName);}
\DoxyCodeLine{7151 }
\DoxyCodeLine{7152   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<2; i++) \textcolor{keyword}{delete}[] xy[i];}
\DoxyCodeLine{7153   \textcolor{keywordflow}{return} fcn;}
\DoxyCodeLine{7154 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ab2ec4b6ebe7fdeac0df6de8c6089ad49}\label{calcC__lintolog_8c_ab2ec4b6ebe7fdeac0df6de8c6089ad49}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs}}
\index{produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs()}{produce\_PAvgSmooth\_JHUGen\_HadVH\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+Had\+V\+H\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8529 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8529                                                                             \{}
\DoxyCodeLine{8530   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH"} || strprod == \textcolor{stringliteral}{"Had\_WH"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{8531 }
\DoxyCodeLine{8532   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{8533   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{8534     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{8535     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{8536   \}}
\DoxyCodeLine{8537   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{8538   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8539   vector<PointRedivision> redivs;}
\DoxyCodeLine{8540   redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8541   redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8542   redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8543   redivs.emplace\_back(4, 1600, 3000);}
\DoxyCodeLine{8544   \mbox{\hyperlink{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}{generic\_PAvgSmoothProducer}}(}
\DoxyCodeLine{8545     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8546     \&\mbox{\hyperlink{calcC__lintolog_8c_a70195c1e0b5bbeae27e40a15a36c0d6e}{getFcn\_a0plusa1expX}},}
\DoxyCodeLine{8547     \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8548     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}},}
\DoxyCodeLine{8549     \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{8550     \&redivs}
\DoxyCodeLine{8551     );}
\DoxyCodeLine{8552 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a3db66960f980b1c7745ec9123781c6bf}\label{calcC__lintolog_8c_a3db66960f980b1c7745ec9123781c6bf}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs}}
\index{produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs()}{produce\_PAvgSmooth\_JHUGen\_JJQCD\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 8504 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8504                                                           \{}
\DoxyCodeLine{8505   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{8506   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}};}
\DoxyCodeLine{8507   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8508   \mbox{\hyperlink{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}{generic\_PAvgSmoothProducer}}(}
\DoxyCodeLine{8509     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8510     \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8511     \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8512     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}}
\DoxyCodeLine{8513     );}
\DoxyCodeLine{8514 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a1ea27c1e70335e7b5a2a2b254b95b311}\label{calcC__lintolog_8c_a1ea27c1e70335e7b5a2a2b254b95b311}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs}}
\index{produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs()}{produce\_PAvgSmooth\_JHUGen\_JJVBF\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+J\+V\+B\+F\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 8491 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8491                                                           \{}
\DoxyCodeLine{8492   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{8493   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}};}
\DoxyCodeLine{8494   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8495   \mbox{\hyperlink{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}{generic\_PAvgSmoothProducer}}(}
\DoxyCodeLine{8496     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8497     \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8498     \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8499     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}}
\DoxyCodeLine{8500     );}
\DoxyCodeLine{8501 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a9fc6a82ada34d83535da149c3f10776c}\label{calcC__lintolog_8c_a9fc6a82ada34d83535da149c3f10776c}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs}}
\index{produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs()}{produce\_PAvgSmooth\_JHUGen\_JQCD\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+J\+Q\+C\+D\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 8} }\end{DoxyParamCaption})}



Definition at line 8517 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8517                                                          \{}
\DoxyCodeLine{8518   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{8519   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca3706a5c493f245b1f6231e93e31383ea}{TVar::JQCD}};}
\DoxyCodeLine{8520   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8521   \mbox{\hyperlink{calcC__lintolog_8c_a8f0f643f05367f75985c2d7f3fa07062}{generic\_PAvgSmoothProducer}}(}
\DoxyCodeLine{8522     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8523     \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8524     \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8525     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}}
\DoxyCodeLine{8526     );}
\DoxyCodeLine{8527 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a2f5d787361c739bfa8f25807ab44a02e}\label{calcC__lintolog_8c_a2f5d787361c739bfa8f25807ab44a02e}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs}}
\index{produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs@{produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs()}{produce\_PAvgSmooth\_JHUGen\_ZZGG\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+J\+H\+U\+Gen\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8555 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8555                                               \{}
\DoxyCodeLine{8556   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815faba6e6b23b0115bbaa919563a0626be03}{TVar::JHUGen}};}
\DoxyCodeLine{8557   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{8558   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8559   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8560     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8561     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZGG\_HSMHiggs.root"}, \textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8562     \&\mbox{\hyperlink{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}{getPatch\_a0plusa1timesX}},}
\DoxyCodeLine{8563     \&\mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{getPatch\_a0plusa1overX}},}
\DoxyCodeLine{8564     -\/1}
\DoxyCodeLine{8565     );}
\DoxyCodeLine{8566 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_ad192f14cd2e5800f134e094c75ee4976}\label{calcC__lintolog_8c_ad192f14cd2e5800f134e094c75ee4976}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ}}
\index{produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ()}{produce\_PAvgSmooth\_MCFM\_JJPROD\_bkgZZ()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8657 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8657                                                                         \{}
\DoxyCodeLine{8658   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH"} || strprod == \textcolor{stringliteral}{"Had\_WH"} || strprod == \textcolor{stringliteral}{"JJVBF"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{8659 }
\DoxyCodeLine{8660   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{8661   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}}) \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{8662     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{8663     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{8664   \}}
\DoxyCodeLine{8665   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8666   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{8667   \textcolor{keywordflow}{if} (prod!=\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}})\{}
\DoxyCodeLine{8668     vector<PointRedivision> redivs;}
\DoxyCodeLine{8669     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8670     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8671     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8672     \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca2323942ae07ec12f3d8188e2122b189d}{TVar::Had\_ZH}}) redivs.emplace\_back(5, 125.3, 170);}
\DoxyCodeLine{8673     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{8674       redivs.emplace\_back(1, 105, 118);}
\DoxyCodeLine{8675       redivs.emplace\_back(1, 120, 125);}
\DoxyCodeLine{8676     \}}
\DoxyCodeLine{8677     \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8678       \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8679       \textcolor{comment}{//"../data/pAvgLinToLog\_ANALYTICAL\_ZZQQB\_bkgZZ.root", "tg\_anaPdfInt",}}
\DoxyCodeLine{8680       \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8681       \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8682       \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}},}
\DoxyCodeLine{8683       \textcolor{keyword}{true}, \textcolor{keyword}{false},}
\DoxyCodeLine{8684       \&redivs}
\DoxyCodeLine{8685     );}
\DoxyCodeLine{8686   \}}
\DoxyCodeLine{8687   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{8688     \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8689       \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8690       \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8691       \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8692       \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}},}
\DoxyCodeLine{8693       \textcolor{keyword}{false}, \textcolor{keyword}{false}}
\DoxyCodeLine{8694     );}
\DoxyCodeLine{8695   \}}
\DoxyCodeLine{8696 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a996799d715076960d33682ca147ff525}\label{calcC__lintolog_8c_a996799d715076960d33682ca147ff525}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs@{produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs}}
\index{produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs@{produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs()}{produce\_PAvgSmooth\_MCFM\_JJPROD\_S\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+P\+R\+O\+D\+\_\+\+S\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}\item[{T\+String}]{strprod,  }\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8612 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8612                                                                              \{}
\DoxyCodeLine{8613   \textcolor{keywordflow}{if} (!(strprod == \textcolor{stringliteral}{"Had\_ZH\_S"} || strprod == \textcolor{stringliteral}{"Had\_WH\_S"} || strprod == \textcolor{stringliteral}{"JJVBF\_S"})) \textcolor{keywordflow}{return};}
\DoxyCodeLine{8614 }
\DoxyCodeLine{8615   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod;}
\DoxyCodeLine{8616   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} iprod=(\textcolor{keywordtype}{int})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cabc07d9db0167d4ad17cc45036802280c}{TVar::JJVBF}}; iprod<(\mbox{\hyperlink{namespacetestME__all_a2f9c5cba6551dc41bae400ced29c30b3}{int}})\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca107e0182e8d88040d01d158d2f6f381f}{TVar::nProductions}}; iprod++)\{}
\DoxyCodeLine{8617     prod = (\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}})iprod;}
\DoxyCodeLine{8618     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceTVar_a1225a4280a727b6456d225d3493e0e66}{TVar::ProductionName}}(prod)==strprod) \textcolor{keywordflow}{break};}
\DoxyCodeLine{8619   \}}
\DoxyCodeLine{8620   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8621   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8622   \textcolor{comment}{//generic\_PAvgSmoothProducer\_withDecay(}}
\DoxyCodeLine{8623   \textcolor{comment}{//  me, prod, proc,}}
\DoxyCodeLine{8624   \textcolor{comment}{//  "../data/pAvgLinToLog\_ANALYTICAL\_ZZGG\_HSMHiggs.root", "tg\_anaPdfInt",}}
\DoxyCodeLine{8625   \textcolor{comment}{//  \&getPatch\_a0plusa1timesX,}}
\DoxyCodeLine{8626   \textcolor{comment}{//  \&getPatch\_a0plusa1overX,}}
\DoxyCodeLine{8627   \textcolor{comment}{//  sqrts}}
\DoxyCodeLine{8628   \textcolor{comment}{//  );}}
\DoxyCodeLine{8629   vector<PointRedivision> redivs;}
\DoxyCodeLine{8630   \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} || prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caeaa3caadaa8c091717a24337287cb6ce}{TVar::Had\_WH\_S}})\{}
\DoxyCodeLine{8631     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8632     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8633     redivs.emplace\_back(2, 90, 90);}
\DoxyCodeLine{8634 }
\DoxyCodeLine{8635     redivs.emplace\_back(4, 1600, 3000);}
\DoxyCodeLine{8636 }
\DoxyCodeLine{8637     vector<float> redivmultiplesA\{ 192.072, 210.622, 243.901, 272.591, 331.305, 392.596, 449.076, 504.783, 565.813, 640.583, 729.157, 822.262, 945.274 \};}
\DoxyCodeLine{8638     vector<float> redivmultiplesB\{ 195.798, 215.901, 249.163, 286.182, 346.839, 406.022, 464.092, 522.738, 588.661, 672.415, 764.014, 862.423, 1015.89 \};}
\DoxyCodeLine{8639     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} irm=0; irm<redivmultiplesA.size()-\/1; irm++)\{}
\DoxyCodeLine{8640       \textcolor{keywordflow}{if} (prod==\mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca9e87aa5c4ef53a86281b46ffbf67dd3a}{TVar::Had\_ZH\_S}} \&\& (irm==0 || irm==2)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{8641       \textcolor{keywordtype}{float} xlow=std::max(redivmultiplesA.at(irm), redivmultiplesB.at(irm))+1e-\/2;}
\DoxyCodeLine{8642       \textcolor{keywordtype}{float} xhigh=std::min(redivmultiplesA.at(irm+1), redivmultiplesB.at(irm+1))-\/1e-\/2;}
\DoxyCodeLine{8643       redivs.emplace\_back(1, xlow, xhigh);}
\DoxyCodeLine{8644     \}}
\DoxyCodeLine{8645   \}}
\DoxyCodeLine{8646   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8647     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8648     \&\mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}},}
\DoxyCodeLine{8649     \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8650     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}},}
\DoxyCodeLine{8651     \textcolor{keyword}{true}, \textcolor{keyword}{false},}
\DoxyCodeLine{8652     \&redivs}
\DoxyCodeLine{8653   );}
\DoxyCodeLine{8654 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a0693b0dc6777acfb3a183b3e399f1779}\label{calcC__lintolog_8c_a0693b0dc6777acfb3a183b3e399f1779}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q@{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q}}
\index{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q@{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q()}{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_2l2q()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+Z\+Jets\+\_\+2l2q (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8433 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8433                                                               \{}
\DoxyCodeLine{8434   TFile* finput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pAvgLinToLog\_MCFM\_JJQCD\_bkgZJets\_\%iTeV\_2l2q.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"read"});}
\DoxyCodeLine{8435   TFile* foutput = \textcolor{keyword}{new} TFile(Form(\textcolor{stringliteral}{"pAvgSmooth\_MCFM\_JJQCD\_bkgZJets\_\%iTeV\_2l2q.root"}, \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}), \textcolor{stringliteral}{"recreate"});}
\DoxyCodeLine{8436   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ngraphs=1;}
\DoxyCodeLine{8437   TString strtg[ngraphs]=\{}
\DoxyCodeLine{8438     \textcolor{stringliteral}{"tg\_P\_ConserveDifermionMass"}}
\DoxyCodeLine{8439   \};}
\DoxyCodeLine{8440 }
\DoxyCodeLine{8441   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ig=0; ig<ngraphs; ig++)\{}
\DoxyCodeLine{8442     finput-\/>cd();}
\DoxyCodeLine{8443     TGraphErrors* tg = 0;}
\DoxyCodeLine{8444     tg = (TGraphErrors*)finput-\/>Get(strtg[ig].Data());}
\DoxyCodeLine{8445     \textcolor{keywordflow}{if} (tg==0)\{ cerr << strtg[ig] << \textcolor{stringliteral}{" does not exist."} << endl; \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{8446     tg-\/>SetName(strtg[ig]);}
\DoxyCodeLine{8447     foutput-\/>cd();}
\DoxyCodeLine{8448     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{8449     tg-\/>SetName(Form(\textcolor{stringliteral}{"\%s\_Smooth"}, tg-\/>GetName()));}
\DoxyCodeLine{8450 }
\DoxyCodeLine{8451     TGraphErrors* tg\_new = \mbox{\hyperlink{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}{replacePointsBetween}}(tg, 510, 520); tg=tg\_new;}
\DoxyCodeLine{8452     tg\_new = \mbox{\hyperlink{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}{replacePointsBetween}}(tg, 329.5, 330.5); \textcolor{keyword}{delete} tg; tg=tg\_new;}
\DoxyCodeLine{8453     tg\_new = \mbox{\hyperlink{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}{replacePointsBetween}}(tg, 338, 340); \textcolor{keyword}{delete} tg; tg=tg\_new;}
\DoxyCodeLine{8454 }
\DoxyCodeLine{8455     \mbox{\hyperlink{calcC__lintolog_8c_aec1f80ee5ffdba12f9dce71825793632}{regularizeSlice}}(tg);}
\DoxyCodeLine{8456     foutput-\/>WriteTObject(tg);}
\DoxyCodeLine{8457 }
\DoxyCodeLine{8458     TSpline3* sp = \mbox{\hyperlink{calcC__lintolog_8c_ac536b1dfa4ef1f741d79e06dc090814e}{convertGraphToSpline3}}(tg);}
\DoxyCodeLine{8459     TF1* lowFcn = \mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}}(sp, 0, (tg-\/>GetX())[0], \textcolor{keyword}{true});}
\DoxyCodeLine{8460     TF1* highFcn = \mbox{\hyperlink{calcC__lintolog_8c_ad75a06867d62de5e3ef58e152a681cf8}{getFcn\_a0plusa1timesX}}(sp, (tg-\/>GetX())[tg-\/>GetN()-\/1], 20000., \textcolor{keyword}{false});}
\DoxyCodeLine{8461     lowFcn-\/>SetNpx(1000);}
\DoxyCodeLine{8462     highFcn-\/>SetNpx(10000);}
\DoxyCodeLine{8463 }
\DoxyCodeLine{8464     foutput-\/>WriteTObject(sp);}
\DoxyCodeLine{8465     foutput-\/>WriteTObject(lowFcn);}
\DoxyCodeLine{8466     foutput-\/>WriteTObject(highFcn);}
\DoxyCodeLine{8467 }
\DoxyCodeLine{8468     TCanvas* ctest = \textcolor{keyword}{new} TCanvas(\textcolor{stringliteral}{"test"}, \textcolor{stringliteral}{""}, 8, 30, 800, 800);}
\DoxyCodeLine{8469     ctest-\/>cd();}
\DoxyCodeLine{8470     tg-\/>GetXaxis()-\/>SetRangeUser(0, 20000);}
\DoxyCodeLine{8471     tg-\/>Draw(\textcolor{stringliteral}{"ae1p"});}
\DoxyCodeLine{8472     sp-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8473     lowFcn-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8474     highFcn-\/>Draw(\textcolor{stringliteral}{"csame"});}
\DoxyCodeLine{8475     ctest-\/>RedrawAxis();}
\DoxyCodeLine{8476     ctest-\/>Modified();}
\DoxyCodeLine{8477     ctest-\/>Update();}
\DoxyCodeLine{8478     foutput-\/>WriteTObject(ctest);}
\DoxyCodeLine{8479     ctest-\/>Close();}
\DoxyCodeLine{8480 }
\DoxyCodeLine{8481     \textcolor{keyword}{delete} highFcn;}
\DoxyCodeLine{8482     \textcolor{keyword}{delete} lowFcn;}
\DoxyCodeLine{8483     \textcolor{keyword}{delete} sp;}
\DoxyCodeLine{8484     \textcolor{keyword}{delete} tg;}
\DoxyCodeLine{8485   \}}
\DoxyCodeLine{8486   foutput-\/>Close();}
\DoxyCodeLine{8487   finput-\/>Close();}
\DoxyCodeLine{8488 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a80d6fe48b90c02505e64b81f2a74a812}\label{calcC__lintolog_8c_a80d6fe48b90c02505e64b81f2a74a812}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ}}
\index{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ()}{produce\_PAvgSmooth\_MCFM\_JJQCD\_bkgZZ()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+J\+J\+Q\+C\+D\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}\item[{int}]{sqrts = {\ttfamily 13} }\end{DoxyParamCaption})}



Definition at line 8699 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8699                                                       \{}
\DoxyCodeLine{8700   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8701   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28cac0c573d4bbf26795b6c05f5ad5036309}{TVar::JJQCD}};}
\DoxyCodeLine{8702   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{8703   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8704     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8705     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZQQB\_bkgZZ.root"}, \textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8706     \&\mbox{\hyperlink{calcC__lintolog_8c_aeb28eb09bea582409639c28ee0bbab17}{getFcn\_a0plusa1overX}},}
\DoxyCodeLine{8707     \&\mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{getPatch\_a0plusa1overX}},}
\DoxyCodeLine{8708     \mbox{\hyperlink{TMCFM_8hh_abf7be34aa9d044bc74b481967e5e1245}{sqrts}}}
\DoxyCodeLine{8709     );}
\DoxyCodeLine{8710 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a45166d294448cac8c63a6d3e8efe0600}\label{calcC__lintolog_8c_a45166d294448cac8c63a6d3e8efe0600}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ}}
\index{produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ()}{produce\_PAvgSmooth\_MCFM\_ZZGG\_bkgZZ()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8583 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8583                                          \{}
\DoxyCodeLine{8584   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8585   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{8586   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{8587   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8588     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8589     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZGG\_HSMHiggs.root"}, \textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8590     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZQQB\_bkgZZ.root"}, \textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8591     \&\mbox{\hyperlink{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}{getPatch\_a0plusa1timesX}},}
\DoxyCodeLine{8592     \&\mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{getPatch\_a0plusa1overX}},}
\DoxyCodeLine{8593     -\/1}
\DoxyCodeLine{8594     );}
\DoxyCodeLine{8595 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a76981dd8d00ad609daa0c6793db0fba2}\label{calcC__lintolog_8c_a76981dd8d00ad609daa0c6793db0fba2}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs@{produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs}}
\index{produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs@{produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs()}{produce\_PAvgSmooth\_MCFM\_ZZGG\_HSMHiggs()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+G\+G\+\_\+\+H\+S\+M\+Higgs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8569 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8569                                             \{}
\DoxyCodeLine{8570   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8571   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28ca4539519c2d018fd29228bdd605c76c47}{TVar::ZZGG}};}
\DoxyCodeLine{8572   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a698cab07ea0defb1d164f4cd17d8b681}{TVar::HSMHiggs}};}
\DoxyCodeLine{8573   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8574     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8575     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZGG\_HSMHiggs.root"}, \textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8576     \&\mbox{\hyperlink{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}{getPatch\_a0plusa1timesX}},}
\DoxyCodeLine{8577     \&\mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{getPatch\_a0plusa1overX}},}
\DoxyCodeLine{8578     -\/1}
\DoxyCodeLine{8579     );}
\DoxyCodeLine{8580 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa9718d2df82d1f8beb713bb020a23899}\label{calcC__lintolog_8c_aa9718d2df82d1f8beb713bb020a23899}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ}}
\index{produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ@{produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ()}{produce\_PAvgSmooth\_MCFM\_ZZQQB\_bkgZZ()}}
{\footnotesize\ttfamily void produce\+\_\+\+P\+Avg\+Smooth\+\_\+\+M\+C\+F\+M\+\_\+\+Z\+Z\+Q\+Q\+B\+\_\+bkg\+ZZ (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 8598 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{8598                                           \{}
\DoxyCodeLine{8599   \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815f}{TVar::MatrixElement}} \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}} = \mbox{\hyperlink{namespaceTVar_a3d91617913b8024e8b41f4711196815fa23f6a5a26e1e59a26957f95f3b252455}{TVar::MCFM}};}
\DoxyCodeLine{8600   \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28c}{TVar::Production}} prod = \mbox{\hyperlink{namespaceTVar_a1d885f45cfb17fdc0cb80d0b3dd4f28caadcf7f0a83b7115068947fc704e41aea}{TVar::ZZQQB}};}
\DoxyCodeLine{8601   \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1}{TVar::Process}} proc = \mbox{\hyperlink{namespaceTVar_a0c6d3acf0d4f0af16181b35a88d813a1a86a446def8e436c64eed71210f26c8c8}{TVar::bkgZZ}};}
\DoxyCodeLine{8602   \mbox{\hyperlink{calcC__lintolog_8c_a4508271aa20df60b297667e1539d3468}{generic\_PAvgSmoothProducer\_withDecay}}(}
\DoxyCodeLine{8603     \mbox{\hyperlink{namespacehto__masses_a81e62ddac2d100de24622e34d115eae9}{me}}, prod, proc,}
\DoxyCodeLine{8604     \textcolor{stringliteral}{"../data/pAvgLinToLog\_ANALYTICAL\_ZZQQB\_bkgZZ.root"},\textcolor{stringliteral}{"tg\_anaPdfInt"},}
\DoxyCodeLine{8605     \&\mbox{\hyperlink{calcC__lintolog_8c_a92d08f41c1858517d171accb1c505096}{getPatch\_a0plusa1timesX}},}
\DoxyCodeLine{8606     \&\mbox{\hyperlink{calcC__lintolog_8c_ae78c0baaad2839c185466db32ee24000}{getPatch\_a0plusa1overX}},}
\DoxyCodeLine{8607     -\/1}
\DoxyCodeLine{8608     );}
\DoxyCodeLine{8609 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}\label{calcC__lintolog_8c_abee02feaf3432886a401bd640803085b}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!rebinAverageME@{rebinAverageME}}
\index{rebinAverageME@{rebinAverageME}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{rebinAverageME()}{rebinAverageME()}}
{\footnotesize\ttfamily void rebin\+Average\+ME (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$\&}]{tg,  }\item[{T\+Tree $\ast$\&}]{tree,  }\item[{T\+Profile $\ast$\&}]{pmass,  }\item[{\mbox{\hyperlink{structPointRedivision}{Point\+Redivision}} \&}]{rediv,  }\item[{float \&}]{Z\+Z\+Mass,  }\item[{float \&}]{mesq,  }\item[{float \&}]{weight }\end{DoxyParamCaption})}



Definition at line 7500 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7504  \{}
\DoxyCodeLine{7505   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Old set of boundaries: "} << endl;}
\DoxyCodeLine{7506   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ibin=1; ibin<=pmass-\/>GetNbinsX()+1; ibin++) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << pmass-\/>GetXaxis()-\/>GetBinLowEdge(ibin) << \textcolor{stringliteral}{" "};}
\DoxyCodeLine{7507   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << endl;}
\DoxyCodeLine{7508 }
\DoxyCodeLine{7509   \textcolor{keywordtype}{int} binlow=pmass-\/>GetXaxis()-\/>FindBin(rediv.\mbox{\hyperlink{structPointRedivision_a8a60f8859e85a5e3b3a6b45fb36608c3}{xlow}});}
\DoxyCodeLine{7510   \textcolor{keywordtype}{int} binhigh=pmass-\/>GetXaxis()-\/>FindBin(rediv.\mbox{\hyperlink{structPointRedivision_a74c4b4b245f8ff67c45ee47c05c9c0fb}{xhigh}});}
\DoxyCodeLine{7511   \textcolor{keywordtype}{float} redivlow, redivhigh;}
\DoxyCodeLine{7512   \textcolor{keywordflow}{if} (binlow==0) binlow=1; redivlow=pmass-\/>GetXaxis()-\/>GetBinLowEdge(binlow);}
\DoxyCodeLine{7513   \textcolor{keywordflow}{if} (binhigh==0) binhigh=1; redivhigh=pmass-\/>GetXaxis()-\/>GetBinUpEdge(binhigh);}
\DoxyCodeLine{7514   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Rebinning between "} << redivlow << \textcolor{stringliteral}{" and "} << redivhigh << endl;}
\DoxyCodeLine{7515 }
\DoxyCodeLine{7516   vector<float> massvals;}
\DoxyCodeLine{7517   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<tree-\/>GetEntries(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{7518     tree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{7519     \textcolor{keywordflow}{if} (ZZMass<redivlow || ZZMass>=redivhigh) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7520     massvals.push\_back(ZZMass);}
\DoxyCodeLine{7521   \}}
\DoxyCodeLine{7522   std::sort(massvals.begin(), massvals.end());}
\DoxyCodeLine{7523   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << massvals.size() << \textcolor{stringliteral}{" events in this range"} << endl;}
\DoxyCodeLine{7524   vector<float> xboundaries;}
\DoxyCodeLine{7525   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nevts\_collected=massvals.size();}
\DoxyCodeLine{7526   \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(xboundaries, redivlow, \textcolor{keyword}{true});}
\DoxyCodeLine{7527   \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(xboundaries, redivhigh, \textcolor{keyword}{true});}
\DoxyCodeLine{7528   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ip=1; ip<rediv.\mbox{\hyperlink{structPointRedivision_a1ca891291c8259b9c96721622137e619}{npoints}}; ip++) \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(xboundaries, \textcolor{keywordtype}{float}((massvals.at(nevts\_collected/rediv.\mbox{\hyperlink{structPointRedivision_a1ca891291c8259b9c96721622137e619}{npoints}}*ip) + massvals.at(nevts\_collected/rediv.\mbox{\hyperlink{structPointRedivision_a1ca891291c8259b9c96721622137e619}{npoints}}*ip+1))*0.5), \textcolor{keyword}{true});}
\DoxyCodeLine{7529   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Additional x boundaries: "};}
\DoxyCodeLine{7530   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ip=0; ip<xboundaries.size(); ip++) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << xboundaries.at(ip) << \textcolor{stringliteral}{" "};}
\DoxyCodeLine{7531   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << endl;}
\DoxyCodeLine{7532 }
\DoxyCodeLine{7533   TProfile* hvar = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"mass"}, \textcolor{stringliteral}{""}, rediv.\mbox{\hyperlink{structPointRedivision_a1ca891291c8259b9c96721622137e619}{npoints}}, xboundaries.data()); hvar-\/>Sumw2();}
\DoxyCodeLine{7534   TProfile* hmesq = \textcolor{keyword}{new} TProfile(\textcolor{stringliteral}{"mesq"}, \textcolor{stringliteral}{""}, rediv.\mbox{\hyperlink{structPointRedivision_a1ca891291c8259b9c96721622137e619}{npoints}}, xboundaries.data()); hmesq-\/>Sumw2();}
\DoxyCodeLine{7535   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}=0; \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}<tree-\/>GetEntries(); \mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}}++)\{}
\DoxyCodeLine{7536     tree-\/>GetEntry(\mbox{\hyperlink{namespacemodparameters_a4d03a172507fd6727424ee4ba81909e7}{ev}});}
\DoxyCodeLine{7537     \textcolor{keywordflow}{if} (ZZMass<redivlow || ZZMass>=redivhigh) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7538     hvar-\/>Fill(ZZMass, ZZMass, weight);}
\DoxyCodeLine{7539     hmesq-\/>Fill(ZZMass, mesq, weight);}
\DoxyCodeLine{7540   \}}
\DoxyCodeLine{7541 }
\DoxyCodeLine{7542   \{ TGraphErrors* tgnew = \mbox{\hyperlink{calcC__lintolog_8c_a112734e2a1bf2535ddbc456d5fb182a7}{removePointsBetween}}(tg, redivlow, redivhigh); \textcolor{keyword}{delete} tg; tg=tgnew; \}}
\DoxyCodeLine{7543   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ibin=1; ibin<=hvar-\/>GetNbinsX(); ibin++)\{}
\DoxyCodeLine{7544     \textcolor{keywordtype}{double} xadd=hvar-\/>GetBinContent(ibin);}
\DoxyCodeLine{7545     \textcolor{keywordtype}{double} exadd=hvar-\/>GetBinError(ibin);}
\DoxyCodeLine{7546     \textcolor{keywordtype}{double} yadd=hmesq-\/>GetBinContent(ibin);}
\DoxyCodeLine{7547     \textcolor{keywordtype}{double} eyadd=hmesq-\/>GetBinError(ibin);}
\DoxyCodeLine{7548     eyadd=log10(eyadd)/yadd;}
\DoxyCodeLine{7549     yadd=log10(yadd);}
\DoxyCodeLine{7550     \mbox{\hyperlink{calcC__lintolog_8c_a5c4568c8b538216172e9ca131d7103b7}{addPoint}}(tg, xadd, yadd, exadd, eyadd);}
\DoxyCodeLine{7551     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Added point "} << xadd << \textcolor{stringliteral}{", "} << yadd << \textcolor{stringliteral}{" for range [ "} << hvar-\/>GetXaxis()-\/>GetBinLowEdge(ibin) << \textcolor{stringliteral}{", "} << hvar-\/>GetXaxis()-\/>GetBinUpEdge(ibin) << \textcolor{stringliteral}{" ]"} << endl;}
\DoxyCodeLine{7552   \}}
\DoxyCodeLine{7553   \textcolor{keyword}{delete} hmesq;}
\DoxyCodeLine{7554   \textcolor{keyword}{delete} hvar;}
\DoxyCodeLine{7555 }
\DoxyCodeLine{7556   TString pmassname=pmass-\/>GetName();}
\DoxyCodeLine{7557   TString pmasstitle=pmass-\/>GetTitle();}
\DoxyCodeLine{7558   TString pmassxtitle=pmass-\/>GetXaxis()-\/>GetTitle();}
\DoxyCodeLine{7559   TString pmassytitle=pmass-\/>GetYaxis()-\/>GetTitle();}
\DoxyCodeLine{7560   vector<float> pmassboundaries;}
\DoxyCodeLine{7561   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ibin=1; ibin<=pmass-\/>GetNbinsX()+1; ibin++)\{}
\DoxyCodeLine{7562     \textcolor{keywordflow}{if} (ibin>=binlow \&\& ibin<=binhigh+1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7563     \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(pmassboundaries, \textcolor{keywordtype}{float}(pmass-\/>GetXaxis()-\/>GetBinLowEdge(ibin)), \textcolor{keyword}{true});}
\DoxyCodeLine{7564   \}}
\DoxyCodeLine{7565   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{float}\& bb:xboundaries) \mbox{\hyperlink{calcC__lintolog_8c_a3a493f9e23930e7fa6672509f6347800}{addByLowest}}(pmassboundaries, bb, \textcolor{keyword}{true});}
\DoxyCodeLine{7566   assert((\textcolor{keywordtype}{int}) pmassboundaries.size()==tg-\/>GetN()+1);}
\DoxyCodeLine{7567   \textcolor{keyword}{delete} pmass;}
\DoxyCodeLine{7568   pmass = \textcolor{keyword}{new} TProfile(pmassname, pmasstitle, pmassboundaries.size()-\/1, pmassboundaries.data());}
\DoxyCodeLine{7569   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ibin=1; ibin<=tg-\/>GetN(); ibin++)\{}
\DoxyCodeLine{7570     pmass-\/>SetBinContent(ibin, tg-\/>GetX()[ibin-\/1]);}
\DoxyCodeLine{7571     pmass-\/>SetBinError(ibin, tg-\/>GetEX()[ibin-\/1]);}
\DoxyCodeLine{7572   \}}
\DoxyCodeLine{7573 }
\DoxyCodeLine{7574   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"New set of boundaries: "} << endl;}
\DoxyCodeLine{7575   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ibin=1; ibin<=pmass-\/>GetNbinsX()+1; ibin++) \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << pmass-\/>GetXaxis()-\/>GetBinLowEdge(ibin) << \textcolor{stringliteral}{" "};}
\DoxyCodeLine{7576   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << endl;}
\DoxyCodeLine{7577 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aec1f80ee5ffdba12f9dce71825793632}\label{calcC__lintolog_8c_aec1f80ee5ffdba12f9dce71825793632}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!regularizeSlice@{regularizeSlice}}
\index{regularizeSlice@{regularizeSlice}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{regularizeSlice()}{regularizeSlice()}}
{\footnotesize\ttfamily void regularize\+Slice (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$}]{tg\+Slice,  }\item[{std\+::vector$<$ double $>$ $\ast$}]{fixedX = {\ttfamily 0},  }\item[{double}]{omitbelow = {\ttfamily 0.},  }\item[{int}]{n\+Iter\+\_\+ = {\ttfamily -\/1},  }\item[{double}]{threshold\+\_\+ = {\ttfamily -\/1} }\end{DoxyParamCaption})}



Definition at line 7193 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7193                                                                                                                                     \{}
\DoxyCodeLine{7194   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins\_slice = tgSlice-\/>GetN();}
\DoxyCodeLine{7195   \textcolor{keywordtype}{double}* xexyey\_slice[4]=\{}
\DoxyCodeLine{7196     tgSlice-\/>GetX(),}
\DoxyCodeLine{7197     tgSlice-\/>GetEX(),}
\DoxyCodeLine{7198     tgSlice-\/>GetY(),}
\DoxyCodeLine{7199     tgSlice-\/>GetEY()}
\DoxyCodeLine{7200   \};}
\DoxyCodeLine{7201 }
\DoxyCodeLine{7202   \textcolor{keywordtype}{double}* xexyey\_linear[4];}
\DoxyCodeLine{7203   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7204     xexyey\_linear[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins\_slice];}
\DoxyCodeLine{7205     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7206       \textcolor{keywordflow}{if} (ix<2) xexyey\_linear[ix][iy] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7207       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ix==3) xexyey\_linear[ix][iy] = exp(xexyey\_slice[ix][iy]);}
\DoxyCodeLine{7208       \textcolor{keywordflow}{else} xexyey\_linear[ix][iy] = xexyey\_slice[ix][iy]*xexyey\_linear[ix-\/1][iy];}
\DoxyCodeLine{7209     \}}
\DoxyCodeLine{7210   \}}
\DoxyCodeLine{7211   TGraphErrors* tgSlice\_linear = \textcolor{keyword}{new} TGraphErrors(nbins\_slice, xexyey\_linear[0], xexyey\_linear[2], xexyey\_linear[1], xexyey\_linear[3]);}
\DoxyCodeLine{7212   \textcolor{keywordtype}{double} integral\_in=tgSlice\_linear-\/>Integral();}
\DoxyCodeLine{7213   \textcolor{keyword}{delete} tgSlice\_linear;}
\DoxyCodeLine{7214   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey\_linear[ix];}
\DoxyCodeLine{7215 }
\DoxyCodeLine{7216 }
\DoxyCodeLine{7217   \textcolor{keywordtype}{double}* xexyey\_mod[4];}
\DoxyCodeLine{7218   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7219     xexyey\_mod[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins\_slice];}
\DoxyCodeLine{7220     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++) xexyey\_mod[ix][iy] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7221   \}}
\DoxyCodeLine{7222   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin\_first = 2, bin\_last = nbins\_slice-\/1;}
\DoxyCodeLine{7223 }
\DoxyCodeLine{7224   std::vector<int> fixedBins;}
\DoxyCodeLine{7225   \textcolor{keywordflow}{if} (fixedX!=0)\{}
\DoxyCodeLine{7226     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ifx=0; ifx<fixedX-\/>size(); ifx++)\{}
\DoxyCodeLine{7227       \textcolor{keywordtype}{double} requestedVal = fixedX-\/>at(ifx);}
\DoxyCodeLine{7228       \textcolor{keywordtype}{double} distance=1e15;}
\DoxyCodeLine{7229       \textcolor{keywordtype}{int} bin\_to\_fix=-\/1;}
\DoxyCodeLine{7230       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<nbins\_slice; bin++)\{ \textcolor{keywordflow}{if} (distance>fabs(xexyey\_mod[0][bin]-\/requestedVal))\{ bin\_to\_fix = bin; distance = fabs(xexyey\_mod[0][bin]-\/requestedVal); \} \}}
\DoxyCodeLine{7231       \textcolor{keywordflow}{if} (bin\_to\_fix>=0) fixedBins.push\_back(bin\_to\_fix);}
\DoxyCodeLine{7232       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Requested to fix bin "} << bin\_to\_fix << endl;}
\DoxyCodeLine{7233     \}}
\DoxyCodeLine{7234   \}}
\DoxyCodeLine{7235   \textcolor{keywordflow}{if} (omitbelow>0.)\{}
\DoxyCodeLine{7236     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin=0; bin<nbins\_slice; bin++)\{}
\DoxyCodeLine{7237       \textcolor{keywordflow}{if} (xexyey\_mod[0][bin]<omitbelow) fixedBins.push\_back(bin);}
\DoxyCodeLine{7238       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Requested to fix bin "} << bin << endl;}
\DoxyCodeLine{7239     \}}
\DoxyCodeLine{7240   \}}
\DoxyCodeLine{7241 }
\DoxyCodeLine{7242   \textcolor{keywordtype}{double}* xx\_second;}
\DoxyCodeLine{7243   \textcolor{keywordtype}{double}* yy\_second;}
\DoxyCodeLine{7244 }
\DoxyCodeLine{7245   \textcolor{keywordtype}{int} nIter = (nIter\_<0 ? 1000 : nIter\_);}
\DoxyCodeLine{7246   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} it=0; it<nIter; it++)\{}
\DoxyCodeLine{7247     \textcolor{keywordtype}{double} threshold = (threshold\_<0. ? 0.01 : threshold\_);}
\DoxyCodeLine{7248     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} binIt = bin\_first; binIt<=bin\_last; binIt++)\{}
\DoxyCodeLine{7249       \textcolor{keywordtype}{bool} doFix=\textcolor{keyword}{false};}
\DoxyCodeLine{7250       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ifx=0; ifx<fixedBins.size(); ifx++)\{}
\DoxyCodeLine{7251         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})(binIt-\/1)==fixedBins.at(ifx))\{ doFix=\textcolor{keyword}{true}; \textcolor{comment}{/*cout << "Iteration " << it << " is fixing bin " << (binIt-\/1) << endl; */}\textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{7252       \}}
\DoxyCodeLine{7253       \textcolor{keywordflow}{if} (doFix) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7254 }
\DoxyCodeLine{7255       \textcolor{keywordtype}{int} ctr = 0;}
\DoxyCodeLine{7256       \textcolor{keywordtype}{int} nbins\_second = nbins\_slice-\/1;}
\DoxyCodeLine{7257       xx\_second = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins\_second];}
\DoxyCodeLine{7258       yy\_second = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins\_second];}
\DoxyCodeLine{7259       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bin = 1; bin<=nbins\_slice; bin++)\{}
\DoxyCodeLine{7260         \textcolor{keywordflow}{if} (bin==binIt) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7261         xx\_second[ctr] = xexyey\_mod[0][bin-\/1];}
\DoxyCodeLine{7262         yy\_second[ctr] = xexyey\_mod[2][bin-\/1];}
\DoxyCodeLine{7263         ctr++;}
\DoxyCodeLine{7264       \}}
\DoxyCodeLine{7265 }
\DoxyCodeLine{7266       TGraph* interpolator = \textcolor{keyword}{new} TGraph(nbins\_second, xx\_second, yy\_second);}
\DoxyCodeLine{7267       \textcolor{keywordtype}{double} derivative\_first = (yy\_second[1]-\/yy\_second[0])/(xx\_second[1]-\/xx\_second[0]);}
\DoxyCodeLine{7268       \textcolor{keywordtype}{double} derivative\_last = (yy\_second[nbins\_second-\/1]-\/yy\_second[nbins\_second-\/2])/(xx\_second[nbins\_second-\/1]-\/xx\_second[nbins\_second-\/2]);}
\DoxyCodeLine{7269       TSpline3* spline = \textcolor{keyword}{new} TSpline3(\textcolor{stringliteral}{"spline"}, interpolator, \textcolor{stringliteral}{"b1e1"}, derivative\_first, derivative\_last);}
\DoxyCodeLine{7270 }
\DoxyCodeLine{7271       \textcolor{keywordtype}{double} center = xexyey\_mod[0][binIt-\/1];}
\DoxyCodeLine{7272       \textcolor{keywordtype}{double} val = spline-\/>Eval(center);}
\DoxyCodeLine{7273       \textcolor{keywordflow}{if} (fabs(xexyey\_mod[2][binIt-\/1]-\/val)>threshold*val) xexyey\_mod[2][binIt-\/1]=val;}
\DoxyCodeLine{7274 }
\DoxyCodeLine{7275       \textcolor{keyword}{delete} spline;}
\DoxyCodeLine{7276       \textcolor{keyword}{delete} interpolator;}
\DoxyCodeLine{7277 }
\DoxyCodeLine{7278       \textcolor{keyword}{delete}[] yy\_second;}
\DoxyCodeLine{7279       \textcolor{keyword}{delete}[] xx\_second;}
\DoxyCodeLine{7280     \}}
\DoxyCodeLine{7281   \}}
\DoxyCodeLine{7282 }
\DoxyCodeLine{7283   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7284     xexyey\_linear[ix] = \textcolor{keyword}{new} \textcolor{keywordtype}{double}[nbins\_slice];}
\DoxyCodeLine{7285     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7286       \textcolor{keywordflow}{if} (ix<2) xexyey\_linear[ix][iy] = xexyey\_mod[ix][iy];}
\DoxyCodeLine{7287       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ix==3) xexyey\_linear[ix][iy] = exp(xexyey\_mod[ix][iy]);}
\DoxyCodeLine{7288       \textcolor{keywordflow}{else} xexyey\_linear[ix][iy] = xexyey\_mod[ix][iy]*xexyey\_linear[ix-\/1][iy];}
\DoxyCodeLine{7289     \}}
\DoxyCodeLine{7290   \}}
\DoxyCodeLine{7291   tgSlice\_linear = \textcolor{keyword}{new} TGraphErrors(nbins\_slice, xexyey\_linear[0], xexyey\_linear[2], xexyey\_linear[1], xexyey\_linear[3]);}
\DoxyCodeLine{7292   \textcolor{keywordtype}{double} integral\_out=tgSlice\_linear-\/>Integral();}
\DoxyCodeLine{7293   \textcolor{keyword}{delete} tgSlice\_linear;}
\DoxyCodeLine{7294   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey\_linear[ix];}
\DoxyCodeLine{7295 }
\DoxyCodeLine{7296   \textcolor{keywordtype}{double} \mbox{\hyperlink{TMCFM_8hh_a80d402d10e8341004c0caf10133b80ab}{scale}} = integral\_out / integral\_in;}
\DoxyCodeLine{7297   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7298     xexyey\_slice[2][iy] = xexyey\_mod[2][iy]*\mbox{\hyperlink{TMCFM_8hh_a80d402d10e8341004c0caf10133b80ab}{scale}};}
\DoxyCodeLine{7299     xexyey\_slice[3][iy] *= xexyey\_mod[2][iy]/xexyey\_slice[2][iy];}
\DoxyCodeLine{7300   \}}
\DoxyCodeLine{7301 }
\DoxyCodeLine{7302   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) \textcolor{keyword}{delete}[] xexyey\_mod[ix];}
\DoxyCodeLine{7303 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a112734e2a1bf2535ddbc456d5fb182a7}\label{calcC__lintolog_8c_a112734e2a1bf2535ddbc456d5fb182a7}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!removePointsBetween@{removePointsBetween}}
\index{removePointsBetween@{removePointsBetween}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{removePointsBetween()}{removePointsBetween()}}
{\footnotesize\ttfamily T\+Graph\+Errors$\ast$ remove\+Points\+Between (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$}]{tg\+Slice,  }\item[{double}]{xmin,  }\item[{double}]{xmax }\end{DoxyParamCaption})}



Definition at line 7305 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7305                                                                                   \{}
\DoxyCodeLine{7306   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins\_slice = tgSlice-\/>GetN();}
\DoxyCodeLine{7307   \textcolor{keywordtype}{double}* xexyey\_slice[4]=\{}
\DoxyCodeLine{7308     tgSlice-\/>GetX(),}
\DoxyCodeLine{7309     tgSlice-\/>GetEX(),}
\DoxyCodeLine{7310     tgSlice-\/>GetY(),}
\DoxyCodeLine{7311     tgSlice-\/>GetEY()}
\DoxyCodeLine{7312   \};}
\DoxyCodeLine{7313 }
\DoxyCodeLine{7314   \textcolor{keywordtype}{double} xexyey[4][nbins\_slice];}
\DoxyCodeLine{7315   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ctr=0;}
\DoxyCodeLine{7316   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7317     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]<=xmax \&\& xexyey\_slice[0][iy]>=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})\{}
\DoxyCodeLine{7318       \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Point to remove with X: "} << xexyey\_slice[0][iy] << endl;}
\DoxyCodeLine{7319       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{7320     \}}
\DoxyCodeLine{7321     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix][ctr] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7322     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Point "} << ctr << \textcolor{stringliteral}{" X: "} << xexyey[0][ctr] << endl;}
\DoxyCodeLine{7323     ctr++;}
\DoxyCodeLine{7324   \}}
\DoxyCodeLine{7325   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"removePointsBetween: "} << \textcolor{stringliteral}{"Starting number of points "} << nbins\_slice << \textcolor{stringliteral}{" final number "} << ctr << endl;}
\DoxyCodeLine{7326   TGraphErrors* tgSlice\_new = \textcolor{keyword}{new} TGraphErrors(ctr, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{7327   tgSlice\_new-\/>SetName(tgSlice-\/>GetName());}
\DoxyCodeLine{7328   tgSlice\_new-\/>SetTitle(tgSlice-\/>GetTitle());}
\DoxyCodeLine{7329   \textcolor{keywordflow}{return} tgSlice\_new;}
\DoxyCodeLine{7330 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}\label{calcC__lintolog_8c_a62e0164fea818810afab547cea757c57}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!replacePointsBetween@{replacePointsBetween}}
\index{replacePointsBetween@{replacePointsBetween}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{replacePointsBetween()}{replacePointsBetween()}}
{\footnotesize\ttfamily T\+Graph\+Errors$\ast$ replace\+Points\+Between (\begin{DoxyParamCaption}\item[{T\+Graph\+Errors $\ast$}]{tg\+Slice,  }\item[{double}]{xmin,  }\item[{double}]{xmax }\end{DoxyParamCaption})}



Definition at line 7332 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{7332                                                                                    \{}
\DoxyCodeLine{7333   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} nbins\_slice = tgSlice-\/>GetN();}
\DoxyCodeLine{7334   \textcolor{keywordtype}{double}* xexyey\_slice[4]=\{}
\DoxyCodeLine{7335     tgSlice-\/>GetX(),}
\DoxyCodeLine{7336     tgSlice-\/>GetEX(),}
\DoxyCodeLine{7337     tgSlice-\/>GetY(),}
\DoxyCodeLine{7338     tgSlice-\/>GetEY()}
\DoxyCodeLine{7339   \};}
\DoxyCodeLine{7340 }
\DoxyCodeLine{7341   \textcolor{keywordtype}{double} xexyey[4][nbins\_slice];}
\DoxyCodeLine{7342   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} lowbin=0, highbin=0;}
\DoxyCodeLine{7343   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7344     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]<\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}}) lowbin=iy;}
\DoxyCodeLine{7345     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]>xmax)\{ highbin=iy; \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{7346   \}}
\DoxyCodeLine{7347   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Low bin "} << lowbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][lowbin] << endl;}
\DoxyCodeLine{7348   \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"High bin "} << highbin << \textcolor{stringliteral}{" at "} << xexyey\_slice[0][highbin] << endl;}
\DoxyCodeLine{7349 }
\DoxyCodeLine{7350   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} iy=0; iy<nbins\_slice; iy++)\{}
\DoxyCodeLine{7351     \textcolor{keywordflow}{if} (xexyey\_slice[0][iy]<=xmax \&\& xexyey\_slice[0][iy]>=\mbox{\hyperlink{TMCFM_8hh_ab5bbe897a0c25c58341c216a1b31fbbf}{xmin}})\{}
\DoxyCodeLine{7352       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++)\{}
\DoxyCodeLine{7353         \textcolor{keywordtype}{double} xlow = xexyey\_slice[0][lowbin];}
\DoxyCodeLine{7354         \textcolor{keywordtype}{double} xhigh = xexyey\_slice[0][highbin];}
\DoxyCodeLine{7355         \textcolor{keywordtype}{double} ylow = xexyey\_slice[ix][lowbin];}
\DoxyCodeLine{7356         \textcolor{keywordtype}{double} yhigh = xexyey\_slice[ix][highbin];}
\DoxyCodeLine{7357         \textcolor{keywordtype}{double} val;}
\DoxyCodeLine{7358         \textcolor{keywordflow}{if} (ix==0) val = xexyey\_slice[0][iy];}
\DoxyCodeLine{7359         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ix==2) val = ylow + (yhigh-\/ylow)/(xhigh-\/xlow)*(xexyey\_slice[0][iy]-\/xlow);}
\DoxyCodeLine{7360         \textcolor{keywordflow}{else} val = xexyey\_slice[ix][iy]*(xexyey[ix-\/1][iy]/xexyey\_slice[ix-\/1][iy]);}
\DoxyCodeLine{7361         xexyey[ix][iy] = val;}
\DoxyCodeLine{7362       \}}
\DoxyCodeLine{7363     \}}
\DoxyCodeLine{7364     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{7365       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ix=0; ix<4; ix++) xexyey[ix][iy] = xexyey\_slice[ix][iy];}
\DoxyCodeLine{7366     \}}
\DoxyCodeLine{7367     \mbox{\hyperlink{namespacedd__global_aaae36494da03fa13a3685638982a01ae}{cout}} << \textcolor{stringliteral}{"Point "} << iy << \textcolor{stringliteral}{" X: "} << xexyey[0][iy] << endl;}
\DoxyCodeLine{7368   \}}
\DoxyCodeLine{7369   TGraphErrors* tgSlice\_new = \textcolor{keyword}{new} TGraphErrors(nbins\_slice, xexyey[0], xexyey[2], xexyey[1], xexyey[3]);}
\DoxyCodeLine{7370   tgSlice\_new-\/>SetName(tgSlice-\/>GetName());}
\DoxyCodeLine{7371   tgSlice\_new-\/>SetTitle(tgSlice-\/>GetTitle());}
\DoxyCodeLine{7372   \textcolor{keywordflow}{return} tgSlice\_new;}
\DoxyCodeLine{7373 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_adeef62b6204427efbfaae118249cb4c2}\label{calcC__lintolog_8c_adeef62b6204427efbfaae118249cb4c2}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!splitOption@{splitOption}}
\index{splitOption@{splitOption}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{splitOption()}{splitOption()}}
{\footnotesize\ttfamily void split\+Option (\begin{DoxyParamCaption}\item[{const string}]{rawoption,  }\item[{string \&}]{wish,  }\item[{string \&}]{value,  }\item[{char}]{delimiter }\end{DoxyParamCaption})}



Definition at line 88 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                                                                      \{}
\DoxyCodeLine{89   \textcolor{keywordtype}{size\_t} posEq = rawoption.find(delimiter);}
\DoxyCodeLine{90   \textcolor{keywordflow}{if} (posEq!=string::npos)\{}
\DoxyCodeLine{91     wish=rawoption;}
\DoxyCodeLine{92     \mbox{\hyperlink{output_8txt_a14cbf2c203e363db8f9aaf1d15b93e1d}{value}}=rawoption.substr(posEq+1);}
\DoxyCodeLine{93     wish.erase(wish.begin()+posEq, wish.end());}
\DoxyCodeLine{94   \}}
\DoxyCodeLine{95   \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{96     wish=\textcolor{stringliteral}{""};}
\DoxyCodeLine{97     \mbox{\hyperlink{output_8txt_a14cbf2c203e363db8f9aaf1d15b93e1d}{value}}=rawoption;}
\DoxyCodeLine{98   \}}
\DoxyCodeLine{99 \}}

\end{DoxyCode}
\mbox{\Hypertarget{calcC__lintolog_8c_aa2f38c31cbb69dcdcedb710bf5435660}\label{calcC__lintolog_8c_aa2f38c31cbb69dcdcedb710bf5435660}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!splitOptionRecursive@{splitOptionRecursive}}
\index{splitOptionRecursive@{splitOptionRecursive}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{splitOptionRecursive()}{splitOptionRecursive()}}
{\footnotesize\ttfamily void split\+Option\+Recursive (\begin{DoxyParamCaption}\item[{const string}]{rawoption,  }\item[{vector$<$ string $>$ \&}]{splitoptions,  }\item[{char}]{delimiter }\end{DoxyParamCaption})}



Definition at line 100 of file calc\+C\+\_\+lintolog.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                                                                                                \{}
\DoxyCodeLine{101   \textcolor{keywordtype}{string} suboption=rawoption, result=rawoption;}
\DoxyCodeLine{102   \textcolor{keywordtype}{string} remnant;}
\DoxyCodeLine{103   \textcolor{keywordflow}{while} (result!=\textcolor{stringliteral}{""})\{}
\DoxyCodeLine{104     \mbox{\hyperlink{calcC__lintolog_8c_adeef62b6204427efbfaae118249cb4c2}{splitOption}}(suboption, result, remnant, delimiter);}
\DoxyCodeLine{105     \textcolor{keywordflow}{if} (result!=\textcolor{stringliteral}{""} \&\& !\mbox{\hyperlink{calcC__lintolog_8c_ac9fdc41deaff5d963cf06dad8f91e869}{checkListVariable}}(splitoptions, result)) splitoptions.push\_back(result);}
\DoxyCodeLine{106     suboption = remnant;}
\DoxyCodeLine{107   \}}
\DoxyCodeLine{108   \textcolor{keywordflow}{if} (remnant!=\textcolor{stringliteral}{""}) splitoptions.push\_back(remnant);}
\DoxyCodeLine{109 \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}\label{calcC__lintolog_8c_a643c1dcc1180ec6668cf3d2e506fc377}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!inputdir\_13TeV@{inputdir\_13TeV}}
\index{inputdir\_13TeV@{inputdir\_13TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{inputdir\_13TeV}{inputdir\_13TeV}}
{\footnotesize\ttfamily T\+String inputdir\+\_\+13\+TeV = \char`\"{}/work-\/zfs/lhc/C\+J\+L\+S\+Ttrees/180214\+\_\+2016\+MC\char`\"{}}



Definition at line 42 of file calc\+C\+\_\+lintolog.\+c.

\mbox{\Hypertarget{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}\label{calcC__lintolog_8c_ad3db335ab1d86d1bc5d0acb14444c0df}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!inputdir\_7TeV@{inputdir\_7TeV}}
\index{inputdir\_7TeV@{inputdir\_7TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{inputdir\_7TeV}{inputdir\_7TeV}}
{\footnotesize\ttfamily T\+String inputdir\+\_\+7\+TeV = \char`\"{}/work-\/zfs/lhc/ianderso/hep/C\+J\+L\+ST/140519/P\+R\+O\+D\+F\+SR\char`\"{}}



Definition at line 40 of file calc\+C\+\_\+lintolog.\+c.

\mbox{\Hypertarget{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}\label{calcC__lintolog_8c_ac94c091c12962c9c2c0a3a5b7a7756e5}} 
\index{calcC\_lintolog.c@{calcC\_lintolog.c}!inputdir\_8TeV@{inputdir\_8TeV}}
\index{inputdir\_8TeV@{inputdir\_8TeV}!calcC\_lintolog.c@{calcC\_lintolog.c}}
\doxysubsubsection{\texorpdfstring{inputdir\_8TeV}{inputdir\_8TeV}}
{\footnotesize\ttfamily T\+String inputdir\+\_\+8\+TeV = \char`\"{}/work-\/zfs/lhc/ianderso/hep/C\+J\+L\+ST/140519b/P\+R\+O\+D\+F\+S\+R\+\_\+8\+TeV\char`\"{}}



Definition at line 41 of file calc\+C\+\_\+lintolog.\+c.

